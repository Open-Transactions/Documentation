<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Open-Transactions: OTMessage Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open-Transactions
   &#160;<span id="projectnumber">master/1066fb4910a63ee3f7de8e0807fee3eb663b66c7</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_o_t_message.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">OTMessage Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="OTMessage" --><!-- doxytag: inherits="OTContract" -->
<p><code>#include &lt;<a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for OTMessage:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_o_t_message.png" usemap="#OTMessage_map" alt=""/>
  <map id="OTMessage_map" name="OTMessage_map">
<area href="class_o_t_contract.html" alt="OTContract" shape="rect" coords="0,0,80,24"/>
</map>
 </div></div>

<p><a href="class_o_t_message-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a147e7c5281511abc4fda3a653466cc1f">OTMessage</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#aa2036fe98f55e817cc8889ed0066ce2d">~OTMessage</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a21b8dcd4f964fc49e1eeeb5a02cfe5f4">VerifyContractID</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a0ed3dfe3a61124318b477ff5c4e5e041">SignContract</a> (const <a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;theNym, <a class="el" href="class_o_t_password_data.html">OTPasswordData</a> *pPWData=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#aa61f745665166abf8bed98f47c6252d0">VerifySignature</a> (const <a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;theNym, <a class="el" href="class_o_t_password_data.html">OTPasswordData</a> *pPWData=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a6331ffbc53709747d82dfb100c3c8f02">HarvestTransactionNumbers</a> (<a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;theNym, const bool bHarvestingForRetry, const bool bReplyWasSuccess, const bool bReplyWasFailure, const bool bTransactionWasSuccess, const bool bTransactionWasFailure)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a1d5e432e2353991e4a52752921e6d915">SetAcknowledgments</a> (<a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;theNym)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#ac723a9009e413214007f3fad46164935">m_strInboxHash</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a997a2b18e078a8350b67a5874b79c812">m_strOutboxHash</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#af528755324c93b7364ddef38cd6b6709">m_strNymPublicKey</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#ad345426f766c28cbbfa9c802b9a7bb46">m_strType</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a8dfedea3c1a03a28ea67310bc4260c2b">m_ascPayload2</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_num_list.html">OTNumList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a8ebd61b24f8b983cf02a1a49d21e3ec4">m_AcknowledgedReplies</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a2d3fecf3324ca955abb23d0a4be0af6b">m_lNewRequestNum</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a2374c052c03bf1d4c7e7dd7555197ba4">m_lTransactionNum</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a7a6c13386c32402195569ccfe9665754">m_bBool</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a3054731e37b5da75a93dedd4c77ee548">m_lTime</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#ae8a6c75fdfb18a5d9d7114351403ee7c">SaveContractWallet</a> (std::ofstream &amp;ofs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a8defa10c6068958c353ff5bc84f22ab8">ProcessXMLNode</a> (<a class="el" href="namespaceirr_1_1io.html#a1628edbb9d5d53f18c82d2a92b0ad27e">irr::io::IrrXMLReader</a> *&amp;xml)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#ae8415b7db5b092c74b85686783b616c2">UpdateContents</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_message.html#a0648d02df0cb258a76fa10bceb533b60">m_bIsSigned</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00145">145</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a147e7c5281511abc4fda3a653466cc1f"></a><!-- doxytag: member="OTMessage::OTMessage" ref="a147e7c5281511abc4fda3a653466cc1f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_message.html#a147e7c5281511abc4fda3a653466cc1f">OTMessage::OTMessage</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8cpp_source.html#l04536">4536</a> of file <a class="el" href="_o_t_message_8cpp_source.html">OTMessage.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                     : <a class="code" href="class_o_t_contract.html#aafd1cfb541fe8f7ae09398e46c25ce52">OTContract</a>(),
<a class="code" href="class_o_t_message.html#a0648d02df0cb258a76fa10bceb533b60">m_bIsSigned</a>(<span class="keyword">false</span>), <a class="code" href="class_o_t_message.html#a2d3fecf3324ca955abb23d0a4be0af6b">m_lNewRequestNum</a>(0),
<a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a>(0),        <a class="code" href="class_o_t_message.html#a2374c052c03bf1d4c7e7dd7555197ba4">m_lTransactionNum</a>(0), 
<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>(<span class="keyword">false</span>),  <a class="code" href="class_o_t_message.html#a7a6c13386c32402195569ccfe9665754">m_bBool</a>(<span class="keyword">false</span>), <a class="code" href="class_o_t_message.html#a3054731e37b5da75a93dedd4c77ee548">m_lTime</a>(0)

{
    <a class="code" href="class_o_t_contract.html#ac523dac7d72b72e54b1ebb5b3a3b21cc">OTContract::m_strContractType</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(<span class="stringliteral">&quot;MESSAGE&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa2036fe98f55e817cc8889ed0066ce2d"></a><!-- doxytag: member="OTMessage::~OTMessage" ref="aa2036fe98f55e817cc8889ed0066ce2d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_message.html#aa2036fe98f55e817cc8889ed0066ce2d">OTMessage::~OTMessage</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8cpp_source.html#l04546">4546</a> of file <a class="el" href="_o_t_message_8cpp_source.html">OTMessage.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6331ffbc53709747d82dfb100c3c8f02"></a><!-- doxytag: member="OTMessage::HarvestTransactionNumbers" ref="a6331ffbc53709747d82dfb100c3c8f02" args="(OTPseudonym &amp;theNym, const bool bHarvestingForRetry, const bool bReplyWasSuccess, const bool bReplyWasFailure, const bool bTransactionWasSuccess, const bool bTransactionWasFailure)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_message.html#a6331ffbc53709747d82dfb100c3c8f02">OTMessage::HarvestTransactionNumbers</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;&#160;</td>
          <td class="paramname"><em>theNym</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>bHarvestingForRetry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>bReplyWasSuccess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>bReplyWasFailure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>bTransactionWasSuccess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>bTransactionWasFailure</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8cpp_source.html#l00153">153</a> of file <a class="el" href="_o_t_message_8cpp_source.html">OTMessage.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// -----------------------------------------------------</span>
    <span class="keyword">const</span> <a class="code" href="class_o_t_identifier.html">OTIdentifier</a>  MSG_NYM_ID  (<a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>),
                        SERVER_ID   (<a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>),
                        ACCOUNT_ID  (<a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() ?
                                     <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a> : <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>); <span class="comment">// This may be unnecessary, but just in case.</span>
    <span class="comment">// -----------------------------------------------------</span>
    <span class="keyword">const</span>
    <a class="code" href="class_o_t_string.html">OTString</a>    strLedger(<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>);
    <span class="comment">// -----------------------------------------------------</span>
    <a class="code" href="class_o_t_ledger.html">OTLedger</a>    theLedger(MSG_NYM_ID, ACCOUNT_ID, SERVER_ID); <span class="comment">// We&#39;re going to load a messsage ledger from *this.</span>
    <span class="comment">// -----------------------------------------------------</span>
    <span class="keywordflow">if</span> (!strLedger.Exists() || !theLedger.LoadLedgerFromString(strLedger))
    {
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: ERROR: Failed trying to load message ledger:\n\n%s\n\n&quot;</span>,
                      __FUNCTION__, strLedger.Get());
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
    <span class="keywordflow">else</span>    <span class="comment">// theLedger is loaded up!</span>
    {       <span class="comment">// Let&#39;s iterate through the transactions inside, and harvest whatever we can...</span>
        <span class="comment">//</span>
        <a class="code" href="_o_t_storage_8hpp.html#aa135ed03585fa4b246d7907afbd5873d">FOR_EACH</a>(<a class="code" href="_o_t_ledger_8hpp.html#a1823ddf57c0de6495aa8ec5da7f1b8f7">mapOfTransactions</a>, theLedger.GetTransactionMap())
        {
            <a class="code" href="class_o_t_transaction.html">OTTransaction</a> * pTransaction = (*it).second;
            <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != pTransaction);
            <span class="comment">// ---------------------</span>
            <span class="comment">//</span>
            <span class="comment">// NOTE: You would ONLY harvest the transaction numbers if your request failed.</span>
            <span class="comment">// Clearly you would never bother harvesting the numbers from a SUCCESSFUL request,</span>
            <span class="comment">// because doing so would only put you out of sync. (This is the same reason why</span>
            <span class="comment">// we DO harvest numbers from UNSUCCESSFUL requests--in order to stay in sync.)</span>
            <span class="comment">//</span>
            <span class="comment">// That having been said, an important distinction must be made between failed</span>
            <span class="comment">// requests where &quot;the message succeeded but the TRANSACTION failed&quot;, versus requests</span>
            <span class="comment">// where the MESSAGE ITSELF failed (meaning the transaction itself never got a</span>
            <span class="comment">// chance to run, and thus never had a chance to fail.)</span>
            <span class="comment">//</span>
            <span class="comment">// In the first case, you don&#39;t want to harvest the opening transaction number</span>
            <span class="comment">// (the primary transaction number for that transaction) because that number was</span>
            <span class="comment">// already burned when the transaction failed. Instead, you want to harvest &quot;all</span>
            <span class="comment">// the others&quot; (the &quot;closing&quot; numbers.)</span>
            <span class="comment">// But in the second case, you want to harvest the opening transaction number as well,</span>
            <span class="comment">// since it is still good (because the transaction never ran.)</span>
            <span class="comment">//</span>
            <span class="comment">// (Therefore the below logic turns on whether or not the message was a success.)</span>
            <span class="comment">//</span>
            <span class="comment">// UPDATE: The logic is now all inside OTTransaction::Harvest...Numbers, you just have to tell it,</span>
            <span class="comment">// when you call it, the state of certain things (message success, transaction success, etc.)</span>
            <span class="comment">//</span>
            
            pTransaction-&gt;<a class="code" href="class_o_t_transaction.html#ac8a30dd62230f12131a77471796fd88a">HarvestOpeningNumber</a>(theNym,
                                               bHarvestingForRetry,
                                               bReplyWasSuccess,
                                               bReplyWasFailure,
                                               bTransactionWasSuccess,
                                               bTransactionWasFailure);
            
            <span class="comment">// -----------------------------------------------</span>
            <span class="comment">// We grab the closing numbers no matter what (whether message succeeded or failed.)</span>
            <span class="comment">// It bears mentioning one more time that you would NEVER harvest in the first place unless</span>
            <span class="comment">// your original request somehow failed. So this is more about WHERE the failure occurred (at</span>
            <span class="comment">// the message level or the transaction level), not WHETHER one occurred.</span>
            <span class="comment">//</span>
            pTransaction-&gt;<a class="code" href="class_o_t_transaction.html#a024827b70ceaf1f9fbf10bd505de348a">HarvestClosingNumbers</a>(theNym,
                                                bHarvestingForRetry,
                                                bReplyWasSuccess,
                                                bReplyWasFailure,
                                                bTransactionWasSuccess,
                                                bTransactionWasFailure);
        } <span class="comment">// FOR_EACH (ledger-&gt;pTransaction)</span>
    } <span class="comment">// else (ledger is loaded up.)</span>
    
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8defa10c6068958c353ff5bc84f22ab8"></a><!-- doxytag: member="OTMessage::ProcessXMLNode" ref="a8defa10c6068958c353ff5bc84f22ab8" args="(irr::io::IrrXMLReader *&amp;xml)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t <a class="el" href="class_o_t_message.html#a8defa10c6068958c353ff5bc84f22ab8">OTMessage::ProcessXMLNode</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceirr_1_1io.html#a1628edbb9d5d53f18c82d2a92b0ad27e">irr::io::IrrXMLReader</a> *&amp;&#160;</td>
          <td class="paramname"><em>xml</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a48611c37c8e8e7d9125238bda2b77978">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_message_8cpp_source.html#l01986">1986</a> of file <a class="el" href="_o_t_message_8cpp_source.html">OTMessage.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    int32_t nReturnVal = 0;
    
    <span class="comment">// Here we call the parent class first.</span>
    <span class="comment">// If the node is found there, or there is some error,</span>
    <span class="comment">// then we just return either way.  But if it comes back</span>
    <span class="comment">// as &#39;0&#39;, then nothing happened, and we&#39;ll continue executing.</span>
    <span class="comment">//</span>
    <span class="comment">// -- Note you can choose not to call the parent if</span>
    <span class="comment">// you don&#39;t want to use any of those xml tags.</span>
    <span class="comment">// As I do below, in the case of OTAccount.</span>
    <span class="comment">//</span>
    <span class="comment">// if (nReturnVal = OTContract::ProcessXMLNode(xml))</span>
    <span class="comment">//    return nReturnVal;</span>
    
    <span class="comment">// --------------------------------------------------</span>
    
    <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strNodeName(xml-&gt;getNodeName());
    
    <a class="code" href="class_o_t_string.html">OTString</a>    strSuccess; <span class="comment">// Many blocks below use this string, and when they declared it individually,</span>
    <span class="comment">// our stack frame got too big. So I&#39;m moving it here, so they can all use it, instead of declaring</span>
    <span class="comment">// so many different copies of it (nearly one for each block.)</span>
    <span class="comment">// Same with these:</span>
    
    <span class="keyword">const</span> <span class="keywordtype">char</span> *    pElementExpected;
    
    <a class="code" href="class_o_t_string.html">OTString</a> strDepth;
    <a class="code" href="class_o_t_string.html">OTString</a> strTransactionNum;
    <span class="comment">// *******************************************************************************************</span>
    
    
    <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;ackReplies&quot;</span>))
    {
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#a72ffe11fdcf2f6e3566afa9061241f30">OTContract::LoadEncodedTextField</a>(xml, strDepth))
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: ackReplies field without value.\n&quot;</span>);
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_message.html#a8ebd61b24f8b983cf02a1a49d21e3ec4">m_AcknowledgedReplies</a>.<a class="code" href="class_o_t_num_list.html#ab90b486b8dc6ac66a34724c6da4f7ec5">Release</a>();
        
        <span class="keywordflow">if</span> (strDepth.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_message.html#a8ebd61b24f8b983cf02a1a49d21e3ec4">m_AcknowledgedReplies</a>.Add(strDepth);
        
        nReturnVal = 1;
    }
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;acknowledgedReplies&quot;</span>))
    {
        <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTMessage::ProcessXMLNode: SKIPPING DEPRECATED FIELD: acknowledgedReplies\n&quot;</span>);
        
        <span class="keywordflow">while</span> (xml-&gt;getNodeType() != irr::io::EXN_ELEMENT_END)
        {
            xml-&gt;read();
        }
        
        nReturnVal = 1;
    }
    
    <span class="comment">// *******************************************************************************************</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;OTmessage&quot;</span>))
    {
        <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;version&quot;</span>);
    
        <a class="code" href="class_o_t_string.html">OTString</a> strDateSigned = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;dateSigned&quot;</span>);
        
        <span class="keywordflow">if</span> (strDateSigned.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_message.html#a3054731e37b5da75a93dedd4c77ee548">m_lTime</a> = atol(strDateSigned.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(2, <span class="stringliteral">&quot;\n===&gt; Loading XML for Message into memory structures...\n&quot;</span>, <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getMarketList&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getMarketList&quot;</span>))
    {
<span class="comment">//      std::cerr &lt;&lt; m_xmlUnsigned.Get() &lt;&lt; std::endl;</span>
        
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        
        strDepth = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;depth&quot;</span>);
        
        <span class="keywordflow">if</span> (strDepth.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 0)
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = atol(strDepth.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected = NULL;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> &gt; 0))
            pElementExpected = <span class="stringliteral">&quot;messagePayload&quot;</span>;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <span class="keywordflow">if</span> (NULL != pElementExpected)
        {
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
            
            <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
                <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(ascTextExpected);
            <span class="keywordflow">else</span>
                <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(ascTextExpected);
        }
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\n ServerID: %s\n\n&quot;</span>,
                           <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                           <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()); <span class="comment">// m_ascPayload.Get()</span>
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\n ServerID: %s\n\n&quot;</span>,
                           <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                           <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>() <span class="comment">// m_ascInReferenceTo.Get()</span>
                           );
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getMarketOffers&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;marketID&quot;</span>);
        
        strDepth = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;depth&quot;</span>);
        
        <span class="keywordflow">if</span> (strDepth.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 0)
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = atol(strDepth.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\n Market ID: %s\n Request #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getMarketOffers&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;marketID&quot;</span>);
        
        
        strDepth = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;depth&quot;</span>);
        
        <span class="keywordflow">if</span> (strDepth.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 0)
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = atol(strDepth.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected = NULL;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> &gt; 0))
            pElementExpected = <span class="stringliteral">&quot;messagePayload&quot;</span>;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <span class="keywordflow">if</span> (NULL != pElementExpected)
        {
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
            
            <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
                <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(ascTextExpected);
            <span class="keywordflow">else</span>
                <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a> = ascTextExpected;
        }
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\n ServerID: %s\n MarketID: %s\n\n&quot;</span>,
                           <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                           <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()); <span class="comment">// m_ascPayload.Get()</span>
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\n ServerID: %s\n MarketID: %s\n\n&quot;</span>,
                           <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                           <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>() <span class="comment">// m_ascInReferenceTo.Get()</span>
                           );
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getMarketRecentTrades&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;marketID&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\n Market ID: %s\n Request #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getMarketRecentTrades&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;marketID&quot;</span>);
        
        
        strDepth = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;depth&quot;</span>);
        
        <span class="keywordflow">if</span> (strDepth.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 0)
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = atol(strDepth.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected = NULL;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> &gt; 0))
            pElementExpected = <span class="stringliteral">&quot;messagePayload&quot;</span>;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <span class="keywordflow">if</span> (NULL != pElementExpected)
        {
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
            
            <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
                <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(ascTextExpected);
            <span class="keywordflow">else</span>
                <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a> = ascTextExpected;
        }
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\n ServerID: %s\n MarketID: %s\n\n&quot;</span>,
                           <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                           <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()); <span class="comment">// m_ascPayload.Get()</span>
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\n ServerID: %s\n MarketID: %s\n\n&quot;</span>,
                           <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                           <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>() <span class="comment">// m_ascInReferenceTo.Get()</span>
                           );
        
        nReturnVal = 1;
    }
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getNym_MarketOffers&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getNym_MarketOffers&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        
        strDepth = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;depth&quot;</span>);
        
        <span class="keywordflow">if</span> (strDepth.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 0)
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = atol(strDepth.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected = NULL;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> &gt; 0))
            pElementExpected = <span class="stringliteral">&quot;messagePayload&quot;</span>;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <span class="keywordflow">if</span> (NULL != pElementExpected)
        {
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
            
            <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
                <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(ascTextExpected);
            <span class="keywordflow">else</span>
                <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a> = ascTextExpected;
        }
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\n ServerID: %s\n\n&quot;</span>,
                           <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                           <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()); <span class="comment">// m_ascPayload.Get()</span>
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\n ServerID: %s\n\n&quot;</span>,
                           <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                           <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>() <span class="comment">// m_ascInReferenceTo.Get()</span>
                           );
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;checkServerID&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>     = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>  = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>       = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>    = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <span class="comment">// -----------------------------------------------------</span>
        pElementExpected = <span class="stringliteral">&quot;publicAuthentKey&quot;</span>;
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> ascTextExpected;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_message.html#af528755324c93b7364ddef38cd6b6709">m_strNymPublicKey</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(ascTextExpected);
        <span class="comment">// -----------------------------------------------------</span>
        pElementExpected = <span class="stringliteral">&quot;publicEncryptionKey&quot;</span>;
        ascTextExpected.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(ascTextExpected);
        <span class="comment">// -----------------------------------------------------</span>
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\n\n Public signing key:\n%s\nPublic encryption key:\n%s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#af528755324c93b7364ddef38cd6b6709">m_strNymPublicKey</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@checkServerID&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nSuccess: %s\nNymID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), strSuccess.Get(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;createUserAccount&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>     = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>  = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>       = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>    = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <span class="comment">// -----------------------------------------------------</span>
        pElementExpected = <span class="stringliteral">&quot;credentialList&quot;</span>;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        <span class="comment">// -----------------------------------------------------</span>
        pElementExpected = <span class="stringliteral">&quot;credentials&quot;</span>;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, <a class="code" href="class_o_t_message.html#a8dfedea3c1a03a28ea67310bc4260c2b">m_ascPayload2</a>, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        <span class="comment">// -----------------------------------------------------</span>
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@createUserAccount&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <span class="comment">// -----------------------------------------------------</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
        {
            pElementExpected    = <span class="stringliteral">&quot;nymfile&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// -----------------------------------------------------</span>
        pElementExpected    = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        <span class="comment">// -----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s  %s\nNymID:    %s\nServerID: %s\n\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;deleteUserAccount&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@deleteUserAccount&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <span class="comment">// -----------------------------------------------------</span>
        
        pElementExpected    = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s  %s\nNymID:    %s\nServerID: %s\n\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getRequest&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getRequest&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymboxHash&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <span class="keyword">const</span>
        <a class="code" href="class_o_t_string.html">OTString</a> strNewRequestNum = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;newRequestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a2d3fecf3324ca955abb23d0a4be0af6b">m_lNewRequestNum</a> = strNewRequestNum.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() ? atol(strNewRequestNum.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()) : 0;
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\nRequest Number:    %s  New Number: %lld\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a2d3fecf3324ca955abb23d0a4be0af6b">m_lNewRequestNum</a>);
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;outmailMessage&quot;</span>) ||
             strNodeName.Compare(<span class="stringliteral">&quot;outpaymentsMessage&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID2&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <span class="comment">// ----------------------------------------------------</span>
        
        pElementExpected    = <span class="stringliteral">&quot;messagePayload&quot;</span>;
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <span class="comment">// ---------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nNymID2:    %s\nServerID: %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;sendUserMessage&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID2&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        pElementExpected    = <span class="stringliteral">&quot;messagePayload&quot;</span>;
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nNymID2:    %s\nServerID: %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@sendUserMessage&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID2&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nNymID2:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                       );
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;sendUserInstrument&quot;</span>) ||
             strNodeName.Compare(<span class="stringliteral">&quot;payDividend&quot;</span>))  <span class="comment">// not a real message. Used by server when sending vouchers to people.</span>
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID2&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        pElementExpected    = <span class="stringliteral">&quot;messagePayload&quot;</span>;
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nNymID2:    %s\nServerID: %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@sendUserInstrument&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID2&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nNymID2:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                       );
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;usageCredits&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID2&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_string.html">OTString</a> strAdjustment = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;adjustment&quot;</span>);
        
        <span class="keywordflow">if</span> (strAdjustment.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 0)
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = atol(strAdjustment.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nNymID2:    %s\nServerID: %s\nRequest #: %s\nAdjustment: %lld\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a>);
        
        nReturnVal = 1;
    }
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@usageCredits&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID2&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <a class="code" href="class_o_t_string.html">OTString</a> strTotalCredits = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;totalCredits&quot;</span>);
        
        <span class="keywordflow">if</span> (strTotalCredits.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 0)
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = atol(strTotalCredits.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="comment">// -----------------------------------------------------</span>
        
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nNymID2:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\nTotal Credits: %lld \n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a>);
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;checkUser&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID2&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nNymID2:    %s\nServerID: %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@checkUser&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID2&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a>  strHasCredentials(xml-&gt;getAttributeValue(<span class="stringliteral">&quot;hasCredentials&quot;</span>));
        <span class="keyword">const</span> <span class="keywordtype">bool</span>      bHasCredentials = strHasCredentials.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;true&quot;</span>);
        <span class="comment">// -----------------------------------------------------</span>
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected = NULL;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            pElementExpected = <span class="stringliteral">&quot;nymPublicKey&quot;</span>;
        <span class="keywordflow">else</span>
            pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> ascTextExpected;
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_message.html#af528755324c93b7364ddef38cd6b6709">m_strNymPublicKey</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(ascTextExpected);
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a> = ascTextExpected;
        <span class="comment">// -----------------------------------------------------</span>
        <span class="keywordflow">if</span> (bHasCredentials)
        {
            pElementExpected = <span class="stringliteral">&quot;credentialList&quot;</span>;
            ascTextExpected.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
            <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a> = ascTextExpected;
            <span class="comment">// -----------------------------------------------------</span>
            pElementExpected = <span class="stringliteral">&quot;credentials&quot;</span>;
            ascTextExpected.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
            <a class="code" href="class_o_t_message.html#a8dfedea3c1a03a28ea67310bc4260c2b">m_ascPayload2</a> = ascTextExpected;
        }
        <span class="comment">// -----------------------------------------------------</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nNymID2:    %s\n&quot;</span>
                           <span class="stringliteral">&quot;ServerID: %s\nNym2 Public Key:\n%s\n\n&quot;</span>,
                           <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                           <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                           <a class="code" href="class_o_t_message.html#af528755324c93b7364ddef38cd6b6709">m_strNymPublicKey</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nNymID2:    %s\n&quot;</span>
                           <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                           <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                           <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>() <span class="comment">// m_ascInReferenceTo.Get()</span>
                           );
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;issueAssetType&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>    = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;assetType&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <span class="comment">// ----------------------------------------------------</span>
        
        pElementExpected    = <span class="stringliteral">&quot;assetContract&quot;</span>;
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <span class="comment">// ---------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s \nNymID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\nRequest#: %s\nAsset Type:\n%s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@issueAssetType&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>    = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;assetType&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        
        <span class="comment">// If successful, we need to read 2 more things: inReferenceTo and issuerAccount payload.</span>
        <span class="comment">// If failure, then we only need to read 1 thing: inReferenceTo</span>
        <span class="comment">// At this point, we do not send the REASON WHY if it failed.</span>
        
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
        {
            pElementExpected    = <span class="stringliteral">&quot;issuerAccount&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ---------------------------------------------------</span>
        
        <span class="comment">// Did we find everything we were looking for?</span>
        <span class="comment">// If the &quot;command responding to&quot; isn&#39;t there,</span>
        <span class="comment">// OR if it was successful but the Payload isn&#39;t there, then failure.</span>
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() || (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; !<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>()))
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode:\n&quot;</span>
                         <span class="stringliteral">&quot;Expected issuerAccount and/or inReferenceTo elements with text fields in &quot;</span>
                         <span class="stringliteral">&quot;@issueAssetType reply\n&quot;</span>);
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_string.html">OTString</a> acctContents(<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>);
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nAccountID: %s\nAsset Type ID: %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <span class="comment">//   &quot;****New Account****:\n%s\n&quot;,</span>
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>?<span class="stringliteral">&quot;SUCCESS&quot;</span>:<span class="stringliteral">&quot;FAILED&quot;</span>), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                       <span class="comment">//   m_ascInReferenceTo.Get(),</span>
                       <span class="comment">//acctContents.Get()</span>
                       );
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;queryAssetTypes&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <span class="comment">// ----------------------------------------------------</span>
        
        pElementExpected    = <span class="stringliteral">&quot;stringMap&quot;</span>;
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
        
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <span class="comment">// ---------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s \nNymID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\nRequest#: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@queryAssetTypes&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <span class="comment">// If successful, we need to read 2 more things: inReferenceTo and issuerAccount payload.</span>
        <span class="comment">// If failure, then we only need to read 1 thing: inReferenceTo</span>
        <span class="comment">// At this point, we do not send the REASON WHY if it failed.</span>
        
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
        {
            pElementExpected    = <span class="stringliteral">&quot;stringMap&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ---------------------------------------------------</span>
        
        <span class="comment">// Did we find everything we were looking for?</span>
        <span class="comment">// If the &quot;command responding to&quot; isn&#39;t there,</span>
        <span class="comment">// OR if it was successful but the Payload isn&#39;t there, then failure.</span>
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() || (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; !<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>()))
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode:\n&quot;</span>
                         <span class="stringliteral">&quot;Expected stringMap and/or inReferenceTo elements with text fields in &quot;</span>
                         <span class="stringliteral">&quot;@queryAssetTypes reply\n&quot;</span>);
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n Command: %s   %s\n NymID:    %s\n ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>?<span class="stringliteral">&quot;SUCCESS&quot;</span>:<span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                       );
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;createAccount&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>    = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;assetType&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s \nNymID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\nRequest#: %s\nAsset Type:\n%s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@createAccount&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        
        
        <span class="comment">// If successful, we need to read 2 more things: inReferenceTo and issuerAccount payload.</span>
        <span class="comment">// If failure, then we only need to read 1 thing: inReferenceTo</span>
        <span class="comment">// At this point, we do not send the REASON WHY if it failed.</span>
        
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="comment">//              return (-1); // error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
        {
            pElementExpected    = <span class="stringliteral">&quot;newAccount&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ---------------------------------------------------</span>
        
        <span class="comment">// Did we find everything we were looking for?</span>
        <span class="comment">// If the &quot;command responding to&quot; isn&#39;t there,</span>
        <span class="comment">// OR if it was successful but the Payload isn&#39;t there, then failure.</span>
        <span class="comment">//</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; !<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode:\n&quot;</span>
                         <span class="stringliteral">&quot;Expected newAccount element with text field, in &quot;</span>
                         <span class="stringliteral">&quot;@createAccount reply\n&quot;</span>);
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nAccountID: %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <span class="comment">//   &quot;****New Account****:\n%s\n&quot;,</span>
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>?<span class="stringliteral">&quot;SUCCESS&quot;</span>:<span class="stringliteral">&quot;FAILED&quot;</span>), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                       <span class="comment">//   m_ascInReferenceTo.Get(),</span>
                       <span class="comment">//acctContents.Get()</span>
                       );
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getBoxReceipt&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        strTransactionNum = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;transactionNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a2374c052c03bf1d4c7e7dd7555197ba4">m_lTransactionNum</a> = strTransactionNum.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() ? atol(strTransactionNum.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()) : 0;
        <span class="comment">// ----------------------------------------------------</span>
        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strBoxType = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;boxType&quot;</span>);
        <span class="comment">// ----------------------------------------------------</span>
        <span class="keywordflow">if</span> (strBoxType.Compare(<span class="stringliteral">&quot;nymbox&quot;</span>))
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = 0;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strBoxType.Compare(<span class="stringliteral">&quot;inbox&quot;</span>))
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = 1;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strBoxType.Compare(<span class="stringliteral">&quot;outbox&quot;</span>))
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = 2;
        <span class="keywordflow">else</span>
        {
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = 0;
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode:\n&quot;</span>
                         <span class="stringliteral">&quot;Expected boxType to be inbox, outbox, or nymbox, in &quot;</span>
                         <span class="stringliteral">&quot;getBoxReceipt\n&quot;</span>);
            <span class="keywordflow">return</span> (-1);
        }
        <span class="comment">// ----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n Command: %s \n NymID:    %s\n AccountID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot; ServerID: %s\n Request#: %s  Transaction#: %lld   boxType: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a2374c052c03bf1d4c7e7dd7555197ba4">m_lTransactionNum</a>,
                       (<a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> == 0) ? <span class="stringliteral">&quot;nymbox&quot;</span> : ((m_lDepth == 1) ? <span class="stringliteral">&quot;inbox&quot;</span> : <span class="stringliteral">&quot;outbox&quot;</span>)); <span class="comment">// outbox is 2.);</span>
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getBoxReceipt&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        
        strTransactionNum = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;transactionNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a2374c052c03bf1d4c7e7dd7555197ba4">m_lTransactionNum</a> = strTransactionNum.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() ? atol(strTransactionNum.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()) : 0;
        <span class="comment">// ----------------------------------------------------</span>
        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strBoxType = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;boxType&quot;</span>);
        <span class="comment">// ----------------------------------------------------</span>
        <span class="keywordflow">if</span> (strBoxType.Compare(<span class="stringliteral">&quot;nymbox&quot;</span>))
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = 0;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strBoxType.Compare(<span class="stringliteral">&quot;inbox&quot;</span>))
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = 1;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strBoxType.Compare(<span class="stringliteral">&quot;outbox&quot;</span>))
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = 2;
        <span class="keywordflow">else</span>
        {
            <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> = 0;
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode:\n&quot;</span>
                         <span class="stringliteral">&quot;Expected boxType to be inbox, outbox, or nymbox, in &quot;</span>
                         <span class="stringliteral">&quot;@getBoxReceipt reply\n&quot;</span>);
            <span class="keywordflow">return</span> (-1);
        }
        <span class="comment">// ----------------------------------------------------</span>
        <span class="comment">// inReferenceTo contains the getBoxReceipt (original request)</span>
        <span class="comment">// At this point, we do not send the REASON WHY if it failed.</span>
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
        {
            pElementExpected    = <span class="stringliteral">&quot;boxReceipt&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ---------------------------------------------------</span>
        
        <span class="comment">// Did we find everything we were looking for?</span>
        <span class="comment">// If the &quot;command responding to&quot; isn&#39;t there,</span>
        <span class="comment">// OR if it was successful but the Payload isn&#39;t there, then failure.</span>
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() || (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; !<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>()))
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode:\n&quot;</span>
                         <span class="stringliteral">&quot;Expected boxReceipt and/or inReferenceTo elements with text fields in &quot;</span>
                         <span class="stringliteral">&quot;@getBoxReceipt reply\n&quot;</span>);
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nAccountID: %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <span class="comment">//   &quot;****New Account****:\n%s\n&quot;,</span>
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>?<span class="stringliteral">&quot;SUCCESS&quot;</span>:<span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;deleteAssetAccount&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <span class="comment">// ----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n Command: %s \n NymID:    %s\n AccountID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot; ServerID: %s\n Request#: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@deleteAssetAccount&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        
        <span class="comment">// inReferenceTo contains the deleteAssetAccount (original request)</span>
        <span class="comment">// At this point, we do not send the REASON WHY if it failed.</span>
        
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        <span class="comment">// Did we find everything we were looking for?</span>
        <span class="comment">// If the &quot;command responding to&quot; isn&#39;t there, then failure.</span>
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode:\n&quot;</span>
                         <span class="stringliteral">&quot;Expected inReferenceTo element with text fields in &quot;</span>
                         <span class="stringliteral">&quot;@deleteAssetAccount reply\n&quot;</span>);
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nAccountID: %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <span class="comment">//   &quot;****New Account****:\n%s\n&quot;,</span>
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>?<span class="stringliteral">&quot;SUCCESS&quot;</span>:<span class="stringliteral">&quot;FAILED&quot;</span>), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                       <span class="comment">//   m_ascInReferenceTo.Get(),</span>
                       <span class="comment">//acctContents.Get()</span>
                       );
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;issueBasket&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;currencyBasket&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        
        <span class="comment">// Did we find everything we were looking for?</span>
        <span class="comment">// If the Payload isn&#39;t there, then failure.</span>
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode:\n&quot;</span>
                         <span class="stringliteral">&quot;Expected currencyBasket element with text fields in &quot;</span>
                         <span class="stringliteral">&quot;issueBasket message\n&quot;</span>);
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s \nNymID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\nRequest#: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@issueBasket&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>    = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;assetType&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected = <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        
        <span class="comment">// Did we find everything we were looking for?</span>
        <span class="comment">// If the &quot;command responding to&quot; isn&#39;t there,</span>
        <span class="comment">// OR if it was successful but the Payload isn&#39;t there, then failure.</span>
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode:\n&quot;</span>
                         <span class="stringliteral">&quot;Expected inReferenceTo element with text fields in &quot;</span>
                         <span class="stringliteral">&quot;@issueBasket reply\n&quot;</span>);
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nAccountID: %s\nAssetTypeID: %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>?<span class="stringliteral">&quot;SUCCESS&quot;</span>:<span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                       );
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getTransactionNum&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymboxHash&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n Command: %s \n NymID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot; ServerID: %s\n Request#: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getTransactionNum&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymboxHash&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n Command: %s   %s\n NymID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot; ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>?<span class="stringliteral">&quot;SUCCESS&quot;</span>:<span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                       );
        
        nReturnVal = 1;
    }
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;notarizeTransactions&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymboxHash&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;accountLedger&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n Command: %s \n NymID:    %s\n AccountID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot; ServerID: %s\n Request#: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@notarizeTransactions&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        
        <span class="comment">// If successful or failure, we need to read 2 more things:</span>
        <span class="comment">// inReferenceTo and the responseLedger payload.</span>
        <span class="comment">// At this point, we do not send the REASON WHY if it failed.</span>
        
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;responseLedger&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        
        <span class="comment">// Did we find everything we were looking for?</span>
        <span class="comment">// If the &quot;command responding to&quot; isn&#39;t there, or the Payload isn&#39;t there, then failure.</span>
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() || (!<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>()))
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode:\n&quot;</span>
                         <span class="stringliteral">&quot;Expected responseLedger and/or inReferenceTo elements with text fields in &quot;</span>
                         <span class="stringliteral">&quot;@notarizeTransactions reply\n&quot;</span>);
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <span class="comment">//      OTString acctContents(m_ascPayload);</span>
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n Command: %s   %s\n NymID:    %s\n AccountID: %s\n&quot;</span>
                       <span class="stringliteral">&quot; ServerID: %s\n\n&quot;</span>,
                       <span class="comment">//   &quot;****New Account****:\n%s\n&quot;,</span>
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>?<span class="stringliteral">&quot;SUCCESS&quot;</span>:<span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                       <span class="comment">//   m_ascInReferenceTo.Get(),</span>
                       <span class="comment">//acctContents.Get()</span>
                       );
        
        nReturnVal = 1;
    }
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getInbox&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\nAccountID:    %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getNymbox&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),<a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getInbox&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ac723a9009e413214007f3fad46164935">m_strInboxHash</a>  = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;inboxHash&quot;</span>);
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            pElementExpected = <span class="stringliteral">&quot;inboxLedger&quot;</span>;
        <span class="keywordflow">else</span>
            pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a> = ascTextExpected;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a> = ascTextExpected;
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nAccountID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getNymbox&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymboxHash&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            pElementExpected = <span class="stringliteral">&quot;nymboxLedger&quot;</span>;
        <span class="keywordflow">else</span>
            pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a> = ascTextExpected;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a> = ascTextExpected;
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getOutbox&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\nAccountID:    %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getOutbox&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a997a2b18e078a8350b67a5874b79c812">m_strOutboxHash</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;outboxHash&quot;</span>);
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            pElementExpected = <span class="stringliteral">&quot;outboxLedger&quot;</span>;
        <span class="keywordflow">else</span>
            pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a> = ascTextExpected;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a> = ascTextExpected;
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nAccountID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getAccount&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\nAccountID:    %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getAccount&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            pElementExpected = <span class="stringliteral">&quot;assetAccount&quot;</span>;
        <span class="keywordflow">else</span>
            pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a> = ascTextExpected;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a> = ascTextExpected;
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nAccountID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getAccountFiles&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\nAccountID:    %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getAccountFiles&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ac723a9009e413214007f3fad46164935">m_strInboxHash</a>  = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;inboxHash&quot;</span>);
        <a class="code" href="class_o_t_message.html#a997a2b18e078a8350b67a5874b79c812">m_strOutboxHash</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;outboxHash&quot;</span>);

        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            pElementExpected = <span class="stringliteral">&quot;acctFiles&quot;</span>;
        <span class="keywordflow">else</span>
            pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a> = ascTextExpected;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a> = ascTextExpected;
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nAccountID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>

    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getContract&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>    = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;assetType&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\nAsset Type:    %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getContract&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>    = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;assetType&quot;</span>);
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            pElementExpected = <span class="stringliteral">&quot;assetContract&quot;</span>;
        <span class="keywordflow">else</span>
            pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a> = ascTextExpected;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a> = ascTextExpected;
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nAsset Type ID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;getMint&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>    = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;assetType&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\nAsset Type:    %s\nRequest #: %s\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTMint object.</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@getMint&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>    = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;assetType&quot;</span>);
        
        <span class="comment">// -----------------------------------------------------</span>
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            pElementExpected = <span class="stringliteral">&quot;mint&quot;</span>;
        <span class="keywordflow">else</span>
            pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
            <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a> = ascTextExpected;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a> = ascTextExpected;
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s\nAsset Type ID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot;ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;triggerClause&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymboxHash&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;clauseName&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strHasParam = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;hasParam&quot;</span>);
        
        strTransactionNum = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;smartContractID&quot;</span>);
        <span class="keywordflow">if</span> (strTransactionNum.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_message.html#a2374c052c03bf1d4c7e7dd7555197ba4">m_lTransactionNum</a> = atol(strTransactionNum.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="keywordflow">if</span> (strHasParam.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;true&quot;</span>))
        {
            pElementExpected = <span class="stringliteral">&quot;parameter&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
            <span class="keywordflow">else</span>
                <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a> = ascTextExpected;
            <span class="comment">// -----------------------------------------------------</span>
        }
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s\nNymID:    %s\nServerID: %s\nClause TransNum and Name:  %lld  /  %s \n&quot;</span>
                       <span class="stringliteral">&quot;Request #: %s\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a2374c052c03bf1d4c7e7dd7555197ba4">m_lTransactionNum</a>,
                       <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@triggerClause&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <span class="keyword">const</span> <span class="keywordtype">char</span> * pElementExpected = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
        
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a>    ascTextExpected;
        
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                          <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                          pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a> = ascTextExpected;
        
        <span class="comment">// -----------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\nCommand: %s   %s\nNymID:    %s   ServerID: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;SUCCESS&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;processInbox&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymboxHash&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;processLedger&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ---------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n Command: %s \n NymID:    %s\n AccountID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot; ServerID: %s\n Request#: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;processNymbox&quot;</span>))
    {
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymboxHash&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;processLedger&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ---------------------------------------------------</span>
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n Command: %s \n NymID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot; ServerID: %s\n Request#: %s\n\n&quot;</span>,
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        nReturnVal = 1;
    }
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@processInbox&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>);
        
        <span class="comment">// If successful or failure, we need to read 2 more things:</span>
        <span class="comment">// inReferenceTo and the responseLedger payload.</span>
        <span class="comment">// At this point, we do not send the REASON WHY if it failed.</span>
        
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;responseLedger&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        
        <span class="comment">// Did we find everything we were looking for?</span>
        <span class="comment">// If the &quot;command responding to&quot; isn&#39;t there, or the Payload isn&#39;t there, then failure.</span>
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() || (!<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>()))
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode:\n&quot;</span>
                         <span class="stringliteral">&quot;Expected responseLedger and/or inReferenceTo elements with text fields in &quot;</span>
                         <span class="stringliteral">&quot;@processInbox reply\n&quot;</span>);
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n Command: %s   %s\n NymID:    %s\n AccountID: %s\n&quot;</span>
                       <span class="stringliteral">&quot; ServerID: %s\n\n&quot;</span>,
                       <span class="comment">//   &quot;****New Account****:\n%s\n&quot;,</span>
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>?<span class="stringliteral">&quot;SUCCESS&quot;</span>:<span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                       );
        
        nReturnVal = 1;
    }
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;@processNymbox&quot;</span>))
    {
        strSuccess      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;success&quot;</span>);
        <span class="keywordflow">if</span> (strSuccess.Compare(<span class="stringliteral">&quot;true&quot;</span>))
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">true</span>;
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>    = xml-&gt;getNodeName();  <span class="comment">// Command</span>
        <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;requestNum&quot;</span>);
        <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>      = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;nymID&quot;</span>);
        <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>);
        
        <span class="comment">// If successful or failure, we need to read 2 more things:</span>
        <span class="comment">// inReferenceTo and the responseLedger payload.</span>
        <span class="comment">// At this point, we do not send the REASON WHY if it failed.</span>
        
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;inReferenceTo&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        {
            pElementExpected    = <span class="stringliteral">&quot;responseLedger&quot;</span>;
            <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> &amp;  ascTextExpected     = <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>;
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#ac374831c4a1fad9d016d39d640a285ac">OTContract::LoadEncodedTextFieldByName</a>(xml, ascTextExpected, pElementExpected))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode: &quot;</span>
                              <span class="stringliteral">&quot;Expected %s element with text field, for %s.\n&quot;</span>,
                              pElementExpected, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
            }
        }
        <span class="comment">// ----------------------------------------------------</span>
        
        <span class="comment">// Did we find everything we were looking for?</span>
        <span class="comment">// If the &quot;command responding to&quot; isn&#39;t there, or the Payload isn&#39;t there, then failure.</span>
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() || (!<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>()))
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTMessage::ProcessXMLNode:\n&quot;</span>
                         <span class="stringliteral">&quot;Expected responseLedger and/or inReferenceTo elements with text fields in &quot;</span>
                         <span class="stringliteral">&quot;@processNymbox reply\n&quot;</span>);
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n Command: %s   %s\n NymID:    %s\n&quot;</span>
                       <span class="stringliteral">&quot; ServerID: %s\n\n&quot;</span>,
                       <span class="comment">//   &quot;****New Account****:\n%s\n&quot;,</span>
                       <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>?<span class="stringliteral">&quot;SUCCESS&quot;</span>:<span class="stringliteral">&quot;FAILED&quot;</span>),
                       <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                       );
        
        nReturnVal = 1;
    }
    
    
    <span class="comment">// -------------------------------------------------------------------------------------------</span>
    
    <span class="keywordflow">return</span> nReturnVal;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae8a6c75fdfb18a5d9d7114351403ee7c"></a><!-- doxytag: member="OTMessage::SaveContractWallet" ref="ae8a6c75fdfb18a5d9d7114351403ee7c" args="(std::ofstream &amp;ofs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_message.html#ae8a6c75fdfb18a5d9d7114351403ee7c">OTMessage::SaveContractWallet</a> </td>
          <td>(</td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>ofs</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="class_o_t_contract.html#af16a41ce18a9e3408fc5c9ee18315a30">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_message_8cpp_source.html#l04554">4554</a> of file <a class="el" href="_o_t_message_8cpp_source.html">OTMessage.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_string.html">OTString</a> strContract;
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_contract.html#a5fd00cded794a6f96ba80d8d4081d591">SaveContractRaw</a>(strContract))
    {
        ofs &lt;&lt; strContract.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>();
        
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">else</span> 
    {
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1d5e432e2353991e4a52752921e6d915"></a><!-- doxytag: member="OTMessage::SetAcknowledgments" ref="a1d5e432e2353991e4a52752921e6d915" args="(OTPseudonym &amp;theNym)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_message.html#a1d5e432e2353991e4a52752921e6d915">OTMessage::SetAcknowledgments</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;&#160;</td>
          <td class="paramname"><em>theNym</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8cpp_source.html#l00242">242</a> of file <a class="el" href="_o_t_message_8cpp_source.html">OTMessage.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_message.html#a8ebd61b24f8b983cf02a1a49d21e3ec4">m_AcknowledgedReplies</a>.<a class="code" href="class_o_t_num_list.html#ab90b486b8dc6ac66a34724c6da4f7ec5">Release</a>();
    <span class="comment">// -------------------</span>
    
    <span class="keyword">const</span> <a class="code" href="class_o_t_identifier.html">OTIdentifier</a> theServerID(<a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>);
    
    <a class="code" href="_o_t_storage_8hpp.html#aa135ed03585fa4b246d7907afbd5873d">FOR_EACH</a>(<a class="code" href="_o_t_pseudonym_8hpp.html#ac99ad82dc6c392a0a8c851c6041b62f1">mapOfTransNums</a>, theNym.<a class="code" href="class_o_t_pseudonym.html#a85032e117d04c1682eb6dd405694b5b2">GetMapAcknowledgedNum</a>())
    {
        std::string strServerID     = (*it).first;
        <a class="code" href="_o_t_pseudonym_8hpp.html#a94632bfde6cf91c8294122f77527bcf1">dequeOfTransNums</a> * pDeque   = (it-&gt;second);
        <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != pDeque);
        
        <a class="code" href="class_o_t_string.html">OTString</a> OTstrServerID = strServerID.c_str();
        <span class="keyword">const</span> <a class="code" href="class_o_t_identifier.html">OTIdentifier</a> theTempID(OTstrServerID);
        
        <span class="keywordflow">if</span> (!(pDeque-&gt;empty()) &amp;&amp; (theServerID == theTempID) ) <span class="comment">// only for the matching serverID.</span>
        {
            <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; pDeque-&gt;size(); i++)
            {
                <span class="keyword">const</span> int64_t lAckRequestNumber = pDeque-&gt;at(i);
                
                <a class="code" href="class_o_t_message.html#a8ebd61b24f8b983cf02a1a49d21e3ec4">m_AcknowledgedReplies</a>.Add(lAckRequestNumber);
            }
            <span class="keywordflow">break</span>;  <span class="comment">// We found it! Might as well break out.</span>
        }
    } <span class="comment">// for</span>
    <span class="comment">// ----------------------------------</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0ed3dfe3a61124318b477ff5c4e5e041"></a><!-- doxytag: member="OTMessage::SignContract" ref="a0ed3dfe3a61124318b477ff5c4e5e041" args="(const OTPseudonym &amp;theNym, OTPasswordData *pPWData=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_message.html#a0ed3dfe3a61124318b477ff5c4e5e041">OTMessage::SignContract</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;&#160;</td>
          <td class="paramname"><em>theNym</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_password_data.html">OTPasswordData</a> *&#160;</td>
          <td class="paramname"><em>pPWData</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#abd60037fe655ee8cae9a3ece5d1e2ea6">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_message_8cpp_source.html#l04485">4485</a> of file <a class="el" href="_o_t_message_8cpp_source.html">OTMessage.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// I release these, I assume, because a message only has one signer.</span>
    <a class="code" href="class_o_t_contract.html#aae54340526fbd8eb8a18de27a4b97c83">ReleaseSignatures</a>(); <span class="comment">// Note: this might change with credentials. We might require multiple signatures.</span>
    
    <span class="comment">// Use the authentication key instead of the signing key.</span>
    <span class="comment">//</span>
    <a class="code" href="class_o_t_message.html#a0648d02df0cb258a76fa10bceb533b60">m_bIsSigned</a> = <a class="code" href="class_o_t_contract.html#aae9a0891b14ee2e864a27669c4083075">OTContract::SignContractAuthent</a>(theNym, pPWData);
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a0648d02df0cb258a76fa10bceb533b60">m_bIsSigned</a>)
    {
        <span class="comment">//      OTLog::vError(&quot;\n******************************************************\n&quot;</span>
        <span class="comment">//              &quot;Contents of signed message:\n\n%s******************************************************\n\n&quot;, m_xmlUnsigned.Get());</span>
    }
    <span class="keywordflow">else</span>
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;Failure signing message:\n%s&quot;</span>, <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    
    <span class="keywordflow">return</span> <a class="code" href="class_o_t_message.html#a0648d02df0cb258a76fa10bceb533b60">m_bIsSigned</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae8415b7db5b092c74b85686783b616c2"></a><!-- doxytag: member="OTMessage::UpdateContents" ref="ae8415b7db5b092c74b85686783b616c2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_message.html#ae8415b7db5b092c74b85686783b616c2">OTMessage::UpdateContents</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a78c28164555e2eb79d6b67698421638d">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_message_8cpp_source.html#l00278">278</a> of file <a class="el" href="_o_t_message_8cpp_source.html">OTMessage.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> bFoundMessage = <span class="keyword">false</span>;
    
    <span class="comment">// I release this because I&#39;m about to repopulate it.</span>
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
    
    <a class="code" href="class_o_t_message.html#a3054731e37b5da75a93dedd4c77ee548">m_lTime</a> = <a class="code" href="_o_t_common_8hpp.html#a4c31551b478d298d694f7df4915b4302">OTTimeGetSecondsFromTime</a>(<a class="code" href="_o_t_common_8hpp.html#a1163606b2546b160d50c5f0a5afe479a">OTTimeGetCurrentTime</a>());
    
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;?xml version=\&quot;%s\&quot;?&gt;\n\n&quot;</span>, <span class="stringliteral">&quot;1.0&quot;</span>);
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;OTmessage\n version=\&quot;%s\&quot;\n dateSigned=\&quot;%lld\&quot;&gt;\n\n&quot;</span>,
                              <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_message.html#a3054731e37b5da75a93dedd4c77ee548">m_lTime</a>);
    

    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getMarketList&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getMarketList&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; depth=\&quot;%lld\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a>
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2) &amp;&amp; (<a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> &gt; 0))
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;messagePayload&gt;\n%s&lt;/messagePayload&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2))
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">//        std::cerr &lt;&lt; m_xmlUnsigned.Get() &lt;&lt; std::endl;</span>
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getMarketOffers&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; marketID=\&quot;%s\&quot;\n&quot;</span> <span class="comment">// stored in NymID2</span>
                                  <span class="stringliteral">&quot; depth=\&quot;%lld\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),    <span class="comment">// Storing Market ID</span>
                                  <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a>
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getMarketOffers&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; marketID=\&quot;%s\&quot;\n&quot;</span> <span class="comment">// stored in NymID2</span>
                                  <span class="stringliteral">&quot; depth=\&quot;%lld\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),        <span class="comment">// Storing Market ID</span>
                                  <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a>
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2) &amp;&amp; (<a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> &gt; 0))
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;messagePayload&gt;\n%s&lt;/messagePayload&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2))
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getMarketRecentTrades&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; marketID=\&quot;%s\&quot;&quot;</span> <span class="comment">// stored in NymID2</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>() <span class="comment">// Storing Market ID</span>
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getMarketRecentTrades&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; marketID=\&quot;%s\&quot;\n&quot;</span> <span class="comment">// stored in NymID2</span>
                                  <span class="stringliteral">&quot; depth=\&quot;%lld\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),        <span class="comment">// Storing Market ID</span>
                                  <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a>
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2) &amp;&amp; (<a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> &gt; 0))
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;messagePayload&gt;\n%s&lt;/messagePayload&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2))
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getNym_MarketOffers&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getNym_MarketOffers&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; depth=\&quot;%lld\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a>
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2) &amp;&amp; (<a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> &gt; 0))
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;messagePayload&gt;\n%s&lt;/messagePayload&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2))
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;checkServerID&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;publicAuthentKey&gt;\n%s&lt;/publicAuthentKey&gt;\n\n&quot;</span>,       <a class="code" href="class_o_t_message.html#af528755324c93b7364ddef38cd6b6709">m_strNymPublicKey</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;publicEncryptionKey&gt;\n%s&lt;/publicEncryptionKey&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@checkServerID&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;createUserAccount&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;credentialList&gt;\n%s&lt;/credentialList&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a8dfedea3c1a03a28ea67310bc4260c2b">m_ascPayload2</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;credentials&gt;\n%s&lt;/credentials&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a8dfedea3c1a03a28ea67310bc4260c2b">m_ascPayload2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@createUserAccount&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2))
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;nymfile&gt;\n%s&lt;/nymfile&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2)
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;deleteUserAccount&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@deleteUserAccount&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2)
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;checkUser&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID2=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@checkUser&quot;</span>))
    {
        <span class="comment">// This means new-style credentials are being sent, not just the public key as before.</span>
        <span class="keyword">const</span> <span class="keywordtype">bool</span> bCredentials = (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() &amp;&amp; <a class="code" href="class_o_t_message.html#a8dfedea3c1a03a28ea67310bc4260c2b">m_ascPayload2</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>());
        
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID2=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; hasCredentials=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (bCredentials ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a>)
        {
            <span class="comment">// Old style. (Deprecated.)</span>
            <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#af528755324c93b7364ddef38cd6b6709">m_strNymPublicKey</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
                <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;nymPublicKey&gt;\n%s&lt;/nymPublicKey&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#af528755324c93b7364ddef38cd6b6709">m_strNymPublicKey</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            
            <span class="comment">// New style:</span>
            <span class="keywordflow">if</span> (bCredentials)
            {
                <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;credentialList&gt;\n%s&lt;/credentialList&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;credentials&gt;\n%s&lt;/credentials&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a8dfedea3c1a03a28ea67310bc4260c2b">m_ascPayload2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            }
        }
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;usageCredits&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID2=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; adjustment=\&quot;%lld\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a>,
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@usageCredits&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID2=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; totalCredits=\&quot;%lld\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a>,
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="comment">// This one isn&#39;t part of the message protocol, but is used for outmail storage.</span>
    <span class="comment">// (Because outmail isn&#39;t encrypted like the inmail is, since the Nymfile itself</span>
    <span class="comment">// will soon be encrypted, and there&#39;s no need to be redundant also as well in addition on top of that.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;outmailMessage&quot;</span>) ||
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;outpaymentsMessage&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID2=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2)
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;messagePayload&gt;\n%s&lt;/messagePayload&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;sendUserMessage&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID2=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2)
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;messagePayload&gt;\n%s&lt;/messagePayload&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@sendUserMessage&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID2=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;sendUserInstrument&quot;</span>) || <span class="comment">// sendUserInstrument is sent from one user to the server, which then attaches that message as a payment, onto a transaction on the Nymbox of the recipient.</span>
        <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;payDividend&quot;</span>)) <span class="comment">// payDividend is not a normal user message. Rather, the sender uses notarizeTransactions to do a payDividend transaction. On the server side, this creates a new message of type &quot;payDividend&quot; for each recipient, in order to attach a voucher to it (for each recipient) and then that (artificially created payDividend msg) is added to the Nymbox of each recipient.</span>
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID2=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>() &gt; 2)
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;messagePayload&gt;\n%s&lt;/messagePayload&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@sendUserInstrument&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID2=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getRequest&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="comment">// This is the ONE command where you see a request number coming back from the server.</span>
    <span class="comment">// In all the other commands, it should be SENT to the server, not received from the server.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getRequest&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// command</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span> <span class="comment">// m_bSuccess</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymboxHash=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; newRequestNum=\&quot;%lld\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a2d3fecf3324ca955abb23d0a4be0af6b">m_lNewRequestNum</a>,
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;issueAssetType&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; assetType=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;assetContract&gt;\n%s&lt;/assetContract&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@issueAssetType&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;\n&quot;</span> <span class="comment">// the new issuer account ID</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; assetType=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;issuerAccount&gt;\n%s&lt;/issuerAccount&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;queryAssetTypes&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;stringMap&gt;\n%s&lt;/stringMap&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@queryAssetTypes&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;stringMap&gt;\n%s&lt;/stringMap&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;issueBasket&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;currencyBasket&gt;\n%s&lt;/currencyBasket&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@issueBasket&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;\n&quot;</span> <span class="comment">// the new basket issuer account ID</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; assetType=\&quot;%s\&quot;\n&quot;</span> <span class="comment">// the new Asset Type</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;createAccount&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; assetType=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="comment">//      OTLog::vError(&quot;DEBUG: Asset Type length: %d, Value:\n%s\n&quot;, m_strAssetID.GetLength(),  m_strAssetID.Get());</span>
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@createAccount&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>,
                                      <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;newAccount&gt;\n%s&lt;/newAccount&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getBoxReceipt&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; transactionNum=\&quot;%lld\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; boxType=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;&quot;</span>  <span class="comment">// If retrieving box receipt for Nymbox, NymID will appear in this variable.</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a2374c052c03bf1d4c7e7dd7555197ba4">m_lTransactionNum</a>,
                                  (<a class="code" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">m_lDepth</a> == 0) ? <span class="stringliteral">&quot;nymbox&quot;</span> : ((m_lDepth == 1) ? <span class="stringliteral">&quot;inbox&quot;</span> : <span class="stringliteral">&quot;outbox&quot;</span>), <span class="comment">// outbox is 2.</span>
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getBoxReceipt&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; transactionNum=\&quot;%lld\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; boxType=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a2374c052c03bf1d4c7e7dd7555197ba4">m_lTransactionNum</a>,
                                  (m_lDepth == 0) ? <span class="stringliteral">&quot;nymbox&quot;</span> : ((m_lDepth == 1) ? <span class="stringliteral">&quot;inbox&quot;</span> : <span class="stringliteral">&quot;outbox&quot;</span>), <span class="comment">// outbox is 2.</span>
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;boxReceipt&gt;\n%s&lt;/boxReceipt&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;deleteAssetAccount&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@deleteAssetAccount&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot;&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTLedger object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;notarizeTransactions&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymboxHash=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// famous last words.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;accountLedger&gt;\n%s&lt;/accountLedger&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// the Payload contains an ascii-armored OTLedger object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@notarizeTransactions&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// famous last words.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;responseLedger&gt;\n%s&lt;/responseLedger&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getTransactionNum&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymboxHash=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getTransactionNum&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymboxHash=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getNymbox&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTLedger object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getNymbox&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymboxHash=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// famous last words.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;nymboxLedger&gt;\n%s&lt;/nymboxLedger&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTLedger object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getInbox&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTLedger object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getInbox&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; inboxHash=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ac723a9009e413214007f3fad46164935">m_strInboxHash</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// famous last words.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inboxLedger&gt;\n%s&lt;/inboxLedger&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTLedger object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getOutbox&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTLedger object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getOutbox&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; outboxHash=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a997a2b18e078a8350b67a5874b79c812">m_strOutboxHash</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// famous last words.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;outboxLedger&gt;\n%s&lt;/outboxLedger&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getAccount&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTAccount object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getAccount&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// famous last words.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;assetAccount&gt;\n%s&lt;/assetAccount&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getAccountFiles&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains a STRING_MAP containing the OTAccount,</span>
    <span class="comment">// plus the inbox and outbox for that acct..</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getAccountFiles&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; inboxHash=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; outboxHash=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#ac723a9009e413214007f3fad46164935">m_strInboxHash</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a997a2b18e078a8350b67a5874b79c812">m_strOutboxHash</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// Famous last words.</span>
        <span class="comment">//</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;acctFiles&gt;\n%s&lt;/acctFiles&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getContract&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; assetType=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTAssetContract object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getContract&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; assetType=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// famous last words.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;assetContract&gt;\n%s&lt;/assetContract&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;getMint&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; assetType=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTMint object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@getMint&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; assetType=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// famous last words.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> &amp;&amp; <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;mint&gt;\n%s&lt;/mint&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTLedger object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;processInbox&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymboxHash=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// famous last words.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;processLedger&gt;\n%s&lt;/processLedger&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTLedger object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@processInbox&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// famous last words.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;responseLedger&gt;\n%s&lt;/responseLedger&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTLedger object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;processNymbox&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymboxHash=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// famous last words.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;processLedger&gt;\n%s&lt;/processLedger&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTLedger object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@processNymbox&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <span class="comment">// I would check if this was empty, but it should never be empty...</span>
        <span class="comment">// famous last words.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;responseLedger&gt;\n%s&lt;/responseLedger&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;triggerClause&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymboxHash=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; smartContractID=\&quot;%lld\&quot;\n&quot;</span>  <span class="comment">// &lt;===</span>
                                  <span class="stringliteral">&quot; clauseName=\&quot;%s\&quot;\n&quot;</span>        <span class="comment">// &lt;===</span>
                                  <span class="stringliteral">&quot; hasParam=\&quot;%s\&quot;\n&quot;</span>      <span class="comment">// &lt;===</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">m_strNymboxHash</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a2374c052c03bf1d4c7e7dd7555197ba4">m_lTransactionNum</a>,
                                  <a class="code" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">m_strNymID2</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <span class="comment">// clause name is stored here for this message.</span>
                                  (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;parameter&gt;\n%s&lt;/parameter&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">m_ascPayload</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    } <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// the Payload contains an ascii-armored OTMint object.</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;@triggerClause&quot;</span>))
    {
        bFoundMessage = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  (<a class="code" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">m_bSuccess</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
        
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inReferenceTo&gt;\n%s&lt;/inReferenceTo&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">m_ascInReferenceTo</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    }
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    
    <span class="keywordflow">if</span> (!bFoundMessage)
    {
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s\n&quot;</span> <span class="comment">// Command</span>
                                  <span class="stringliteral">&quot; requestNum=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; success=\&quot;false\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; acctID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; nymID=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;&quot;</span>
                                  <span class="stringliteral">&quot; &gt;&lt;!-- THIS IS AN INVALID MESSAGE --&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">m_strRequestNum</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">m_strAcctID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()
                                  );
              
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">m_strCommand</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    }
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <span class="comment">// ACKNOWLEDGED REQUEST NUMBERS</span>
    <span class="comment">//</span>
    <span class="comment">// (For reducing the number of box receipts for replyNotices that must be downloaded.)</span>
    <span class="comment">//</span>
    <span class="comment">// Client keeps a list of server replies he&#39;s already seen.</span>
    <span class="comment">// Server keeps a list of numbers the client has provided on HIS list (server has removed those from Nymbox).</span>
    <span class="comment">//</span>
    <span class="comment">// (Each sends his respective list in every message.)</span>
    <span class="comment">//</span>
    <span class="comment">// Client removes any number he sees on the server&#39;s list.</span>
    <span class="comment">// Server removes any number he sees the client has also removed.</span>
    <span class="comment">//</span>
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a8ebd61b24f8b983cf02a1a49d21e3ec4">m_AcknowledgedReplies</a>.<a class="code" href="class_o_t_num_list.html#a5772668ef4da7be4d83eb7c7c90838de">Count</a>() &gt; 0)
    {
        <a class="code" href="class_o_t_string.html">OTString</a> strAck;
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_message.html#a8ebd61b24f8b983cf02a1a49d21e3ec4">m_AcknowledgedReplies</a>.<a class="code" href="class_o_t_num_list.html#a3ebc9e933a8c248d0fdd0b11a3c49fe4">Output</a>(strAck) &amp;&amp; strAck.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
        {
            <span class="keyword">const</span> <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> ascTemp(strAck);
            
            <span class="keywordflow">if</span> (ascTemp.Exists())
                <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;ackReplies&gt;\n%s&lt;/ackReplies&gt;\n\n&quot;</span>, ascTemp.Get());
        }
    }
    
    
    <span class="comment">// ------------------------------------------------------------------------</span>
    
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/OTmessage&gt;\n&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a21b8dcd4f964fc49e1eeeb5a02cfe5f4"></a><!-- doxytag: member="OTMessage::VerifyContractID" ref="a21b8dcd4f964fc49e1eeeb5a02cfe5f4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_message.html#a21b8dcd4f964fc49e1eeeb5a02cfe5f4">OTMessage::VerifyContractID</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a8570f185efbb89e0c8fd8d0d0fb8fc3e">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_message_8cpp_source.html#l04530">4530</a> of file <a class="el" href="_o_t_message_8cpp_source.html">OTMessage.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa61f745665166abf8bed98f47c6252d0"></a><!-- doxytag: member="OTMessage::VerifySignature" ref="aa61f745665166abf8bed98f47c6252d0" args="(const OTPseudonym &amp;theNym, OTPasswordData *pPWData=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_message.html#aa61f745665166abf8bed98f47c6252d0">OTMessage::VerifySignature</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;&#160;</td>
          <td class="paramname"><em>theNym</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_password_data.html">OTPasswordData</a> *&#160;</td>
          <td class="paramname"><em>pPWData</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a38f51d593b6dfc8a75d1c5a535965392">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_message_8cpp_source.html#l04508">4508</a> of file <a class="el" href="_o_t_message_8cpp_source.html">OTMessage.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// Messages, unlike many contracts, use the authentication key instead of</span>
    <span class="comment">// the signing key. This is because signing keys are meant for signing legally</span>
    <span class="comment">// binding agreements, whereas authentication keys are used for message transport</span>
    <span class="comment">// and for file storage. Since this is OTMessage specifically, used for transport,</span>
    <span class="comment">// we have overridden sign and verify contract methods, to explicitly use the</span>
    <span class="comment">// authentication key instead of the signing key. OTSignedFile should probably be</span>
    <span class="comment">// the same way. (Maybe it already is, by the time you are reading this.)</span>
    <span class="comment">//</span>
    <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_o_t_contract.html#a9201c0469d8d705b484c054d45780e34">VerifySigAuthent</a>(theNym, pPWData);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a8ebd61b24f8b983cf02a1a49d21e3ec4"></a><!-- doxytag: member="OTMessage::m_AcknowledgedReplies" ref="a8ebd61b24f8b983cf02a1a49d21e3ec4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_num_list.html">OTNumList</a> <a class="el" href="class_o_t_message.html#a8ebd61b24f8b983cf02a1a49d21e3ec4">OTMessage::m_AcknowledgedReplies</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00211">211</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad43c857a2a741df19c3c31b551df5eb0"></a><!-- doxytag: member="OTMessage::m_ascInReferenceTo" ref="ad43c857a2a741df19c3c31b551df5eb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> <a class="el" href="class_o_t_message.html#ad43c857a2a741df19c3c31b551df5eb0">OTMessage::m_ascInReferenceTo</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00201">201</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa6729578b97f61804e91035a7709800a"></a><!-- doxytag: member="OTMessage::m_ascPayload" ref="aa6729578b97f61804e91035a7709800a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> <a class="el" href="class_o_t_message.html#aa6729578b97f61804e91035a7709800a">OTMessage::m_ascPayload</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00203">203</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8dfedea3c1a03a28ea67310bc4260c2b"></a><!-- doxytag: member="OTMessage::m_ascPayload2" ref="a8dfedea3c1a03a28ea67310bc4260c2b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> <a class="el" href="class_o_t_message.html#a8dfedea3c1a03a28ea67310bc4260c2b">OTMessage::m_ascPayload2</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00206">206</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7a6c13386c32402195569ccfe9665754"></a><!-- doxytag: member="OTMessage::m_bBool" ref="a7a6c13386c32402195569ccfe9665754" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_message.html#a7a6c13386c32402195569ccfe9665754">OTMessage::m_bBool</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00222">222</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0648d02df0cb258a76fa10bceb533b60"></a><!-- doxytag: member="OTMessage::m_bIsSigned" ref="a0648d02df0cb258a76fa10bceb533b60" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_message.html#a0648d02df0cb258a76fa10bceb533b60">OTMessage::m_bIsSigned</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00155">155</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad6d611b1178ec24da0a380fb461300b8"></a><!-- doxytag: member="OTMessage::m_bSuccess" ref="ad6d611b1178ec24da0a380fb461300b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_message.html#ad6d611b1178ec24da0a380fb461300b8">OTMessage::m_bSuccess</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00221">221</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a04ef2907cff33f832b438c93f17880b7"></a><!-- doxytag: member="OTMessage::m_lDepth" ref="a04ef2907cff33f832b438c93f17880b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="class_o_t_message.html#a04ef2907cff33f832b438c93f17880b7">OTMessage::m_lDepth</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00218">218</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2d3fecf3324ca955abb23d0a4be0af6b"></a><!-- doxytag: member="OTMessage::m_lNewRequestNum" ref="a2d3fecf3324ca955abb23d0a4be0af6b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="class_o_t_message.html#a2d3fecf3324ca955abb23d0a4be0af6b">OTMessage::m_lNewRequestNum</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00214">214</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3054731e37b5da75a93dedd4c77ee548"></a><!-- doxytag: member="OTMessage::m_lTime" ref="a3054731e37b5da75a93dedd4c77ee548" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="class_o_t_message.html#a3054731e37b5da75a93dedd4c77ee548">OTMessage::m_lTime</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00224">224</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2374c052c03bf1d4c7e7dd7555197ba4"></a><!-- doxytag: member="OTMessage::m_lTransactionNum" ref="a2374c052c03bf1d4c7e7dd7555197ba4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="class_o_t_message.html#a2374c052c03bf1d4c7e7dd7555197ba4">OTMessage::m_lTransactionNum</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00219">219</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aeba5afa7ce73d9398cc898a2749acd45"></a><!-- doxytag: member="OTMessage::m_strAcctID" ref="aeba5afa7ce73d9398cc898a2749acd45" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_message.html#aeba5afa7ce73d9398cc898a2749acd45">OTMessage::m_strAcctID</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00196">196</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7cbf8c19d4be37bc2f67a8b8df7e701f"></a><!-- doxytag: member="OTMessage::m_strAssetID" ref="a7cbf8c19d4be37bc2f67a8b8df7e701f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">OTMessage::m_strAssetID</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00195">195</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a14c7dc1d2e11075a73e0a9aaf79fd762"></a><!-- doxytag: member="OTMessage::m_strCommand" ref="a14c7dc1d2e11075a73e0a9aaf79fd762" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_message.html#a14c7dc1d2e11075a73e0a9aaf79fd762">OTMessage::m_strCommand</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00187">187</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac723a9009e413214007f3fad46164935"></a><!-- doxytag: member="OTMessage::m_strInboxHash" ref="ac723a9009e413214007f3fad46164935" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_message.html#ac723a9009e413214007f3fad46164935">OTMessage::m_strInboxHash</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00191">191</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3038ccc70302742da4df4c3af1093b78"></a><!-- doxytag: member="OTMessage::m_strNymboxHash" ref="a3038ccc70302742da4df4c3af1093b78" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_message.html#a3038ccc70302742da4df4c3af1093b78">OTMessage::m_strNymboxHash</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00190">190</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a61b38b159dbb516bb3f4f382b936238a"></a><!-- doxytag: member="OTMessage::m_strNymID" ref="a61b38b159dbb516bb3f4f382b936238a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">OTMessage::m_strNymID</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00189">189</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a724247e90624bbc678fb067beeba58b9"></a><!-- doxytag: member="OTMessage::m_strNymID2" ref="a724247e90624bbc678fb067beeba58b9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_message.html#a724247e90624bbc678fb067beeba58b9">OTMessage::m_strNymID2</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00193">193</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af528755324c93b7364ddef38cd6b6709"></a><!-- doxytag: member="OTMessage::m_strNymPublicKey" ref="af528755324c93b7364ddef38cd6b6709" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_message.html#af528755324c93b7364ddef38cd6b6709">OTMessage::m_strNymPublicKey</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00194">194</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a997a2b18e078a8350b67a5874b79c812"></a><!-- doxytag: member="OTMessage::m_strOutboxHash" ref="a997a2b18e078a8350b67a5874b79c812" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_message.html#a997a2b18e078a8350b67a5874b79c812">OTMessage::m_strOutboxHash</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00192">192</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1f97ec73f2a05d3d3d6fcb4854501dbe"></a><!-- doxytag: member="OTMessage::m_strRequestNum" ref="a1f97ec73f2a05d3d3d6fcb4854501dbe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_message.html#a1f97ec73f2a05d3d3d6fcb4854501dbe">OTMessage::m_strRequestNum</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00198">198</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae5304f18eb276ecd0c5370aa41817926"></a><!-- doxytag: member="OTMessage::m_strServerID" ref="ae5304f18eb276ecd0c5370aa41817926" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">OTMessage::m_strServerID</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00188">188</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad345426f766c28cbbfa9c802b9a7bb46"></a><!-- doxytag: member="OTMessage::m_strType" ref="ad345426f766c28cbbfa9c802b9a7bb46" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_message.html#ad345426f766c28cbbfa9c802b9a7bb46">OTMessage::m_strType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_message_8hpp_source.html#l00197">197</a> of file <a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/otlib/<a class="el" href="_o_t_message_8hpp_source.html">OTMessage.hpp</a></li>
<li>src/otlib/<a class="el" href="_o_t_message_8cpp_source.html">OTMessage.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_o_t_message.html">OTMessage</a>      </li>

    <li class="footer">Generated on Wed May 21 2014 11:26:13 for Open-Transactions by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
