<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Open-Transactions: include/otlib/OTPartyAccount.hpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open-Transactions
   &#160;<span id="projectnumber">master/1066fb4910a63ee3f7de8e0807fee3eb663b66c7</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_o_t_party_account_8hpp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">include/otlib/OTPartyAccount.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_o_t_party_account_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> *  OTPartyAccount.hpp</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> */</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="comment">/************************************************************</span>
<a name="l00008"></a>00008 <span class="comment"> -----BEGIN PGP SIGNED MESSAGE-----</span>
<a name="l00009"></a>00009 <span class="comment"> Hash: SHA1</span>
<a name="l00010"></a>00010 <span class="comment"></span>
<a name="l00011"></a>00011 <span class="comment"> *                 OPEN TRANSACTIONS</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> *       Financial Cryptography and Digital Cash</span>
<a name="l00014"></a>00014 <span class="comment"> *       Library, Protocol, API, Server, CLI, GUI</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> *       -- Anonymous Numbered Accounts.</span>
<a name="l00017"></a>00017 <span class="comment"> *       -- Untraceable Digital Cash.</span>
<a name="l00018"></a>00018 <span class="comment"> *       -- Triple-Signed Receipts.</span>
<a name="l00019"></a>00019 <span class="comment"> *       -- Cheques, Vouchers, Transfers, Inboxes.</span>
<a name="l00020"></a>00020 <span class="comment"> *       -- Basket Currencies, Markets, Payment Plans.</span>
<a name="l00021"></a>00021 <span class="comment"> *       -- Signed, XML, Ricardian-style Contracts.</span>
<a name="l00022"></a>00022 <span class="comment"> *       -- Scripted smart contracts.</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> *  Copyright (C) 2010-2013 by &quot;Fellow Traveler&quot; (A pseudonym)</span>
<a name="l00025"></a>00025 <span class="comment"> *</span>
<a name="l00026"></a>00026 <span class="comment"> *  EMAIL:</span>
<a name="l00027"></a>00027 <span class="comment"> *  FellowTraveler@rayservers.net</span>
<a name="l00028"></a>00028 <span class="comment"> *</span>
<a name="l00029"></a>00029 <span class="comment"> *  BITCOIN:  1NtTPVVjDsUfDWybS4BwvHpG2pdS9RnYyQ</span>
<a name="l00030"></a>00030 <span class="comment"> *</span>
<a name="l00031"></a>00031 <span class="comment"> *  KEY FINGERPRINT (PGP Key in license file):</span>
<a name="l00032"></a>00032 <span class="comment"> *  9DD5 90EB 9292 4B48 0484  7910 0308 00ED F951 BB8E</span>
<a name="l00033"></a>00033 <span class="comment"> *</span>
<a name="l00034"></a>00034 <span class="comment"> *  OFFICIAL PROJECT WIKI(s):</span>
<a name="l00035"></a>00035 <span class="comment"> *  https://github.com/FellowTraveler/Moneychanger</span>
<a name="l00036"></a>00036 <span class="comment"> *  https://github.com/FellowTraveler/Open-Transactions/wiki</span>
<a name="l00037"></a>00037 <span class="comment"> *</span>
<a name="l00038"></a>00038 <span class="comment"> *  WEBSITE:</span>
<a name="l00039"></a>00039 <span class="comment"> *  http://www.OpenTransactions.org/</span>
<a name="l00040"></a>00040 <span class="comment"> *</span>
<a name="l00041"></a>00041 <span class="comment"> *  Components and licensing:</span>
<a name="l00042"></a>00042 <span class="comment"> *   -- Moneychanger..A Java client GUI.....LICENSE:.....GPLv3</span>
<a name="l00043"></a>00043 <span class="comment"> *   -- otlib.........A class library.......LICENSE:...LAGPLv3</span>
<a name="l00044"></a>00044 <span class="comment"> *   -- otapi.........A client API..........LICENSE:...LAGPLv3</span>
<a name="l00045"></a>00045 <span class="comment"> *   -- opentxs/ot....Command-line client...LICENSE:...LAGPLv3</span>
<a name="l00046"></a>00046 <span class="comment"> *   -- otserver......Server Application....LICENSE:....AGPLv3</span>
<a name="l00047"></a>00047 <span class="comment"> *  Github.com/FellowTraveler/Open-Transactions/wiki/Components</span>
<a name="l00048"></a>00048 <span class="comment"> *</span>
<a name="l00049"></a>00049 <span class="comment"> *  All of the above OT components were designed and written by</span>
<a name="l00050"></a>00050 <span class="comment"> *  Fellow Traveler, with the exception of Moneychanger, which</span>
<a name="l00051"></a>00051 <span class="comment"> *  was contracted out to Vicky C (bitcointrader4@gmail.com).</span>
<a name="l00052"></a>00052 <span class="comment"> *  The open-source community has since actively contributed.</span>
<a name="l00053"></a>00053 <span class="comment"> *</span>
<a name="l00054"></a>00054 <span class="comment"> *  -----------------------------------------------------</span>
<a name="l00055"></a>00055 <span class="comment"> *</span>
<a name="l00056"></a>00056 <span class="comment"> *   LICENSE:</span>
<a name="l00057"></a>00057 <span class="comment"> *   This program is free software: you can redistribute it</span>
<a name="l00058"></a>00058 <span class="comment"> *   and/or modify it under the terms of the GNU Affero</span>
<a name="l00059"></a>00059 <span class="comment"> *   General Public License as published by the Free Software</span>
<a name="l00060"></a>00060 <span class="comment"> *   Foundation, either version 3 of the License, or (at your</span>
<a name="l00061"></a>00061 <span class="comment"> *   option) any later version.</span>
<a name="l00062"></a>00062 <span class="comment"> *</span>
<a name="l00063"></a>00063 <span class="comment"> *   ADDITIONAL PERMISSION under the GNU Affero GPL version 3</span>
<a name="l00064"></a>00064 <span class="comment"> *   section 7: (This paragraph applies only to the LAGPLv3</span>
<a name="l00065"></a>00065 <span class="comment"> *   components listed above.) If you modify this Program, or</span>
<a name="l00066"></a>00066 <span class="comment"> *   any covered work, by linking or combining it with other</span>
<a name="l00067"></a>00067 <span class="comment"> *   code, such other code is not for that reason alone subject</span>
<a name="l00068"></a>00068 <span class="comment"> *   to any of the requirements of the GNU Affero GPL version 3.</span>
<a name="l00069"></a>00069 <span class="comment"> *   (==&gt; This means if you are only using the OT API, then you</span>
<a name="l00070"></a>00070 <span class="comment"> *   don&#39;t have to open-source your code--only your changes to</span>
<a name="l00071"></a>00071 <span class="comment"> *   Open-Transactions itself must be open source. Similar to</span>
<a name="l00072"></a>00072 <span class="comment"> *   LGPLv3, except it applies to software-as-a-service, not</span>
<a name="l00073"></a>00073 <span class="comment"> *   just to distributing binaries.)</span>
<a name="l00074"></a>00074 <span class="comment"> *</span>
<a name="l00075"></a>00075 <span class="comment"> *   Extra WAIVER for OpenSSL, Lucre, and all other libraries</span>
<a name="l00076"></a>00076 <span class="comment"> *   used by Open Transactions: This program is released under</span>
<a name="l00077"></a>00077 <span class="comment"> *   the AGPL with the additional exemption that compiling,</span>
<a name="l00078"></a>00078 <span class="comment"> *   linking, and/or using OpenSSL is allowed. The same is true</span>
<a name="l00079"></a>00079 <span class="comment"> *   for any other open source libraries included in this</span>
<a name="l00080"></a>00080 <span class="comment"> *   project: complete waiver from the AGPL is hereby granted to</span>
<a name="l00081"></a>00081 <span class="comment"> *   compile, link, and/or use them with Open-Transactions,</span>
<a name="l00082"></a>00082 <span class="comment"> *   according to their own terms, as long as the rest of the</span>
<a name="l00083"></a>00083 <span class="comment"> *   Open-Transactions terms remain respected, with regard to</span>
<a name="l00084"></a>00084 <span class="comment"> *   the Open-Transactions code itself.</span>
<a name="l00085"></a>00085 <span class="comment"> *</span>
<a name="l00086"></a>00086 <span class="comment"> *   Lucre License:</span>
<a name="l00087"></a>00087 <span class="comment"> *   This code is also &quot;dual-license&quot;, meaning that Ben Lau-</span>
<a name="l00088"></a>00088 <span class="comment"> *   rie&#39;s license must also be included and respected, since</span>
<a name="l00089"></a>00089 <span class="comment"> *   the code for Lucre is also included with Open Transactions.</span>
<a name="l00090"></a>00090 <span class="comment"> *   See Open-Transactions/src/otlib/lucre/LUCRE_LICENSE.txt</span>
<a name="l00091"></a>00091 <span class="comment"> *   The Laurie requirements are light, but if there is any</span>
<a name="l00092"></a>00092 <span class="comment"> *   problem with his license, simply remove the Lucre code.</span>
<a name="l00093"></a>00093 <span class="comment"> *   Although there are no other blind token algorithms in Open</span>
<a name="l00094"></a>00094 <span class="comment"> *   Transactions (yet. credlib is coming), the other functions</span>
<a name="l00095"></a>00095 <span class="comment"> *   will continue to operate.</span>
<a name="l00096"></a>00096 <span class="comment"> *   See Lucre on Github:  https://github.com/benlaurie/lucre</span>
<a name="l00097"></a>00097 <span class="comment"> *   -----------------------------------------------------</span>
<a name="l00098"></a>00098 <span class="comment"> *   You should have received a copy of the GNU Affero General</span>
<a name="l00099"></a>00099 <span class="comment"> *   Public License along with this program.  If not, see:</span>
<a name="l00100"></a>00100 <span class="comment"> *   http://www.gnu.org/licenses/</span>
<a name="l00101"></a>00101 <span class="comment"> *</span>
<a name="l00102"></a>00102 <span class="comment"> *   If you would like to use this software outside of the free</span>
<a name="l00103"></a>00103 <span class="comment"> *   software license, please contact FellowTraveler.</span>
<a name="l00104"></a>00104 <span class="comment"> *   (Unfortunately many will run anonymously and untraceably,</span>
<a name="l00105"></a>00105 <span class="comment"> *   so who could really stop them?)</span>
<a name="l00106"></a>00106 <span class="comment"> *</span>
<a name="l00107"></a>00107 <span class="comment"> *   DISCLAIMER:</span>
<a name="l00108"></a>00108 <span class="comment"> *   This program is distributed in the hope that it will be</span>
<a name="l00109"></a>00109 <span class="comment"> *   useful, but WITHOUT ANY WARRANTY; without even the implied</span>
<a name="l00110"></a>00110 <span class="comment"> *   warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</span>
<a name="l00111"></a>00111 <span class="comment"> *   PURPOSE.  See the GNU Affero General Public License for</span>
<a name="l00112"></a>00112 <span class="comment"> *   more details.</span>
<a name="l00113"></a>00113 <span class="comment"></span>
<a name="l00114"></a>00114 <span class="comment"> -----BEGIN PGP SIGNATURE-----</span>
<a name="l00115"></a>00115 <span class="comment"> Version: GnuPG v1.4.9 (Darwin)</span>
<a name="l00116"></a>00116 <span class="comment"></span>
<a name="l00117"></a>00117 <span class="comment"> iQIcBAEBAgAGBQJRSsfJAAoJEAMIAO35UbuOQT8P/RJbka8etf7wbxdHQNAY+2cC</span>
<a name="l00118"></a>00118 <span class="comment"> vDf8J3X8VI+pwMqv6wgTVy17venMZJa4I4ikXD/MRyWV1XbTG0mBXk/7AZk7Rexk</span>
<a name="l00119"></a>00119 <span class="comment"> KTvL/U1kWiez6+8XXLye+k2JNM6v7eej8xMrqEcO0ZArh/DsLoIn1y8p8qjBI7+m</span>
<a name="l00120"></a>00120 <span class="comment"> aE7lhstDiD0z8mwRRLKFLN2IH5rAFaZZUvj5ERJaoYUKdn4c+RcQVei2YOl4T0FU</span>
<a name="l00121"></a>00121 <span class="comment"> LWND3YLoH8naqJXkaOKEN4UfJINCwxhe5Ke9wyfLWLUO7NamRkWD2T7CJ0xocnD1</span>
<a name="l00122"></a>00122 <span class="comment"> sjAzlVGNgaFDRflfIF4QhBx1Ddl6wwhJfw+d08bjqblSq8aXDkmFA7HeunSFKkdn</span>
<a name="l00123"></a>00123 <span class="comment"> oIEOEgyj+veuOMRJC5pnBJ9vV+7qRdDKQWaCKotynt4sWJDGQ9kWGWm74SsNaduN</span>
<a name="l00124"></a>00124 <span class="comment"> TPMyr9kNmGsfR69Q2Zq/FLcLX/j8ESxU+HYUB4vaARw2xEOu2xwDDv6jt0j3Vqsg</span>
<a name="l00125"></a>00125 <span class="comment"> x7rWv4S/Eh18FDNDkVRChiNoOIilLYLL6c38uMf1pnItBuxP3uhgY6COm59kVaRh</span>
<a name="l00126"></a>00126 <span class="comment"> nyGTYCDYD2TK+fI9o89F1297uDCwEJ62U0Q7iTDp5QuXCoxkPfv8/kX6lS6T3y9G</span>
<a name="l00127"></a>00127 <span class="comment"> M9mqIoLbIQ1EDntFv7/t6fUTS2+46uCrdZWbQ5RjYXdrzjij02nDmJAm2BngnZvd</span>
<a name="l00128"></a>00128 <span class="comment"> kamH0Y/n11lCvo1oQxM+</span>
<a name="l00129"></a>00129 <span class="comment"> =uSzz</span>
<a name="l00130"></a>00130 <span class="comment"> -----END PGP SIGNATURE-----</span>
<a name="l00131"></a>00131 <span class="comment"> **************************************************************/</span>
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 <span class="preprocessor">#ifndef __OT_PARTY_ACCOUNT_HPP__</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span><span class="preprocessor">#define __OT_PARTY_ACCOUNT_HPP__</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span>
<a name="l00136"></a>00136 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00137"></a>00137 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 <span class="preprocessor">#include &quot;<a class="code" href="_o_t_common_8hpp.html">OTCommon.hpp</a>&quot;</span>
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="preprocessor">#include &quot;<a class="code" href="_o_t_string_8hpp.html">OTString.hpp</a>&quot;</span>
<a name="l00142"></a>00142 <span class="preprocessor">#include &quot;<a class="code" href="_o_t_agent_8hpp.html">OTAgent.hpp</a>&quot;</span>
<a name="l00143"></a>00143 <span class="preprocessor">#include &quot;<a class="code" href="_o_t_bylaw_8hpp.html">OTBylaw.hpp</a>&quot;</span>
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 <span class="keyword">class </span><a class="code" href="class_o_t_identifier.html">OTIdentifier</a>;
<a name="l00146"></a>00146 <span class="keyword">class </span><a class="code" href="class_o_t_num_list.html">OTNumList</a>;
<a name="l00147"></a>00147 <span class="keyword">class </span><a class="code" href="class_o_t_pseudonym.html">OTPseudonym</a>;
<a name="l00148"></a>00148 <span class="keyword">class </span><a class="code" href="class_o_t_account.html">OTAccount</a>;
<a name="l00149"></a>00149 <span class="keyword">class </span><a class="code" href="class_o_t_party.html">OTParty</a>;
<a name="l00150"></a>00150 <span class="keyword">class </span><a class="code" href="class_o_t_party_account.html">OTPartyAccount</a>;
<a name="l00151"></a>00151 <span class="keyword">class </span><a class="code" href="class_o_t_scriptable.html">OTScriptable</a>;
<a name="l00152"></a>00152 <span class="keyword">class </span><a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a>;
<a name="l00153"></a>00153 <span class="keyword">class </span><a class="code" href="class_o_t_script.html">OTScript</a>;
<a name="l00154"></a><a class="code" href="_o_t_party_account_8hpp.html#ac89892658f6bc83e354078647b704e8f">00154</a> <span class="keyword">class </span><a class="code" href="class_o_t_account.html">OTAccount</a>;
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 <span class="keyword">typedef</span> std::map&lt;std::string, OTPseudonym *&gt;    <a class="code" href="_o_t_agent_8hpp.html#ac89892658f6bc83e354078647b704e8f">mapOfNyms</a>;
<a name="l00157"></a><a class="code" href="_o_t_party_account_8hpp.html#abd4942716d546c8d42670619a03ef99e">00157</a> <span class="keyword">typedef</span> std::map&lt;std::string, OTAccount *&gt;      <a class="code" href="_o_t_agent_8hpp.html#abd4942716d546c8d42670619a03ef99e">mapOfAccounts</a>;
<a name="l00158"></a>00158 
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 <span class="comment">// Each party has a list of accounts. Just as the agent, depending on context, MAY</span>
<a name="l00161"></a>00161 <span class="comment">// have an unowned-but-useful pointer to its active Nym, similarly a partyaccount</span>
<a name="l00162"></a>00162 <span class="comment">// MAY have an unowned-but-useful point to its actual Account.</span>
<a name="l00163"></a>00163 <span class="comment">//</span>
<a name="l00164"></a>00164 <span class="comment">// (Normally, an OTPartyAccount is loaded with the party, as part of an OTScriptable-</span>
<a name="l00165"></a>00165 <span class="comment">// derived object, and it doesn&#39;t actually load a copy of the actual Nyms and Accounts</span>
<a name="l00166"></a>00166 <span class="comment">// at that time, it just stores their IDs. But times may also come when the actual pointer</span>
<a name="l00167"></a>00167 <span class="comment">// is passed in for use by the Parties, who are not otherwise expected to do anything</span>
<a name="l00168"></a>00168 <span class="comment">// with it, or to clean it up or rely on it for their normal data storage.)</span>
<a name="l00169"></a>00169 <span class="comment">//</span>
<a name="l00170"></a>00170 <span class="comment">// Represents an account (to a party.) This is because ACTUALLY loading the REAL account is a pain in the ass,</span>
<a name="l00171"></a>00171 <span class="comment">// and we just want to store its ID, etc.  This way, the party can OWN this information about this list of</span>
<a name="l00172"></a>00172 <span class="comment">// accounts, and store it, load it, destroy it, etc, often without involving the actual account file at all.</span>
<a name="l00173"></a>00173 <span class="comment">//</span>
<a name="l00174"></a>00174 <span class="comment">// (Even if a this isn&#39;t currently doing anything with any of the party&#39;s accounts, the contract still</span>
<a name="l00175"></a>00175 <span class="comment">// has to have a LIST of them, so it knows what to do in those cases when it DOES need to do something.)</span>
<a name="l00176"></a>00176 <span class="comment">//</span>
<a name="l00177"></a>00177 <span class="comment">// For example, this is where we store the CLOSING TRANSACTION # for that account (for this agreement.)</span>
<a name="l00178"></a>00178 <span class="comment">// That number can&#39;t be found in the account itself, but all smart contracts involving asset accounts must</span>
<a name="l00179"></a>00179 <span class="comment">// provide a closing number for each asset account.</span>
<a name="l00180"></a>00180 <span class="comment">//</span>
<a name="l00181"></a><a class="code" href="class_o_t_party_account.html">00181</a> <span class="keyword">class </span><a class="code" href="class_o_t_party_account.html">OTPartyAccount</a>
<a name="l00182"></a>00182 {
<a name="l00183"></a>00183     <a class="code" href="class_o_t_party.html">OTParty</a> *   m_pForParty; <span class="comment">// When being added to a party, this pointer will be set.</span>
<a name="l00184"></a>00184     <span class="comment">// -------------------------</span>
<a name="l00185"></a>00185     <span class="comment">// NOTE: each party needs to have a list of partyaccounts, AND each account on that list needs to have a CLOSING #!!! Ahh...</span>
<a name="l00186"></a>00186     <a class="code" href="class_o_t_account.html">OTAccount</a> * m_pAccount;
<a name="l00187"></a>00187     int64_t     m_lClosingTransNo; <span class="comment">// Any account that is party to an agreement, must have a closing transaction # for finalReceipt.</span>
<a name="l00188"></a>00188     <span class="comment">// -------------------------</span>
<a name="l00189"></a>00189     <span class="comment">// account name (inside the script language, &quot;gold_acct_A&quot; could be used to reference this acct.)</span>
<a name="l00190"></a>00190     <span class="comment">//</span>
<a name="l00191"></a>00191     <a class="code" href="class_o_t_string.html">OTString</a>    m_strName;          <span class="comment">// Name of the account (for use in scripts.)</span>
<a name="l00192"></a>00192     <a class="code" href="class_o_t_string.html">OTString</a>    m_strAcctID;        <span class="comment">// The Account ID itself.</span>
<a name="l00193"></a>00193     <a class="code" href="class_o_t_string.html">OTString</a>    m_strAssetTypeID;   <span class="comment">// The asset type ID for the account. Stored because parties agree on this even before the account ID is selected. Compare() uses this even when the account ID is blank, and when acct ID *is* added, its asset type must match this.</span>
<a name="l00194"></a>00194     <a class="code" href="class_o_t_string.html">OTString</a>    m_strAgentName;     <span class="comment">// The name of the agent who has rights to this account.</span>
<a name="l00195"></a>00195     <span class="comment">// -------------------------</span>
<a name="l00196"></a>00196     <span class="comment">// Entity, role, and Nym information are not stored here.</span>
<a name="l00197"></a>00197     <span class="comment">// Entity is already known on the party who owns this account (and I should have a ptr to him.)</span>
<a name="l00198"></a>00198     <span class="comment">// Role is already known on the agent who is presumably on the party&#39;s list of agents.</span>
<a name="l00199"></a>00199     <span class="comment">// Nym is known on the party (for owner) and on the agent.</span>
<a name="l00200"></a>00200 
<a name="l00201"></a>00201     <span class="comment">// &quot;GetOwnerID()&quot; for a partyaccount (if it were to store NymID, EntityID, and a bool to choose</span>
<a name="l00202"></a>00202     <span class="comment">// between them) should be logically the same as m_pOwnerParty-&gt;GetPartyID().</span>
<a name="l00203"></a>00203     <span class="comment">//</span>
<a name="l00204"></a>00204 <span class="keyword">public</span>:
<a name="l00205"></a>00205 EXPORT  <span class="keywordtype">void</span> <a class="code" href="class_o_t_party_account.html#a22652583fbe8acb73d8eeed06bfd9c50">RegisterForExecution</a>(<a class="code" href="class_o_t_script.html">OTScript</a>&amp; theScript);
<a name="l00206"></a>00206 
<a name="l00207"></a><a class="code" href="class_o_t_party_account.html#a018ef4f5d66227cd23fc6a323db4b669">00207</a>     <a class="code" href="class_o_t_party.html">OTParty</a> * <a class="code" href="class_o_t_party_account.html#a018ef4f5d66227cd23fc6a323db4b669">GetParty</a>() { <span class="keywordflow">return</span> m_pForParty; }
<a name="l00208"></a>00208     <span class="keywordtype">void</span> <a class="code" href="class_o_t_party_account.html#ad7d225bb37e6789d6f92ba58cce8a6ce">SetParty</a>(<a class="code" href="class_o_t_party.html">OTParty</a> &amp; theOwnerParty); <span class="comment">// This happens when the partyaccount is added to the party. (so I have a ptr back)</span>
<a name="l00209"></a>00209 
<a name="l00210"></a><a class="code" href="class_o_t_party_account.html#a56b14b8bc2279fab08cc9c2c754043d4">00210</a> EXPORT  <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; <a class="code" href="class_o_t_party_account.html#a56b14b8bc2279fab08cc9c2c754043d4">GetName</a>()<span class="keyword">          const   </span>{ <span class="keywordflow">return</span> m_strName; }           <span class="comment">// account&#39;s name as used in a script.</span>
<a name="l00211"></a><a class="code" href="class_o_t_party_account.html#a86975046b18ac6d6c5841f5ba0befe69">00211</a>         <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; <a class="code" href="class_o_t_party_account.html#a86975046b18ac6d6c5841f5ba0befe69">GetAgentName</a>()<span class="keyword">     const   </span>{ <span class="keywordflow">return</span> m_strAgentName; }      <span class="comment">// agent&#39;s name as used in a script.</span>
<a name="l00212"></a><a class="code" href="class_o_t_party_account.html#aa5e4e0cc77853d08b3708017fe694876">00212</a>         <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; <a class="code" href="class_o_t_party_account.html#aa5e4e0cc77853d08b3708017fe694876">GetAcctID</a>()<span class="keyword">        const   </span>{ <span class="keywordflow">return</span> m_strAcctID; }         <span class="comment">// account&#39;s ID as used internal to OT.</span>
<a name="l00213"></a><a class="code" href="class_o_t_party_account.html#adb6df939b40f2abe597cef270073a2fa">00213</a>         <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; <a class="code" href="class_o_t_party_account.html#adb6df939b40f2abe597cef270073a2fa">GetAssetTypeID</a>()<span class="keyword">   const   </span>{ <span class="keywordflow">return</span> m_strAssetTypeID; }    <span class="comment">// asset type ID for the account.</span>
<a name="l00214"></a>00214 
<a name="l00215"></a><a class="code" href="class_o_t_party_account.html#afcfac1f0d683d7cc47f990c9a2e5866c">00215</a>     <span class="keywordtype">void</span> <a class="code" href="class_o_t_party_account.html#afcfac1f0d683d7cc47f990c9a2e5866c">SetAgentName</a>(<span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; strAgentName)    { m_strAgentName    = strAgentName; }
<a name="l00216"></a><a class="code" href="class_o_t_party_account.html#a20aabdbf310f356b91f24efd89bd3de3">00216</a>     <span class="keywordtype">void</span> <a class="code" href="class_o_t_party_account.html#a20aabdbf310f356b91f24efd89bd3de3">SetAcctID</a>(<span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; strAccountID)       { m_strAcctID       = strAccountID; }
<a name="l00217"></a>00217     <span class="comment">// ----------------------------</span>
<a name="l00218"></a>00218 EXPORT  <a class="code" href="class_o_t_agent.html">OTAgent</a>   * <a class="code" href="class_o_t_party_account.html#ad8c523b08a478e4071bb2b3ca85749b1">GetAuthorizedAgent</a>();
<a name="l00219"></a>00219     <span class="comment">// ----------------------------</span>
<a name="l00220"></a>00220     <a class="code" href="class_o_t_account.html">OTAccount</a> * <a class="code" href="class_o_t_party_account.html#a3671ea20471462cfdfc09af290907ab1">LoadAccount</a>(<a class="code" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp; theSignerNym, <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; strServerID);
<a name="l00221"></a>00221     <span class="comment">// ----------------------------</span>
<a name="l00222"></a>00222     <span class="keywordtype">bool</span> <a class="code" href="class_o_t_party_account.html#acd50fd7c81369274aa9f9264bfa492a3">IsAccount</a>(<a class="code" href="class_o_t_account.html">OTAccount</a> &amp; theAccount);
<a name="l00223"></a>00223     <span class="keywordtype">bool</span> <a class="code" href="class_o_t_party_account.html#abc624a5f5a17ad05bbb9564b12e17b25">IsAccountByID</a>(<span class="keyword">const</span> <a class="code" href="class_o_t_identifier.html">OTIdentifier</a> &amp; theAcctID) <span class="keyword">const</span>;
<a name="l00224"></a>00224     <span class="comment">// ----------------------------</span>
<a name="l00225"></a>00225     <span class="keywordtype">bool</span> <a class="code" href="class_o_t_party_account.html#a126d14e990b067acb6a4149ee4639b43">VerifyOwnership</a>() <span class="keyword">const</span>; <span class="comment">// I have a ptr to my owner (party), as well as to the actual account. I will ask him to verify whether he actually owns it.</span>
<a name="l00226"></a>00226     <span class="keywordtype">bool</span> <a class="code" href="class_o_t_party_account.html#ae1ede2f4ff5e29ab6a46c6fedff21bd3">VerifyAgency</a>(); <span class="comment">// I can get a ptr to my agent, and I have one to the actual account. I will ask him to verify whether he actually has agency over it.</span>
<a name="l00227"></a>00227     <span class="comment">// -------------------</span>
<a name="l00228"></a><a class="code" href="class_o_t_party_account.html#add572c3b200be9265d9dcc4a1b1f4185">00228</a>     int64_t <a class="code" href="class_o_t_party_account.html#add572c3b200be9265d9dcc4a1b1f4185">GetClosingTransNo</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_lClosingTransNo; }
<a name="l00229"></a><a class="code" href="class_o_t_party_account.html#aa01d85490c9998c048bd39fa4512610e">00229</a>     <span class="keywordtype">void</span> <a class="code" href="class_o_t_party_account.html#aa01d85490c9998c048bd39fa4512610e">SetClosingTransNo</a>(<span class="keyword">const</span> int64_t lTransNo) { m_lClosingTransNo = lTransNo; }
<a name="l00230"></a>00230     <span class="comment">// -----------</span>
<a name="l00231"></a>00231     <span class="keywordtype">bool</span> <a class="code" href="class_o_t_party_account.html#ab1c24c8bfcb902be867320ecca289b2a">Compare</a>(<span class="keyword">const</span> <a class="code" href="class_o_t_party_account.html">OTPartyAccount</a> &amp; rhs) <span class="keyword">const</span>;
<a name="l00232"></a>00232     <span class="comment">// -----------</span>
<a name="l00233"></a>00233     <span class="keywordtype">bool</span> <a class="code" href="class_o_t_party_account.html#a77e6f313ddcfa7f3c89491c06683f10f">DropFinalReceiptToInbox</a>(<a class="code" href="_o_t_agent_8hpp.html#ac89892658f6bc83e354078647b704e8f">mapOfNyms</a> * pNymMap,
<a name="l00234"></a>00234                                  <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; strServerID,
<a name="l00235"></a>00235                                  <a class="code" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp; theServerNym,
<a name="l00236"></a>00236                                  <a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> &amp; theSmartContract,
<a name="l00237"></a>00237                                  <span class="keyword">const</span> int64_t &amp; lNewTransactionNumber,
<a name="l00238"></a>00238                                  <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; strOrigCronItem,
<a name="l00239"></a>00239                                  <a class="code" href="class_o_t_string.html">OTString</a> * pstrNote=NULL,
<a name="l00240"></a>00240                                  <a class="code" href="class_o_t_string.html">OTString</a> * pstrAttachment=NULL);
<a name="l00241"></a>00241     <span class="comment">// ------------------------------------------------------------</span>
<a name="l00242"></a>00242     <a class="code" href="class_o_t_party_account.html#a4d9ae9c76f254f6e377159eff514b724">OTPartyAccount</a>();
<a name="l00243"></a>00243     <a class="code" href="class_o_t_party_account.html#a4d9ae9c76f254f6e377159eff514b724">OTPartyAccount</a>(<span class="keyword">const</span> std::string str_account_name, <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; strAgentName, <a class="code" href="class_o_t_account.html">OTAccount</a> &amp; theAccount, int64_t lClosingTransNo);
<a name="l00244"></a>00244     <a class="code" href="class_o_t_party_account.html#a4d9ae9c76f254f6e377159eff514b724">OTPartyAccount</a>(<span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; strName, <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; strAgentName, <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; strAcctID, <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> &amp; strAssetTypeID, int64_t lClosingTransNo);
<a name="l00245"></a>00245 
<a name="l00246"></a>00246     <span class="keyword">virtual</span> <a class="code" href="class_o_t_party_account.html#a97ba55d4bf0cd96dfe63af813e858787">~OTPartyAccount</a>();
<a name="l00247"></a>00247 
<a name="l00248"></a>00248     <span class="keywordtype">void</span> <a class="code" href="class_o_t_party_account.html#a74298ea0fcac141cba140861408ad11e">Serialize</a>(<a class="code" href="class_o_t_string.html">OTString</a> &amp; strAppend,
<a name="l00249"></a>00249                    <span class="keywordtype">bool</span> bCalculatingID=<span class="keyword">false</span>,
<a name="l00250"></a>00250                    <span class="keywordtype">bool</span> bSpecifyAssetID=<span class="keyword">false</span>);
<a name="l00251"></a>00251 
<a name="l00252"></a>00252     <span class="comment">// For pointers I don&#39;t own, but store for convenience.</span>
<a name="l00253"></a>00253     <span class="comment">// This clears them once we&#39;re done processing, so I don&#39;t</span>
<a name="l00254"></a>00254     <span class="comment">// end up stuck with bad pointers on the next go-around.</span>
<a name="l00255"></a>00255     <span class="comment">//</span>
<a name="l00256"></a><a class="code" href="class_o_t_party_account.html#a860d243d151d475ab259779019632a62">00256</a>     <span class="keywordtype">void</span> <a class="code" href="class_o_t_party_account.html#a860d243d151d475ab259779019632a62">ClearTemporaryPointers</a>() { m_pAccount = NULL; }
<a name="l00257"></a>00257 };
<a name="l00258"></a>00258 
<a name="l00259"></a><a class="code" href="_o_t_party_account_8hpp.html#ad14c568ca8da6c72a36200f938fd5f59">00259</a> <span class="keyword">typedef</span> std::map&lt;std::string, OTPartyAccount *&gt; <a class="code" href="_o_t_party_account_8hpp.html#ad14c568ca8da6c72a36200f938fd5f59">mapOfPartyAccounts</a>;
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 <span class="preprocessor">#endif // __OT_PARTY_ACCOUNT_HPP__</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_o_t_party_account_8hpp.html">OTPartyAccount.hpp</a>      </li>

    <li class="footer">Generated on Wed May 21 2014 11:26:00 for Open-Transactions by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
