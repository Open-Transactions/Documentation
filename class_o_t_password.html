<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Open-Transactions: OTPassword Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open-Transactions
   &#160;<span id="projectnumber">master/1066fb4910a63ee3f7de8e0807fee3eb663b66c7</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_o_t_password.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">OTPassword Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="OTPassword" -->
<p><code>#include &lt;<a class="el" href="_o_t_password_8hpp_source.html">OTPassword.hpp</a>&gt;</code></p>

<p><a href="class_o_t_password-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923">BlockSize</a> { <a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a> =  OT_DEFAULT_BLOCKSIZE, 
<a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923ab3f2b8f631c9271b5139de430f2176b3">LARGER_SIZE</a> =  OT_LARGE_BLOCKSIZE
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a191412ad42e97cd3d36cc4f03068ab68">getPassword_uint8</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a2b3bc99637b0b01f9b4ffcae78abc5b4">getPassword</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a56c45901d84195e2f0fcfcf4be9eca3d">getPasswordWritable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a76a7156aa0d0d87a7eb3b9b5b869e014">getPasswordWritable_char</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a251ed5100b869ae4b80166453e75e964">setPassword</a> (const char *szInput, int32_t nInputSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a3284608f45ab63f567944e014b92895d">setPassword_uint8</a> (const uint8_t *szInput, uint32_t nInputSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#aa69787104515ab8c93265613e2cff5ff">addChar</a> (uint8_t theChar)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a0e4664e731c30f8a7a8f83a2e20f907f">randomizePassword</a> (uint32_t nNewSize=<a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a59342b6d2f7224d6436e4950d0432612">isMemory</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a459b9d47965257f2180bf925fc82324c">getMemory</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#af3c2834981627910da5408018c588ad1">getMemory_uint8</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a989c3d6d8546c1f5350433a431d8c252">getMemoryWritable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#ab59ffd8ebd2da40cea868865a55c12ef">setMemory</a> (const void *vInput, uint32_t nInputSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a75332e6591d69ec8a090fcef54856579">addMemory</a> (const void *vAppend, uint32_t nAppendSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#afcf148c0f8fdc26702d9448e97cedcc4">randomizeMemory</a> (uint32_t nNewSize=<a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a35306a457b2150a2298baa4f2431940d">Compare</a> (<a class="el" href="class_o_t_password.html">OTPassword</a> &amp;rhs) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a849be9ea50ea9935feba18a9a0919fe5">getPasswordSize</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a9733667570f4ee91a4c8993d11f198a8">getMemorySize</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">zeroMemory</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#aa1a20005994cc550df4c72a2df2a2dee">SetSize</a> (uint32_t uSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT <a class="el" href="class_o_t_password.html">OTPassword</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a816d822dcb4254ca49281d33d8b1bd7f">operator=</a> (const <a class="el" href="class_o_t_password.html">OTPassword</a> &amp;rhs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a62630b501bb49ac3a83a15b7c5251363">OTPassword</a> (<a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923">BlockSize</a> theBlockSize=<a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#aba74297678c0ac7c283e56ce3e5ce823">OTPassword</a> (const <a class="el" href="class_o_t_password.html">OTPassword</a> &amp;rhs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a2766c89a4776991b7b0dae27eee7febc">OTPassword</a> (const char *szInput, uint32_t nInputSize, <a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923">BlockSize</a> theBlockSize=<a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#ae096ec5921d9a7b7c035c935c18350d1">OTPassword</a> (const uint8_t *szInput, uint32_t nInputSize, <a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923">BlockSize</a> theBlockSize=<a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a670111f821dd82b6ca319b873dc821e8">OTPassword</a> (const void *vInput, uint32_t nInputSize, <a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923">BlockSize</a> theBlockSize=<a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a50d241be3e46369141c569ae518170af">~OTPassword</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#aa1b201e2d59dae5e310fce2e0c423b2e">randomizePassword_uint8</a> (uint8_t *szDestination, uint32_t nNewSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a019d0e89f1351c24c4b5734a1933f0ce">randomizePassword</a> (char *szDestination, uint32_t nNewSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a585d5bb33b5435a8b491e8da20292016">randomizeMemory_uint8</a> (uint8_t *szDestination, uint32_t nNewSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a82e50ca1274e8ca4252d8394fb8d6413">randomizeMemory</a> (void *szDestination, uint32_t nNewSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a24ed164ab95b8950bc8c356bfe387e05">zeroMemory</a> (uint8_t *szMemory, uint32_t theSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#ab29d1696109720cd0838eb559138dcec">zeroMemory</a> (void *vMemory, uint32_t theSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#aafc648fa0fdc462a670e9a39795a7b33">safe_memcpy</a> (void *dest, uint32_t dest_size, const void *src, uint32_t src_length, bool bZeroSource=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT <a class="el" href="class_o_t_password.html">OTPassword</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#a9d2847ff2f726967fbd7816be9b949bb">CreateTextBuffer</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923">BlockSize</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_password.html#aea5370f41e798ca581ee8e02bbd15f72">m_theBlockSize</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_o_t_password_8hpp_source.html#l00334">334</a> of file <a class="el" href="_o_t_password_8hpp_source.html">OTPassword.hpp</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="afc1245b2e652a77f0415174795117923"></a><!-- doxytag: member="OTPassword::BlockSize" ref="afc1245b2e652a77f0415174795117923" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923">OTPassword::BlockSize</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05"></a><!-- doxytag: member="DEFAULT_SIZE" ref="afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05" args="" -->DEFAULT_SIZE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="afc1245b2e652a77f0415174795117923ab3f2b8f631c9271b5139de430f2176b3"></a><!-- doxytag: member="LARGER_SIZE" ref="afc1245b2e652a77f0415174795117923ab3f2b8f631c9271b5139de430f2176b3" args="" -->LARGER_SIZE</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_o_t_password_8hpp_source.html#l00337">337</a> of file <a class="el" href="_o_t_password_8hpp_source.html">OTPassword.hpp</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <a class="code" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a> = <a class="code" href="_o_t_password_8hpp.html#a4bf178a2177ef80b8f15cc855efb7694">OT_DEFAULT_BLOCKSIZE</a>,  <span class="comment">// (128 bytes max length for a password.)</span>
            <a class="code" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923ab3f2b8f631c9271b5139de430f2176b3">LARGER_SIZE</a>  = <a class="code" href="_o_t_password_8hpp.html#a51a1439766783d2bbaf65be07c1a84cd">OT_LARGE_BLOCKSIZE</a>     <span class="comment">// Update: now 32767 bytes if you use this size.</span>
        };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a62630b501bb49ac3a83a15b7c5251363"></a><!-- doxytag: member="OTPassword::OTPassword" ref="a62630b501bb49ac3a83a15b7c5251363" args="(BlockSize theBlockSize=DEFAULT_SIZE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_password.html#a62630b501bb49ac3a83a15b7c5251363">OTPassword::OTPassword</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923">OTPassword::BlockSize</a>&#160;</td>
          <td class="paramname"><em>theBlockSize</em> = <code><a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00451">451</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">:   m_nPasswordSize(0),
    m_bIsText(<span class="keyword">true</span>),
    m_bIsBinary(<span class="keyword">false</span>),
    m_bIsPageLocked(<span class="keyword">false</span>),
    <a class="code" href="class_o_t_password.html#aea5370f41e798ca581ee8e02bbd15f72">m_theBlockSize</a>(theBlockSize) <span class="comment">// The buffer has this size+1 as its static size.</span>
{
    m_szPassword[0] = <span class="charliteral">&#39;\0&#39;</span>;

    <a class="code" href="class_o_t_password.html#a3284608f45ab63f567944e014b92895d">setPassword_uint8</a>(reinterpret_cast&lt;const uint8_t*&gt;(<span class="stringliteral">&quot;&quot;</span>), 0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aba74297678c0ac7c283e56ce3e5ce823"></a><!-- doxytag: member="OTPassword::OTPassword" ref="aba74297678c0ac7c283e56ce3e5ce823" args="(const OTPassword &amp;rhs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_password.html#a62630b501bb49ac3a83a15b7c5251363">OTPassword::OTPassword</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_password.html">OTPassword</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00479">479</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">:   m_nPasswordSize(0),
    m_bIsText(rhs.<a class="code" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a>()),
    m_bIsBinary(rhs.<a class="code" href="class_o_t_password.html#a59342b6d2f7224d6436e4950d0432612">isMemory</a>()),
    m_bIsPageLocked(<span class="keyword">false</span>),
    <a class="code" href="class_o_t_password.html#aea5370f41e798ca581ee8e02bbd15f72">m_theBlockSize</a>(rhs.<a class="code" href="class_o_t_password.html#aea5370f41e798ca581ee8e02bbd15f72">m_theBlockSize</a>) <span class="comment">// The buffer has this size+1 as its static size.</span>
{
    <span class="keywordflow">if</span> (m_bIsText)
    {
        m_szPassword[0] = <span class="charliteral">&#39;\0&#39;</span>;
        <a class="code" href="class_o_t_password.html#a3284608f45ab63f567944e014b92895d">setPassword_uint8</a>(rhs.<a class="code" href="class_o_t_password.html#a191412ad42e97cd3d36cc4f03068ab68">getPassword_uint8</a>(), rhs.<a class="code" href="class_o_t_password.html#a849be9ea50ea9935feba18a9a0919fe5">getPasswordSize</a>());
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_bIsBinary)
    {
        <a class="code" href="class_o_t_password.html#ab59ffd8ebd2da40cea868865a55c12ef">setMemory</a>(rhs.<a class="code" href="class_o_t_password.html#af3c2834981627910da5408018c588ad1">getMemory_uint8</a>(), rhs.<a class="code" href="class_o_t_password.html#a9733667570f4ee91a4c8993d11f198a8">getMemorySize</a>());
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2766c89a4776991b7b0dae27eee7febc"></a><!-- doxytag: member="OTPassword::OTPassword" ref="a2766c89a4776991b7b0dae27eee7febc" args="(const char *szInput, uint32_t nInputSize, BlockSize theBlockSize=DEFAULT_SIZE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_password.html#a62630b501bb49ac3a83a15b7c5251363">OTPassword::OTPassword</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nInputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923">OTPassword::BlockSize</a>&#160;</td>
          <td class="paramname"><em>theBlockSize</em> = <code><a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00498">498</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">:   m_nPasswordSize(0),
    m_bIsText(<span class="keyword">true</span>),
    m_bIsBinary(<span class="keyword">false</span>),
    m_bIsPageLocked(<span class="keyword">false</span>),
    <a class="code" href="class_o_t_password.html#aea5370f41e798ca581ee8e02bbd15f72">m_theBlockSize</a>(theBlockSize) <span class="comment">// The buffer has this size+1 as its static size.</span>
{
    m_szPassword[0] = <span class="charliteral">&#39;\0&#39;</span>;

    <a class="code" href="class_o_t_password.html#a3284608f45ab63f567944e014b92895d">setPassword_uint8</a>(reinterpret_cast&lt;const uint8_t*&gt;(szInput), nInputSize);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae096ec5921d9a7b7c035c935c18350d1"></a><!-- doxytag: member="OTPassword::OTPassword" ref="ae096ec5921d9a7b7c035c935c18350d1" args="(const uint8_t *szInput, uint32_t nInputSize, BlockSize theBlockSize=DEFAULT_SIZE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_password.html#a62630b501bb49ac3a83a15b7c5251363">OTPassword::OTPassword</a> </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>szInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nInputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923">OTPassword::BlockSize</a>&#160;</td>
          <td class="paramname"><em>theBlockSize</em> = <code><a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00511">511</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">:   m_nPasswordSize(0),
    m_bIsText(<span class="keyword">true</span>),
    m_bIsBinary(<span class="keyword">false</span>),
    m_bIsPageLocked(<span class="keyword">false</span>),
    <a class="code" href="class_o_t_password.html#aea5370f41e798ca581ee8e02bbd15f72">m_theBlockSize</a>(theBlockSize) <span class="comment">// The buffer has this size+1 as its static size.</span>
{
    m_szPassword[0] = <span class="charliteral">&#39;\0&#39;</span>;

    <a class="code" href="class_o_t_password.html#a3284608f45ab63f567944e014b92895d">setPassword_uint8</a>(szInput, nInputSize);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a670111f821dd82b6ca319b873dc821e8"></a><!-- doxytag: member="OTPassword::OTPassword" ref="a670111f821dd82b6ca319b873dc821e8" args="(const void *vInput, uint32_t nInputSize, BlockSize theBlockSize=DEFAULT_SIZE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_password.html#a62630b501bb49ac3a83a15b7c5251363">OTPassword::OTPassword</a> </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>vInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nInputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923">OTPassword::BlockSize</a>&#160;</td>
          <td class="paramname"><em>theBlockSize</em> = <code><a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00524">524</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">:   m_nPasswordSize(0),
    m_bIsText(<span class="keyword">false</span>),
    m_bIsBinary(<span class="keyword">true</span>),
    m_bIsPageLocked(<span class="keyword">false</span>),
    <a class="code" href="class_o_t_password.html#aea5370f41e798ca581ee8e02bbd15f72">m_theBlockSize</a>(theBlockSize) <span class="comment">// The buffer has this size+1 as its static size.</span>
{
    <a class="code" href="class_o_t_password.html#ab59ffd8ebd2da40cea868865a55c12ef">setMemory</a>(vInput, nInputSize);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a50d241be3e46369141c569ae518170af"></a><!-- doxytag: member="OTPassword::~OTPassword" ref="a50d241be3e46369141c569ae518170af" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_password.html#a50d241be3e46369141c569ae518170af">OTPassword::~OTPassword</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00535">535</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (m_nPasswordSize &gt; 0)
        <a class="code" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">zeroMemory</a>();
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa69787104515ab8c93265613e2cff5ff"></a><!-- doxytag: member="OTPassword::addChar" ref="aa69787104515ab8c93265613e2cff5ff" args="(uint8_t theChar)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_password.html#aa69787104515ab8c93265613e2cff5ff">OTPassword::addChar</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>theChar</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00642">642</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(<a class="code" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a>());
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_password.html#a849be9ea50ea9935feba18a9a0919fe5">getPasswordSize</a>() &lt; <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>())
    {
        m_szPassword[m_nPasswordSize] = theChar;
        ++m_nPasswordSize;
        m_szPassword[m_nPasswordSize] = <span class="charliteral">&#39;\0&#39;</span>;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a75332e6591d69ec8a090fcef54856579"></a><!-- doxytag: member="OTPassword::addMemory" ref="a75332e6591d69ec8a090fcef54856579" args="(const void *vAppend, uint32_t nAppendSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t <a class="el" href="class_o_t_password.html#a75332e6591d69ec8a090fcef54856579">OTPassword::addMemory</a> </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>vAppend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nAppendSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00957">957</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != vAppend);

<span class="comment">//  const char * szFunc = &quot;OTPassword::addMemory&quot;;</span>
    <span class="comment">// ---------------------------------</span>
    <span class="keywordflow">if</span> (0 == nAppendSize)
        <span class="keywordflow">return</span> 0;
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// If I&#39;m currently at a 0 size, then call setMemory instead.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (m_nPasswordSize == 0)
        <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_o_t_password.html#ab59ffd8ebd2da40cea868865a55c12ef">setMemory</a>(vAppend, nAppendSize);
    <span class="comment">// ***********************************************</span>
    <span class="comment">//</span>
    <span class="comment">// By this point, I know I already have some memory allocated,</span>
    <span class="comment">// and I&#39;m actually appending some other memory onto the end of it.</span>
    <span class="comment">//</span>
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(m_bIsBinary); <span class="comment">// Should already be set from the above setMemory call.</span>
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// Make sure total new size isn&#39;t larger than our block size</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> ((nAppendSize + m_nPasswordSize) &gt; <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>())
        nAppendSize = (<a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>() - m_nPasswordSize); <span class="comment">// Truncated password beyond max size.</span>
    <span class="comment">// ---------------------------------</span>
<span class="comment">//  OT_ASSERT(nAppendSize &gt;= 0);</span>

    <span class="keywordflow">if</span> (0 == nAppendSize)
        <span class="keywordflow">return</span> 0;
    <span class="comment">// ------------------------------------</span>
    <span class="comment">// By this point, I know nAppendSize is larger than 0, AND that appending it onto the</span>
    <span class="comment">// existing memory of this object will not exceed the total allowed block size.</span>
    <span class="comment">//</span>
    <span class="comment">// Because we use setMemory when empty, and only use addMemory when we KNOW something</span>
    <span class="comment">// is already there, therefore we know the page is already locked, so no need to go</span>
    <span class="comment">// trying to lock it again.</span>
    <span class="comment">// ---------------------------------</span>
    <a class="code" href="class_o_t_password.html#aafc648fa0fdc462a670e9a39795a7b33">OTPassword::safe_memcpy</a>(static_cast&lt;void *&gt;(&amp;(m_szPassword[m_nPasswordSize])),
                            static_cast&lt;uint32_t&gt;(nAppendSize), <span class="comment">// dest size is based on the source size, but guaranteed to be &gt;0 and &lt;=getBlockSize</span>
                            vAppend,
                            static_cast&lt;uint32_t&gt;(nAppendSize)); <span class="comment">// Since dest size is known to be src size or less (and &gt;0) we use it as src size. (We may have truncated... and we certainly don&#39;t want to copy beyond our own truncation.)</span>
    <span class="comment">// ---------------------------------</span>
    m_nPasswordSize += nAppendSize;
    <span class="comment">// ---------------------------------</span>
    <span class="keywordflow">return</span> nAppendSize;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a35306a457b2150a2298baa4f2431940d"></a><!-- doxytag: member="OTPassword::Compare" ref="a35306a457b2150a2298baa4f2431940d" args="(OTPassword &amp;rhs) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_password.html#a35306a457b2150a2298baa4f2431940d">OTPassword::Compare</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_password.html">OTPassword</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00656">656</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(this-&gt;<a class="code" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a>() || this-&gt;<a class="code" href="class_o_t_password.html#a59342b6d2f7224d6436e4950d0432612">isMemory</a>());
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(rhs.<a class="code" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a>()   || rhs.<a class="code" href="class_o_t_password.html#a59342b6d2f7224d6436e4950d0432612">isMemory</a>());

    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a>() &amp;&amp; !rhs.<a class="code" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a>())
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_o_t_password.html#a59342b6d2f7224d6436e4950d0432612">isMemory</a>() &amp;&amp; !rhs.<a class="code" href="class_o_t_password.html#a59342b6d2f7224d6436e4950d0432612">isMemory</a>())
        <span class="keywordflow">return</span> <span class="keyword">false</span>;

    <span class="keyword">const</span> uint32_t nThisSize = this-&gt;<a class="code" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a>() ? this-&gt;<a class="code" href="class_o_t_password.html#a849be9ea50ea9935feba18a9a0919fe5">getPasswordSize</a>() : this-&gt;<a class="code" href="class_o_t_password.html#a9733667570f4ee91a4c8993d11f198a8">getMemorySize</a>();
    <span class="keyword">const</span> uint32_t nRhsSize  = rhs.<a class="code" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a>()   ? rhs.<a class="code" href="class_o_t_password.html#a849be9ea50ea9935feba18a9a0919fe5">getPasswordSize</a>()   : rhs.<a class="code" href="class_o_t_password.html#a9733667570f4ee91a4c8993d11f198a8">getMemorySize</a>();

    <span class="keywordflow">if</span> (nThisSize != nRhsSize)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;

    <span class="keywordflow">if</span> (0 == memcmp(this-&gt;<a class="code" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a>() ? this-&gt;<a class="code" href="class_o_t_password.html#a191412ad42e97cd3d36cc4f03068ab68">getPassword_uint8</a>() : this-&gt;<a class="code" href="class_o_t_password.html#af3c2834981627910da5408018c588ad1">getMemory_uint8</a>(),
                    rhs.  <a class="code" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a>() ? rhs.  <a class="code" href="class_o_t_password.html#a191412ad42e97cd3d36cc4f03068ab68">getPassword_uint8</a>() : rhs.  <a class="code" href="class_o_t_password.html#af3c2834981627910da5408018c588ad1">getMemory_uint8</a>(),
                    rhs.  <a class="code" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a>() ? rhs.  <a class="code" href="class_o_t_password.html#a849be9ea50ea9935feba18a9a0919fe5">getPasswordSize</a>()   : rhs.  <a class="code" href="class_o_t_password.html#a9733667570f4ee91a4c8993d11f198a8">getMemorySize</a>()) )
        <span class="keywordflow">return</span> <span class="keyword">true</span>;

    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9d2847ff2f726967fbd7816be9b949bb"></a><!-- doxytag: member="OTPassword::CreateTextBuffer" ref="a9d2847ff2f726967fbd7816be9b949bb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_password.html">OTPassword</a> * <a class="el" href="class_o_t_password.html#a9d2847ff2f726967fbd7816be9b949bb">OTPassword::CreateTextBuffer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00429">429</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// Caller MUST delete!</span>
    <span class="comment">// ---------------------------------------------------</span>
    <span class="keywordtype">char</span>  throwaway_text[<a class="code" href="_o_t_callback_8hpp.html#a4bf178a2177ef80b8f15cc855efb7694">OT_DEFAULT_BLOCKSIZE</a>];
    <span class="keywordflow">for</span> (int32_t tt = 0; tt &lt; <a class="code" href="_o_t_callback_8hpp.html#a4bf178a2177ef80b8f15cc855efb7694">OT_DEFAULT_BLOCKSIZE</a>; ++tt)
    {
        throwaway_text[tt] = <span class="charliteral">&#39;A&#39;</span>; <span class="comment">// todo optimization...</span>
    }
    throwaway_text[OT_DEFAULT_BLOCKSIZE-1] = <span class="charliteral">&#39;\0&#39;</span>;
    <span class="comment">// We don&#39;t use the above memory, except to force OTPassword to create itself</span>
    <span class="comment">// at a certain password size, so we can pass that buffer and size on to any</span>
    <span class="comment">// C-style function that needs them to &quot;already exist.&quot;</span>
    <span class="comment">//</span>
    <a class="code" href="class_o_t_password.html">OTPassword</a> * pPassUserInput = <span class="keyword">new</span> <a class="code" href="class_o_t_password.html#a62630b501bb49ac3a83a15b7c5251363">OTPassword</a>(&amp;(throwaway_text[0]), OT_DEFAULT_BLOCKSIZE-1); <span class="comment">// text mode.</span>
    <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>(NULL != pPassUserInput, <span class="stringliteral">&quot;OTPassword::CreateTextBuffer: ASSERT: OTPassword * pPassUserInput = new OTPassword(&amp;(throwaway_text[0]), OT_DEFAULT_BLOCKSIZE-1);&quot;</span>);
    <span class="comment">// Below this point, pPassUserInput must be returned, or deleted. (Or it will leak.)</span>
    <span class="comment">// -----------------------------------------------</span>
    <span class="keywordflow">return</span> pPassUserInput;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8a596bf908d5410df57568639d171fe7"></a><!-- doxytag: member="OTPassword::getBlockSize" ref="a8a596bf908d5410df57568639d171fe7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">OTPassword::getBlockSize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00608">608</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    uint32_t nReturn = 0;

    <span class="keywordflow">switch</span>(<a class="code" href="class_o_t_password.html#aea5370f41e798ca581ee8e02bbd15f72">m_theBlockSize</a>)
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">OTPassword::DEFAULT_SIZE</a>:
            nReturn =  <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="_o_t_callback_8hpp.html#a4bf178a2177ef80b8f15cc855efb7694">OT_DEFAULT_BLOCKSIZE</a>);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923ab3f2b8f631c9271b5139de430f2176b3">OTPassword::LARGER_SIZE</a>:
            nReturn =  <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="_o_t_callback_8hpp.html#a51a1439766783d2bbaf65be07c1a84cd">OT_LARGE_BLOCKSIZE</a>);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">default</span>:
            <span class="keywordflow">break</span>;
    }

    <span class="keywordflow">return</span> nReturn;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a459b9d47965257f2180bf925fc82324c"></a><!-- doxytag: member="OTPassword::getMemory" ref="a459b9d47965257f2180bf925fc82324c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void * <a class="el" href="class_o_t_password.html#a459b9d47965257f2180bf925fc82324c">OTPassword::getMemory</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00586">586</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="class_o_t_password.html#af3c2834981627910da5408018c588ad1">getMemory_uint8</a>());
}
</pre></div>
</div>
</div>
<a class="anchor" id="af3c2834981627910da5408018c588ad1"></a><!-- doxytag: member="OTPassword::getMemory_uint8" ref="af3c2834981627910da5408018c588ad1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t * <a class="el" href="class_o_t_password.html#af3c2834981627910da5408018c588ad1">OTPassword::getMemory_uint8</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00592">592</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(m_bIsBinary);
    <span class="keywordflow">return</span> (m_nPasswordSize &lt;= 0) ? NULL : <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>uint8_t *<span class="keyword">&gt;</span>(&amp;(m_szPassword[0]));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9733667570f4ee91a4c8993d11f198a8"></a><!-- doxytag: member="OTPassword::getMemorySize" ref="a9733667570f4ee91a4c8993d11f198a8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="class_o_t_password.html#a9733667570f4ee91a4c8993d11f198a8">OTPassword::getMemorySize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00635">635</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(m_bIsBinary);
    <span class="keywordflow">return</span> m_nPasswordSize;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a989c3d6d8546c1f5350433a431d8c252"></a><!-- doxytag: member="OTPassword::getMemoryWritable" ref="a989c3d6d8546c1f5350433a431d8c252" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * <a class="el" href="class_o_t_password.html#a989c3d6d8546c1f5350433a431d8c252">OTPassword::getMemoryWritable</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00601">601</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(m_bIsBinary);
    <span class="keywordflow">return</span> (m_nPasswordSize &lt;= 0) ? NULL : <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(&amp;(m_szPassword[0]));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2b3bc99637b0b01f9b4ffcae78abc5b4"></a><!-- doxytag: member="OTPassword::getPassword" ref="a2b3bc99637b0b01f9b4ffcae78abc5b4" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * <a class="el" href="class_o_t_password.html#a2b3bc99637b0b01f9b4ffcae78abc5b4">OTPassword::getPassword</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00554">554</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="class_o_t_password.html#a191412ad42e97cd3d36cc4f03068ab68">getPassword_uint8</a>());

}
</pre></div>
</div>
</div>
<a class="anchor" id="a191412ad42e97cd3d36cc4f03068ab68"></a><!-- doxytag: member="OTPassword::getPassword_uint8" ref="a191412ad42e97cd3d36cc4f03068ab68" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t * <a class="el" href="class_o_t_password.html#a191412ad42e97cd3d36cc4f03068ab68">OTPassword::getPassword_uint8</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00563">563</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(m_bIsText);
    <span class="keywordflow">return</span> (m_nPasswordSize &lt;= 0) ? <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t *<span class="keyword">&gt;</span>(<span class="stringliteral">&quot;&quot;</span>) : &amp;(m_szPassword[0]);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a849be9ea50ea9935feba18a9a0919fe5"></a><!-- doxytag: member="OTPassword::getPasswordSize" ref="a849be9ea50ea9935feba18a9a0919fe5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="class_o_t_password.html#a849be9ea50ea9935feba18a9a0919fe5">OTPassword::getPasswordSize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00628">628</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(m_bIsText);
    <span class="keywordflow">return</span> m_nPasswordSize;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a56c45901d84195e2f0fcfcf4be9eca3d"></a><!-- doxytag: member="OTPassword::getPasswordWritable" ref="a56c45901d84195e2f0fcfcf4be9eca3d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * <a class="el" href="class_o_t_password.html#a56c45901d84195e2f0fcfcf4be9eca3d">OTPassword::getPasswordWritable</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00570">570</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(m_bIsText);
    <span class="keywordflow">return</span> (m_nPasswordSize &lt;= 0) ? NULL : <span class="keyword">static_cast&lt;</span>uint8_t *<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(&amp;(m_szPassword[0])));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a76a7156aa0d0d87a7eb3b9b5b869e014"></a><!-- doxytag: member="OTPassword::getPasswordWritable_char" ref="a76a7156aa0d0d87a7eb3b9b5b869e014" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * <a class="el" href="class_o_t_password.html#a76a7156aa0d0d87a7eb3b9b5b869e014">OTPassword::getPasswordWritable_char</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00577">577</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(m_bIsText);
    <span class="keywordflow">return</span> (m_nPasswordSize &lt;= 0) ? NULL : <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(&amp;(m_szPassword[0])));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a59342b6d2f7224d6436e4950d0432612"></a><!-- doxytag: member="OTPassword::isMemory" ref="a59342b6d2f7224d6436e4950d0432612" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_password.html#a59342b6d2f7224d6436e4950d0432612">OTPassword::isMemory</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00548">548</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> m_bIsBinary;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9ff2880813b81165a350c92e930ba311"></a><!-- doxytag: member="OTPassword::isPassword" ref="a9ff2880813b81165a350c92e930ba311" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">OTPassword::isPassword</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00542">542</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> m_bIsText;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a816d822dcb4254ca49281d33d8b1bd7f"></a><!-- doxytag: member="OTPassword::operator=" ref="a816d822dcb4254ca49281d33d8b1bd7f" args="(const OTPassword &amp;rhs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_password.html">OTPassword</a> &amp; OTPassword::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_password.html">OTPassword</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00464">464</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (rhs.<a class="code" href="class_o_t_password.html#a9ff2880813b81165a350c92e930ba311">isPassword</a>())
    {
        <a class="code" href="class_o_t_password.html#a3284608f45ab63f567944e014b92895d">setPassword_uint8</a>(rhs.<a class="code" href="class_o_t_password.html#a191412ad42e97cd3d36cc4f03068ab68">getPassword_uint8</a>(), rhs.<a class="code" href="class_o_t_password.html#a849be9ea50ea9935feba18a9a0919fe5">getPasswordSize</a>());
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rhs.<a class="code" href="class_o_t_password.html#a59342b6d2f7224d6436e4950d0432612">isMemory</a>())
    {
        <a class="code" href="class_o_t_password.html#ab59ffd8ebd2da40cea868865a55c12ef">setMemory</a>(rhs.<a class="code" href="class_o_t_password.html#af3c2834981627910da5408018c588ad1">getMemory_uint8</a>(), rhs.<a class="code" href="class_o_t_password.html#a9733667570f4ee91a4c8993d11f198a8">getMemorySize</a>());
    }

    <span class="keywordflow">return</span> *<span class="keyword">this</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="afcf148c0f8fdc26702d9448e97cedcc4"></a><!-- doxytag: member="OTPassword::randomizeMemory" ref="afcf148c0f8fdc26702d9448e97cedcc4" args="(uint32_t nNewSize=DEFAULT_SIZE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t <a class="el" href="class_o_t_password.html#afcf148c0f8fdc26702d9448e97cedcc4">OTPassword::randomizeMemory</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nNewSize</em> = <code><a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00903">903</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    uint32_t nSize = nNewSize;
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// Wipe whatever was in there before.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (m_nPasswordSize &gt; 0)
        <a class="code" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">zeroMemory</a>();
    <span class="comment">// ---------------------------------</span>
    m_bIsBinary = <span class="keyword">true</span>;
    m_bIsText   = <span class="keyword">false</span>;
    <span class="comment">// ---------------------------------</span>
    <span class="keywordflow">if</span> (0 == nSize)
        <span class="keywordflow">return</span> 0;
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// Make sure no input size is larger than our block size</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (nSize &gt; <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>())
        nSize = <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>(); <span class="comment">// Truncated password beyond max size.</span>

<span class="preprocessor">#ifndef _WIN32</span>
<span class="preprocessor"></span>    <span class="comment">//</span>
    <span class="comment">// Lock the memory page, before we randomize &#39;size bytes&#39; of the data.</span>
    <span class="comment">// (If it&#39;s not already locked, which I doubt it will be.)</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (!m_bIsPageLocked) <span class="comment">// it won&#39;t be locked already, since we just zero&#39;d it (above.) But I check this anyway...</span>
    {
        <span class="keywordflow">if</span> (<a class="code" href="_o_t_password_8cpp.html#a84c8d5915d02c4f2ea5daa13109a5814">ot_lockPage</a>(static_cast&lt;void *&gt;(&amp;(m_szPassword[0])), <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>()))
        {
            m_bIsPageLocked = <span class="keyword">true</span>;
        }
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error: Failed attempting to lock memory page.\n&quot;</span>, __FUNCTION__);
    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <span class="comment">// ---------------------------------</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_password.html#a585d5bb33b5435a8b491e8da20292016">OTPassword::randomizeMemory_uint8</a>(&amp;(m_szPassword[0]), nSize))
    {
        <span class="comment">// randomizeMemory (above) already logs, so I&#39;m not logging again twice here.</span>
        <span class="comment">//</span>
        <a class="code" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">zeroMemory</a>();
        <span class="keywordflow">return</span> -1;
    }
    <span class="comment">// --------------------------------------------------</span>
    m_nPasswordSize = nSize;

    <span class="keywordflow">return</span> m_nPasswordSize;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a82e50ca1274e8ca4252d8394fb8d6413"></a><!-- doxytag: member="OTPassword::randomizeMemory" ref="a82e50ca1274e8ca4252d8394fb8d6413" args="(void *szDestination, uint32_t nNewSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_password.html#afcf148c0f8fdc26702d9448e97cedcc4">OTPassword::randomizeMemory</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>szDestination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nNewSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00887">887</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="class_o_t_password.html#a585d5bb33b5435a8b491e8da20292016">OTPassword::randomizeMemory_uint8</a>(reinterpret_cast&lt;uint8_t *&gt;(szDestination), nNewSize);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a585d5bb33b5435a8b491e8da20292016"></a><!-- doxytag: member="OTPassword::randomizeMemory_uint8" ref="a585d5bb33b5435a8b491e8da20292016" args="(uint8_t *szDestination, uint32_t nNewSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_password.html#a585d5bb33b5435a8b491e8da20292016">OTPassword::randomizeMemory_uint8</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>szDestination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nNewSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00894">894</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="class_o_t_crypto.html#af10d51149df4803f79b4b2fed829430b">OTCrypto::It</a>()-&gt;<a class="code" href="class_o_t_crypto.html#aab483422df984864d2bc2bbba2cbcd0b">RandomizeMemory</a>(szDestination, nNewSize);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0e4664e731c30f8a7a8f83a2e20f907f"></a><!-- doxytag: member="OTPassword::randomizePassword" ref="a0e4664e731c30f8a7a8f83a2e20f907f" args="(uint32_t nNewSize=DEFAULT_SIZE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t <a class="el" href="class_o_t_password.html#a0e4664e731c30f8a7a8f83a2e20f907f">OTPassword::randomizePassword</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nNewSize</em> = <code><a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923a4e1166a2183ba066efb66f133ec92b05">DEFAULT_SIZE</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00836">836</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    uint32_t nSize = nNewSize;
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// Wipe whatever was in there before.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (m_nPasswordSize &gt; 0)
        <a class="code" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">zeroMemory</a>();
    <span class="comment">// ---------------------------------</span>
    m_bIsBinary = <span class="keyword">false</span>;
    m_bIsText   = <span class="keyword">true</span>;
    <span class="comment">// ---------------------------------</span>
    <span class="keywordflow">if</span> (0 == nSize)
        <span class="keywordflow">return</span> 0;
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// Make sure no input size is larger than our block size</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (nSize &gt; <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>())
        nSize = <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>(); <span class="comment">// Truncated password beyond max size.</span>
<span class="preprocessor">#ifndef _WIN32</span>
<span class="preprocessor"></span>    <span class="comment">//</span>
    <span class="comment">// Lock the memory page, before we randomize &#39;size bytes&#39; of the data.</span>
    <span class="comment">// (If it&#39;s not already locked, which I doubt it will be.)</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (!m_bIsPageLocked) <span class="comment">// it won&#39;t be locked already, since we just zero&#39;d it (above.) But I check this anyway...</span>
    {
        <span class="keywordflow">if</span> (<a class="code" href="_o_t_password_8cpp.html#a84c8d5915d02c4f2ea5daa13109a5814">ot_lockPage</a>(static_cast&lt;void *&gt;(&amp;(m_szPassword[0])), <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>()))
        {
            m_bIsPageLocked = <span class="keyword">true</span>;
        }
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error: Failed attempting to lock memory page.\n&quot;</span>, __FUNCTION__);
    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <span class="comment">// ---------------------------------</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_password.html#aa1b201e2d59dae5e310fce2e0c423b2e">OTPassword::randomizePassword_uint8</a>(&amp;(m_szPassword[0]), static_cast&lt;int32_t&gt;(nSize+1)))
    {
        <span class="comment">// randomizeMemory (above) already logs, so I&#39;m not logging again twice here.</span>
        <span class="comment">//</span>
        <a class="code" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">zeroMemory</a>();
        <span class="keywordflow">return</span> -1;
    }
    <span class="comment">// --------------------------------------------------</span>
    m_nPasswordSize = nSize;

    <span class="keywordflow">return</span> m_nPasswordSize;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a019d0e89f1351c24c4b5734a1933f0ce"></a><!-- doxytag: member="OTPassword::randomizePassword" ref="a019d0e89f1351c24c4b5734a1933f0ce" args="(char *szDestination, uint32_t nNewSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_password.html#a0e4664e731c30f8a7a8f83a2e20f907f">OTPassword::randomizePassword</a> </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>szDestination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nNewSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00796">796</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="class_o_t_password.html#aa1b201e2d59dae5e310fce2e0c423b2e">OTPassword::randomizePassword_uint8</a>(reinterpret_cast&lt;uint8_t *&gt;(szDestination), nNewSize);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa1b201e2d59dae5e310fce2e0c423b2e"></a><!-- doxytag: member="OTPassword::randomizePassword_uint8" ref="aa1b201e2d59dae5e310fce2e0c423b2e" args="(uint8_t *szDestination, uint32_t nNewSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_password.html#aa1b201e2d59dae5e310fce2e0c423b2e">OTPassword::randomizePassword_uint8</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>szDestination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nNewSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00803">803</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != szDestination);
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(nNewSize &gt; 0);
    <span class="comment">// ---------------------------------</span>
<span class="comment">//  const char * szFunc = &quot;OTPassword::randomizePassword(static)&quot;;</span>
    <span class="comment">// ---------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_password.html#a585d5bb33b5435a8b491e8da20292016">OTPassword::randomizeMemory_uint8</a>(szDestination, nNewSize))
    {
        <span class="comment">// --------------------------------------------------</span>
        <span class="comment">// This loop converts an array of binary bytes into the</span>
        <span class="comment">// same array, where each byte is translated to a byte</span>
        <span class="comment">// between the values of 33 and 122 (visible ASCII.)</span>
        <span class="comment">//</span>
        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; nNewSize; ++i)
        {
            uint8_t temp     =  (( (szDestination[i]) % 89 ) + 33);
            szDestination[i] = temp;
        }
        <span class="comment">// --------------------------------------------------</span>
        <span class="comment">// Add the NULL terminator...</span>
        <span class="comment">//</span>
        szDestination[nNewSize-1] = <span class="charliteral">&#39;\0&#39;</span>;

        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aafc648fa0fdc462a670e9a39795a7b33"></a><!-- doxytag: member="OTPassword::safe_memcpy" ref="aafc648fa0fdc462a670e9a39795a7b33" args="(void *dest, uint32_t dest_size, const void *src, uint32_t src_length, bool bZeroSource=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * <a class="el" href="class_o_t_password.html#aafc648fa0fdc462a670e9a39795a7b33">OTPassword::safe_memcpy</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dest_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>src_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bZeroSource</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00363">363</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;

    <span class="comment">// Make sure they aren&#39;t null.</span>
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != dest);
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != src);

    <span class="comment">// Make sure they aren&#39;t the same pointer.</span>
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(src != dest);

    <span class="comment">// Make sure it will fit.</span>
    <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>(src_length &lt;= dest_size, <span class="stringliteral">&quot;ASSERT: safe_memcpy: destination buffer too small.\n&quot;</span>);

    <span class="comment">// Make sure they don&#39;t overlap.</span>
    <span class="comment">// First assert does the beginning of the string, makes sure it&#39;s not within the bounds of the destination</span>
    <span class="comment">// string. Second assert does the same thing for the end of the string. Finally a third is needed to make sure</span>
    <span class="comment">// we&#39;re not in a situation where the beginning is less than the dest beginning, yet the end is also more than</span>
    <span class="comment">// the dest ending!</span>
    <span class="comment">//</span>
    <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>(<span class="keyword">false</span> == ((static_cast&lt;const uint8_t *&gt;(src) &gt;   static_cast&lt;uint8_t *&gt;(dest)) &amp;&amp;
                            (static_cast&lt;const uint8_t *&gt;(src) &lt;  (static_cast&lt;uint8_t *&gt;(dest) + dest_size))),
                  <span class="stringliteral">&quot;ASSERT: safe_memcpy: Unexpected memory overlap, start of src.\n&quot;</span>);
    <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>(<span class="keyword">false</span> == (((static_cast&lt;const uint8_t *&gt;(src) + src_length) &gt;   static_cast&lt;uint8_t *&gt;(dest)) &amp;&amp;
                            ((static_cast&lt;const uint8_t *&gt;(src) + src_length) &lt;  (static_cast&lt;uint8_t *&gt;(dest) + dest_size))),
                  <span class="stringliteral">&quot;ASSERT: safe_memcpy: Unexpected memory overlap, end of src.\n&quot;</span>);
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(<span class="keyword">false</span> ==  ((static_cast&lt;const uint8_t *&gt;(src) &lt;= static_cast&lt;uint8_t *&gt;(dest)) &amp;&amp;
                        ((static_cast&lt;const uint8_t *&gt;(src) + src_length) &gt;= (static_cast&lt;uint8_t *&gt;(dest) + dest_size))));

<span class="preprocessor">#ifdef _WIN32</span>
<span class="preprocessor"></span>    bSuccess = (0 == memcpy_s(dest,         <span class="comment">// destination</span>
                              static_cast&lt;size_t&gt;(dest_size),    <span class="comment">// size of destination buffer.</span>
                              src,          <span class="comment">// source</span>
                              static_cast&lt;size_t&gt;(src_length))); <span class="comment">// length of source.</span>
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    bSuccess = (memcpy(dest, src, static_cast&lt;size_t&gt;(src_length)) == dest);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    <span class="keywordflow">if</span> (bSuccess)
    {
        <span class="keywordflow">if</span> (bZeroSource)
        {
            <a class="code" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">OTPassword::zeroMemory</a>(const_cast&lt;void *&gt;(src), src_length);
        }
        <span class="comment">// ------------------------</span>
        <span class="keywordflow">return</span> dest;
    }

    <span class="keywordflow">return</span> NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab59ffd8ebd2da40cea868865a55c12ef"></a><!-- doxytag: member="OTPassword::setMemory" ref="ab59ffd8ebd2da40cea868865a55c12ef" args="(const void *vInput, uint32_t nInputSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t <a class="el" href="class_o_t_password.html#ab59ffd8ebd2da40cea868865a55c12ef">OTPassword::setMemory</a> </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>vInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nInputSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l01008">1008</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != vInput);
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// Wipe whatever was in there before.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (m_nPasswordSize &gt; 0)
        <a class="code" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">zeroMemory</a>();
    <span class="comment">// ---------------------------------</span>
    m_bIsBinary = <span class="keyword">true</span>;
    m_bIsText   = <span class="keyword">false</span>;
    <span class="comment">// ---------------------------------</span>
    <span class="keywordflow">if</span> (0 == nInputSize)
        <span class="keywordflow">return</span> 0;
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// Make sure no input size is larger than our block size</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (nInputSize &gt; <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>())
        nInputSize = <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>(); <span class="comment">// Truncated password beyond max size.</span>
    <span class="comment">// ---------------------------------</span>

<span class="preprocessor">#ifndef _WIN32</span>
<span class="preprocessor"></span>    <span class="comment">//</span>
    <span class="comment">// Lock the memory page, before we copy the data over.</span>
    <span class="comment">// (If it&#39;s not already locked, which I doubt it will be.)</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (!m_bIsPageLocked) <span class="comment">// it won&#39;t be locked already, since we just zero&#39;d it (above.) But I check this anyway...</span>
    {
        <span class="keywordflow">if</span> (<a class="code" href="_o_t_password_8cpp.html#a84c8d5915d02c4f2ea5daa13109a5814">ot_lockPage</a>(static_cast&lt;void *&gt;(&amp;(m_szPassword[0])), <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>()))
        {
            m_bIsPageLocked = <span class="keyword">true</span>;
        }
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error: Failed attempting to lock memory page.\n&quot;</span>, __FUNCTION__);
    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    <span class="comment">// ---------------------------------</span>
    <a class="code" href="class_o_t_password.html#aafc648fa0fdc462a670e9a39795a7b33">OTPassword::safe_memcpy</a>(static_cast&lt;void *&gt;(&amp;(m_szPassword[0])),
                            static_cast&lt;uint32_t&gt;(nInputSize), <span class="comment">// dest size is based on the source size, but guaranteed to be &gt;0 and &lt;=getBlockSize</span>
                            vInput,
                            static_cast&lt;uint32_t&gt;(nInputSize)); <span class="comment">// Since dest size is known to be src size or less (and &gt;0) we use it as src size. (We may have truncated... and we certainly don&#39;t want to copy beyond our own truncation.)</span>
    <span class="comment">// ---------------------------------</span>
    m_nPasswordSize = nInputSize;
    <span class="comment">// ---------------------------------</span>
    <span class="keywordflow">return</span> m_nPasswordSize;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a251ed5100b869ae4b80166453e75e964"></a><!-- doxytag: member="OTPassword::setPassword" ref="a251ed5100b869ae4b80166453e75e964" args="(const char *szInput, int32_t nInputSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t <a class="el" href="class_o_t_password.html#a251ed5100b869ae4b80166453e75e964">OTPassword::setPassword</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>nInputSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00684">684</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="class_o_t_password.html#a3284608f45ab63f567944e014b92895d">setPassword_uint8</a>(
                reinterpret_cast&lt;const uint8_t *&gt;(szInput),
                static_cast&lt;uint32_t&gt;(nInputSize)));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3284608f45ab63f567944e014b92895d"></a><!-- doxytag: member="OTPassword::setPassword_uint8" ref="a3284608f45ab63f567944e014b92895d" args="(const uint8_t *szInput, uint32_t nInputSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t <a class="el" href="class_o_t_password.html#a3284608f45ab63f567944e014b92895d">OTPassword::setPassword_uint8</a> </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>szInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nInputSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00694">694</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != szInput);

    <span class="keyword">const</span> <span class="keywordtype">char</span> * szFunc = <span class="stringliteral">&quot;OTPassword::setPassword&quot;</span>;
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// Wipe whatever was in there before.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (m_nPasswordSize &gt; 0)
        <a class="code" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">zeroMemory</a>();
    <span class="comment">// ---------------------------------</span>
    m_bIsBinary = <span class="keyword">false</span>;
    m_bIsText   = <span class="keyword">true</span>;
    <span class="comment">// ---------------------------------</span>
    <span class="keywordflow">if</span> (0 == nInputSize)
        <span class="keywordflow">return</span> 0;
    <span class="comment">// ---------------------------------</span>

    <span class="comment">// Make sure no input size is larger than our block size</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (nInputSize &gt; <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>())
        nInputSize = <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>(); <span class="comment">// Truncated password beyond max size.</span>
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// The szInput string passed into this function should never</span>
    <span class="comment">// be a different size than what is passed in. For example it shouldn&#39;t</span>
    <span class="comment">// be SMALLER than what the user claims either. If it is, we error out.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_string.html#ab5af2359dd0aa0fe00c1cd122ea6643d">OTString::safe_strlen</a>(reinterpret_cast&lt;const char *&gt;(szInput), static_cast&lt;size_t&gt;(nInputSize)) &lt; static_cast&lt;size_t&gt;(nInputSize))
    {
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: ERROR: string length of szInput did not match nInputSize.\n&quot;</span>, szFunc);
        <span class="keywordflow">return</span> (-1);
    }

<span class="preprocessor">#ifndef _WIN32</span>
<span class="preprocessor"></span>    <span class="comment">// ---------------------------------</span>
    <span class="comment">//</span>
    <span class="comment">// Lock the memory page, before we copy the data over.</span>
    <span class="comment">// (If it&#39;s not already locked, which I doubt it will be.)</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (!m_bIsPageLocked) <span class="comment">// it won&#39;t be locked already, since we just zero&#39;d it (above.) But I check this anyway...</span>
    {
        <span class="keywordflow">if</span> (<a class="code" href="_o_t_password_8cpp.html#a84c8d5915d02c4f2ea5daa13109a5814">ot_lockPage</a>(static_cast&lt;void *&gt;(&amp;(m_szPassword[0])), <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>()))
        {
            m_bIsPageLocked = <span class="keyword">true</span>;
        }
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error: Failed attempting to lock memory page.\n&quot;</span>, szFunc);
    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <span class="comment">// ---------------------------------</span>
<span class="preprocessor">#ifdef _WIN32</span>
<span class="preprocessor"></span>    strncpy_s(reinterpret_cast&lt;char *&gt;(m_szPassword), (1 + nInputSize), reinterpret_cast&lt;const char *&gt;(szInput), nInputSize);
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    strncpy(reinterpret_cast&lt;char *&gt;(m_szPassword), reinterpret_cast&lt;const char *&gt;(szInput), nInputSize);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// force a null terminator in the 129th byte (at index 128.)</span>
    <span class="comment">// (Or at the 6th byte (at index 5), if the size is 5 bytes int64_t.)</span>
    <span class="comment">//</span>
    m_szPassword[nInputSize] = <span class="charliteral">&#39;\0&#39;</span>;
    m_nPasswordSize          = nInputSize;
    <span class="comment">// ---------------------------------</span>

    <span class="keywordflow">return</span> m_nPasswordSize;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa1a20005994cc550df4c72a2df2a2dee"></a><!-- doxytag: member="OTPassword::SetSize" ref="aa1a20005994cc550df4c72a2df2a2dee" args="(uint32_t uSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_password.html#aa1a20005994cc550df4c72a2df2a2dee">OTPassword::SetSize</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00773">773</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (m_bIsBinary)
    {
        <span class="keywordflow">if</span> (uSize &gt; <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>())
            uSize = <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>(); <span class="comment">// Truncated password beyond max size.</span>
        m_nPasswordSize = uSize;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_bIsText)
    {
        <span class="keywordflow">if</span> (uSize &gt;= <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>())  <span class="comment">// Cannot be as much as the blocksize, because no room for null-terminator.</span>
            uSize = <a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>()-1; <span class="comment">// Truncated password to blocksize-1.</span>
        m_szPassword[uSize] = <span class="charliteral">&#39;\0&#39;</span>;   <span class="comment">// The actual null-terminator.</span>
        m_nPasswordSize     = uSize;  <span class="comment">// If size is 3, the terminator is at m_szPassword[3] (which is the 4th byte.)</span>
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error: m_bIsBinary and m_bIsText are both false. (Should never happen.)\n&quot;</span>, __FUNCTION__);
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3a971b06f42d1c89802167a0ab5330a5"></a><!-- doxytag: member="OTPassword::zeroMemory" ref="a3a971b06f42d1c89802167a0ab5330a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">OTPassword::zeroMemory</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00286">286</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    m_nPasswordSize = 0;
    <span class="comment">// -------------------</span>
    <a class="code" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">OTPassword::zeroMemory</a>(static_cast&lt;void *&gt;(&amp;(m_szPassword[0])), static_cast&lt;uint32_t&gt;(<a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>()));
    <span class="comment">// -------------------</span>
    <span class="comment">//</span>
<span class="preprocessor">#ifndef _WIN32</span>
<span class="preprocessor"></span>    <span class="comment">// UNLOCK the page, now that we&#39;re AFTER the point where</span>
    <span class="comment">// the memory was safely ZERO&#39;d out.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (m_bIsPageLocked)
    {
        <span class="keywordflow">if</span> (<a class="code" href="_o_t_password_8cpp.html#ade7bd8da1458aeb9a67246d7ec8c634a">ot_unlockPage</a>(static_cast&lt;void *&gt;(&amp;(m_szPassword[0])), static_cast&lt;uint32_t&gt;(<a class="code" href="class_o_t_password.html#a8a596bf908d5410df57568639d171fe7">getBlockSize</a>())))
        {
            m_bIsPageLocked = <span class="keyword">false</span>;
        }
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPassword::zeroMemory: Error: Memory page was locked, but then failed to unlock it.\n&quot;</span>);
    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <span class="comment">// -------------------</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a24ed164ab95b8950bc8c356bfe387e05"></a><!-- doxytag: member="OTPassword::zeroMemory" ref="a24ed164ab95b8950bc8c356bfe387e05" args="(uint8_t *szMemory, uint32_t theSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">OTPassword::zeroMemory</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>szMemory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>theSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00325">325</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#ifdef _WIN32</span>
<span class="preprocessor"></span>    <span class="comment">// ------</span>
    <span class="comment">//</span>
    SecureZeroMemory(szMemory, theSize);

    <span class="comment">// NOTE: Both SecureZeroMemory, and the pragma solution commented-out below,</span>
    <span class="comment">// are acceptable for Windows. I put both here for my notes.</span>
    <span class="comment">//</span>
<span class="comment">//#pragma optimize(&quot;&quot;, off)</span>
<span class="comment">//  memset(szMemory, 0, theSize);</span>
<span class="comment">//#pragma optimize(&quot;&quot;, on)</span>
    <span class="comment">// -------------------------</span>
    <span class="comment">// Dr. UNIX, I presume? So, we meet again...</span>
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    <a class="code" href="_o_t_password_8cpp.html#aaf08a1ffce6f75b3154b4f0743b8edac">ot_secure_memset</a>(szMemory, static_cast&lt;uint8_t&gt;(0), theSize);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="ab29d1696109720cd0838eb559138dcec"></a><!-- doxytag: member="OTPassword::zeroMemory" ref="ab29d1696109720cd0838eb559138dcec" args="(void *vMemory, uint32_t theSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">OTPassword::zeroMemory</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vMemory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>theSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8cpp_source.html#l00312">312</a> of file <a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">//  OT_ASSERT_MSG((NULL != vMemory) &amp;&amp; (theSize &gt; 0),&quot;OTPassword::zeroMemory: ASSERT: vMemory is NULL or theSize is 0.&quot;);</span>

    <span class="keywordflow">if</span> ((NULL != vMemory) &amp;&amp; (theSize &gt; 0))
    {
        uint8_t * szMemory = <span class="keyword">static_cast&lt;</span>uint8_t *<span class="keyword">&gt;</span>(vMemory);
        <a class="code" href="class_o_t_password.html#a3a971b06f42d1c89802167a0ab5330a5">OTPassword::zeroMemory</a>(szMemory, theSize);
    }
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aea5370f41e798ca581ee8e02bbd15f72"></a><!-- doxytag: member="OTPassword::m_theBlockSize" ref="aea5370f41e798ca581ee8e02bbd15f72" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_t_password.html#afc1245b2e652a77f0415174795117923">BlockSize</a> <a class="el" href="class_o_t_password.html#aea5370f41e798ca581ee8e02bbd15f72">OTPassword::m_theBlockSize</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_password_8hpp_source.html#l00362">362</a> of file <a class="el" href="_o_t_password_8hpp_source.html">OTPassword.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/otlib/<a class="el" href="_o_t_password_8hpp_source.html">OTPassword.hpp</a></li>
<li>src/otlib/<a class="el" href="_o_t_password_8cpp_source.html">OTPassword.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_o_t_password.html">OTPassword</a>      </li>

    <li class="footer">Generated on Wed May 21 2014 11:26:14 for Open-Transactions by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
