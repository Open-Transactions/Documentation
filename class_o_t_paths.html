<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Open-Transactions: OTPaths Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open-Transactions
   &#160;<span id="projectnumber">master/1066fb4910a63ee3f7de8e0807fee3eb663b66c7</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_o_t_paths.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">OTPaths Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="OTPaths" -->
<p><code>#include &lt;<a class="el" href="_o_t_paths_8hpp_source.html">OTPaths.hpp</a>&gt;</code></p>

<p><a href="class_o_t_paths-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a1fb04f4faa97b7891c58b42a53f8149e">~OTPaths</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a01b9eb61e2529bb230073af8ec5788a5">AppBinaryFolder</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a0b00bcc629432fab6dbb428fc117c5ca">SetAppBinaryFolder</a> (<a class="el" href="class_o_t_string.html">OTString</a> strLocation)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#ad98f2038b358df7aed14611861d31ca8">HomeFolder</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a5f0ee52748313847f875cd512b77f77b">SetHomeFolder</a> (<a class="el" href="class_o_t_string.html">OTString</a> strLocation)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a6634797ea86b0da2d66a816e604b538b">AppDataFolder</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#aabd28aebbe926ba547ea13dbdea7b2fd">GlobalConfigFile</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a67b673609fc0b757336cef9904727f5d">PrefixFolder</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a227db42fa2154f1ff1f98ba3c746efe6">ScriptsFolder</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#ae95362a1fb3eb60a08f8cabfa7799402">LoadSetPrefixFolder</a> (<a class="el" href="class_o_t_settings.html">OTSettings</a> &amp;config=s_settings, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strPrefixFolder=&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a4d3e64413bb9a1d73c44f989101ab51f">LoadSetScriptsFolder</a> (<a class="el" href="class_o_t_settings.html">OTSettings</a> &amp;config=s_settings, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strScriptsFolder=&quot;&quot;, const bool &amp;bIsRelative=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a1add96ffab09d47a19c02879f8421cfe">Get</a> (<a class="el" href="class_o_t_settings.html">OTSettings</a> &amp;config, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strSection, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strKey, <a class="el" href="class_o_t_string.html">OTString</a> &amp;out_strVar, bool &amp;out_bIsRelative, bool &amp;out_bKeyExist)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#aa7a7886204439abdad8e3aee74005aec">Set</a> (<a class="el" href="class_o_t_settings.html">OTSettings</a> &amp;config, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strSection, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strKey, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strValue, const bool &amp;bIsRelative, bool &amp;out_bIsNewOrUpdated, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strComment=&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strPath, <a class="el" href="class_o_t_string.html">OTString</a> &amp;out_strFixedPath, const bool &amp;bIsFolder)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a41b0b563747f7d99e109077b0d17a34a">PathExists</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strPath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a8393f02d38694365a35cfb68c1035571">FileExists</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strFilePath, int64_t &amp;nFileLength)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a3f225a2dc38f88ada39aef2fc44e4549">FolderExists</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strFolderPath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a7178a5f18d9816e0d5aef470e2841354">ConfirmCreateFolder</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strExactPath, bool &amp;out_Exists, bool &amp;out_IsNew)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a0573d2813f42d5b60ecb61b483bdf347">ToReal</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strExactPath, <a class="el" href="class_o_t_string.html">OTString</a> &amp;out_strCanonicalPath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#adf4e49d2b3879f605af059162b09cedb">GetExecutable</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;strExecutablePath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#aac6db7e4a156be88d09e0eecf148de1d">GetCurrentWorking</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;strCurrentWorkingPath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a95ecf487945da132cbb1e3e248029435">GetHomeFromSystem</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;out_strHomeFolder)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a26bb1a6f9db38f290fdf98ff601b2a5a">AppendFolder</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;out_strPath, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strBasePath, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strFolderName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a149093f1bcedb1b792a8262f41b05f35">AppendFile</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;out_strPath, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strBasePath, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strFileName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a73f191305215a5a10158a927b01f53da">RelativeToCanonical</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;out_strCanonicalPath, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strBasePath, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strRelativePath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#a6f3da02499b494dc254f9705dd43dbee">BuildFolderPath</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strFolderPath, bool &amp;out_bFolderCreated)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_paths.html#af205d59adaabaa482cf1e6f0655741ca">BuildFilePath</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strFolderPath, bool &amp;out_bFolderCreated)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_o_t_paths_8hpp_source.html#l00149">149</a> of file <a class="el" href="_o_t_paths_8hpp_source.html">OTPaths.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1fb04f4faa97b7891c58b42a53f8149e"></a><!-- doxytag: member="OTPaths::~OTPaths" ref="a1fb04f4faa97b7891c58b42a53f8149e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_paths.html#a1fb04f4faa97b7891c58b42a53f8149e">OTPaths::~OTPaths</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00225">225</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{ }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a01b9eb61e2529bb230073af8ec5788a5"></a><!-- doxytag: member="OTPaths::AppBinaryFolder" ref="a01b9eb61e2529bb230073af8ec5788a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_t_string.html">OTString</a> &amp; <a class="el" href="class_o_t_paths.html#a01b9eb61e2529bb230073af8ec5788a5">OTPaths::AppBinaryFolder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00228">228</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> OTPaths::s_strAppBinaryFolder;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6634797ea86b0da2d66a816e604b538b"></a><!-- doxytag: member="OTPaths::AppDataFolder" ref="a6634797ea86b0da2d66a816e604b538b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_t_string.html">OTString</a> &amp; <a class="el" href="class_o_t_paths.html#a6634797ea86b0da2d66a816e604b538b">OTPaths::AppDataFolder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00256">256</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (s_strAppDataFolder.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) <span class="keywordflow">return</span> s_strAppDataFolder;  <span class="comment">// already got it, just return it.</span>

    <a class="code" href="class_o_t_string.html">OTString</a> strHomeDataFolder(<a class="code" href="class_o_t_paths.html#ad98f2038b358df7aed14611861d31ca8">OTPaths::HomeFolder</a>()), strAppDataFolder(<span class="stringliteral">&quot;&quot;</span>);  <span class="comment">// eg. /home/user/  (the folder that the OT appdata folder will be in.)</span>

    <span class="keywordflow">if</span>(!strHomeDataFolder.Exists() &amp;&amp; !<a class="code" href="class_o_t_paths.html#a95ecf487945da132cbb1e3e248029435">GetHomeFromSystem</a>(strHomeDataFolder)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

    <span class="comment">// now lets change all the &#39;\&#39; into &#39;/&#39;</span>
    <span class="comment">// then check that the path /home/user indeed exists, and is a folder.</span>

    <a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(strHomeDataFolder,strHomeDataFolder,<span class="keyword">true</span>);
    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a41b0b563747f7d99e109077b0d17a34a">PathExists</a>(strHomeDataFolder)) <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>;

    <span class="comment">// ok, we have the HomeData Folder, lets append our OT folder to it.</span>

    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a26bb1a6f9db38f290fdf98ff601b2a5a">AppendFolder</a>(strAppDataFolder, strHomeDataFolder, <a class="code" href="_o_t_paths_8cpp.html#a8066c566cd0293a8c9554ae6ce6ad4f5">OT_APPDATA_DIR</a>)) <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>;

    <span class="keywordtype">bool</span> bFolderCreated;
    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a6f3da02499b494dc254f9705dd43dbee">BuildFolderPath</a>(strAppDataFolder,bFolderCreated)) <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>;

    s_strAppDataFolder = strAppDataFolder;  <span class="comment">// all good lets set it.</span>

    <span class="keywordflow">return</span> s_strAppDataFolder;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a149093f1bcedb1b792a8262f41b05f35"></a><!-- doxytag: member="OTPaths::AppendFile" ref="a149093f1bcedb1b792a8262f41b05f35" args="(OTString &amp;out_strPath, const OTString &amp;strBasePath, const OTString &amp;strFileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a149093f1bcedb1b792a8262f41b05f35">OTPaths::AppendFile</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>out_strPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strBasePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strFileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l01170">1170</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!strBasePath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())    { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strBasePath&quot;</span>); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
    <span class="keywordflow">if</span> (!strFileName.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())    { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strFileName&quot;</span>); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

    <a class="code" href="class_o_t_string.html">OTString</a> l_strBasePath_fix(<span class="stringliteral">&quot;&quot;</span>), l_strFileName_fix(<span class="stringliteral">&quot;&quot;</span>);

    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(strBasePath,l_strBasePath_fix,<span class="keyword">true</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(strFileName,l_strFileName_fix,<span class="keyword">false</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;

    std::string l_strBasePath(l_strBasePath_fix.Get()), l_strFileName(l_strFileName_fix.Get());

    l_strBasePath.append(l_strFileName);

    <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> l_strPath(l_strBasePath);

    out_strPath = l_strPath;
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a26bb1a6f9db38f290fdf98ff601b2a5a"></a><!-- doxytag: member="OTPaths::AppendFolder" ref="a26bb1a6f9db38f290fdf98ff601b2a5a" args="(OTString &amp;out_strPath, const OTString &amp;strBasePath, const OTString &amp;strFolderName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a26bb1a6f9db38f290fdf98ff601b2a5a">OTPaths::AppendFolder</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>out_strPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strBasePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strFolderName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l01148">1148</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!strBasePath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())        { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strBasePath&quot;</span>); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
    <span class="keywordflow">if</span> (!strFolderName.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())    { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strFolderName&quot;</span>); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

    <a class="code" href="class_o_t_string.html">OTString</a> l_strBasePath_fix(<span class="stringliteral">&quot;&quot;</span>), l_strFolderName_fix(<span class="stringliteral">&quot;&quot;</span>);

    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(strBasePath,l_strBasePath_fix,<span class="keyword">true</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(strFolderName,l_strFolderName_fix,<span class="keyword">true</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;

    std::string l_strBasePath(l_strBasePath_fix.Get()), l_strFolderName(l_strFolderName_fix.Get());

    l_strBasePath.append(l_strFolderName);

    <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> l_strPath(l_strBasePath);

    out_strPath = l_strPath;
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af205d59adaabaa482cf1e6f0655741ca"></a><!-- doxytag: member="OTPaths::BuildFilePath" ref="af205d59adaabaa482cf1e6f0655741ca" args="(const OTString &amp;strFolderPath, bool &amp;out_bFolderCreated)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#af205d59adaabaa482cf1e6f0655741ca">OTPaths::BuildFilePath</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strFolderPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>out_bFolderCreated</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l01264">1264</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    out_bFolderCreated = <span class="keyword">false</span>;

    <a class="code" href="class_o_t_string.html">OTString</a> l_strFilePath_fix(<span class="stringliteral">&quot;&quot;</span>), l_strFilePath_real(<span class="stringliteral">&quot;&quot;</span>);

    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_paths.html#a0573d2813f42d5b60ecb61b483bdf347">ToReal</a>(strFolderPath, l_strFilePath_real)) <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// path to real</span>

    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(l_strFilePath_real, l_strFilePath_fix, <span class="keyword">false</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// real to fixed real</span>

    std::string l_strFilePath(l_strFilePath_fix.Get());  <span class="comment">// fixed real path.</span>

    std::vector&lt;std::string&gt; vFolders;

    <a class="code" href="class_o_t_string.html#a6591a044ae8153cd01db66e4b42949f9">OTString::split_byChar</a>(vFolders,l_strFilePath,<span class="stringliteral">&quot;/&quot;</span>,<a class="code" href="struct_o_t_string_1_1split.html#a2fcee9a6147dac6a4956675b091ee0a1a98cc7081d30bd066517a41142790fa09">OTString::split::no_empties</a>);

    <span class="keywordtype">size_t</span> nSize = vFolders.size();

    std::string l_strPathPart(<span class="stringliteral">&quot;&quot;</span>);
    <span class="keywordtype">bool</span> l_FolderExists(<span class="keyword">false</span>), l_bBuiltFolder(<span class="keyword">false</span>);

    <span class="keyword">const</span> <span class="keywordtype">bool</span> bLog(<a class="code" href="class_o_t_log.html#a47fbdb86e547d4de568ab9ae50e6c037">OTLog::IsInitialized</a>());

    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; nSize; i++)
    {
<span class="preprocessor">#ifndef _WIN32  // aka UNIX</span>
<span class="preprocessor"></span>        <span class="keywordflow">if</span>(0 == i) l_strPathPart += <span class="stringliteral">&quot;/&quot;</span>; <span class="comment">//add annother / for root.</span>
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        l_strPathPart += vFolders[i];

        <span class="keywordflow">if</span>((i +1)  == nSize) <span class="keywordflow">continue</span>; <span class="comment">// file should be skipped</span>

        l_strPathPart += <span class="stringliteral">&quot;/&quot;</span>;  <span class="comment">// is a folder, so should append /</span>

        <span class="keywordflow">if</span>(0 == i) <span class="keywordflow">continue</span>; <span class="comment">// / or x:/ should be skiped.</span>

        <a class="code" href="class_o_t_string.html">OTString</a> strPathPart(l_strPathPart);
        <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a7178a5f18d9816e0d5aef470e2841354">ConfirmCreateFolder</a>(strPathPart, l_FolderExists, l_bBuiltFolder)) <span class="keywordflow">return</span> <span class="keyword">false</span>;
        <span class="keywordflow">if</span> (bLog &amp;&amp; l_bBuiltFolder) <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(0,<span class="stringliteral">&quot;%s: Made new folder: %s&quot;</span>, __FUNCTION__, l_strPathPart.c_str());

        <span class="keywordflow">if</span> (!out_bFolderCreated &amp;&amp; l_bBuiltFolder) out_bFolderCreated = <span class="keyword">true</span>;
    }
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6f3da02499b494dc254f9705dd43dbee"></a><!-- doxytag: member="OTPaths::BuildFolderPath" ref="a6f3da02499b494dc254f9705dd43dbee" args="(const OTString &amp;strFolderPath, bool &amp;out_bFolderCreated)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a6f3da02499b494dc254f9705dd43dbee">OTPaths::BuildFolderPath</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strFolderPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>out_bFolderCreated</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l01219">1219</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    out_bFolderCreated = <span class="keyword">false</span>;

    <a class="code" href="class_o_t_string.html">OTString</a> l_strFolderPath_fix(<span class="stringliteral">&quot;&quot;</span>), l_strFolderPath_real(<span class="stringliteral">&quot;&quot;</span>);

    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_paths.html#a0573d2813f42d5b60ecb61b483bdf347">ToReal</a>(strFolderPath,l_strFolderPath_real)) <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// path to real</span>

    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(l_strFolderPath_real,l_strFolderPath_fix,<span class="keyword">true</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// real to fixed real</span>

    std::string l_strFolderPath(l_strFolderPath_fix.Get());  <span class="comment">// fixed real path.</span>

    std::vector&lt;std::string&gt; vFolders;

    <a class="code" href="class_o_t_string.html#a6591a044ae8153cd01db66e4b42949f9">OTString::split_byChar</a>(vFolders,l_strFolderPath,<span class="stringliteral">&quot;/&quot;</span>,<a class="code" href="struct_o_t_string_1_1split.html#a2fcee9a6147dac6a4956675b091ee0a1a98cc7081d30bd066517a41142790fa09">OTString::split::no_empties</a>);

    <span class="keywordtype">size_t</span> nSize = vFolders.size();

    std::string l_strPathPart(<span class="stringliteral">&quot;&quot;</span>);
    <span class="keywordtype">bool</span> l_FolderExists(<span class="keyword">false</span>), l_bBuiltFolder(<span class="keyword">false</span>);

    <span class="keyword">const</span> <span class="keywordtype">bool</span> bLog(<a class="code" href="class_o_t_log.html#a47fbdb86e547d4de568ab9ae50e6c037">OTLog::IsInitialized</a>());

    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; nSize; i++)
    {
<span class="preprocessor">#ifndef _WIN32  // aka UNIX</span>
<span class="preprocessor"></span>        <span class="keywordflow">if</span>(0 == i) l_strPathPart += <span class="stringliteral">&quot;/&quot;</span>; <span class="comment">//add annother / for root.</span>
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        l_strPathPart += vFolders[i];
        l_strPathPart += <span class="stringliteral">&quot;/&quot;</span>;

        <span class="keywordflow">if</span>(0 == i) <span class="keywordflow">continue</span>; <span class="comment">// / or x:/ should be skiped.</span>

        <a class="code" href="class_o_t_string.html">OTString</a> strPathPart(l_strPathPart);

        <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a7178a5f18d9816e0d5aef470e2841354">ConfirmCreateFolder</a>(strPathPart, l_FolderExists, l_bBuiltFolder)) <span class="keywordflow">return</span> <span class="keyword">false</span>;
        <span class="keywordflow">if</span> (bLog &amp;&amp; l_bBuiltFolder) <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(0,<span class="stringliteral">&quot;%s: Made new folder: %s\n&quot;</span>, __FUNCTION__, l_strPathPart.c_str());

        <span class="keywordflow">if</span> (!out_bFolderCreated &amp;&amp; l_bBuiltFolder) out_bFolderCreated = <span class="keyword">true</span>;
    }
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7178a5f18d9816e0d5aef470e2841354"></a><!-- doxytag: member="OTPaths::ConfirmCreateFolder" ref="a7178a5f18d9816e0d5aef470e2841354" args="(const OTString &amp;strExactPath, bool &amp;out_Exists, bool &amp;out_IsNew)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a7178a5f18d9816e0d5aef470e2841354">OTPaths::ConfirmCreateFolder</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strExactPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>out_Exists</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>out_IsNew</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00855">855</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <span class="keywordtype">bool</span> bExists = (strExactPath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() &amp;&amp; !strExactPath.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;&quot;</span>));
    <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>(bExists,<span class="stringliteral">&quot;OTPaths::ConfirmCreateFolder: Assert failed: no strFolderName\n&quot;</span>);

    std::string l_strExactPath(strExactPath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());

    <span class="keywordflow">if</span> (<span class="charliteral">&#39;/&#39;</span> != *l_strExactPath.rbegin()) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// not a directory.</span>

    <span class="comment">// Confirm If Directory Exists Already</span>
    out_Exists = <a class="code" href="class_o_t_paths.html#a41b0b563747f7d99e109077b0d17a34a">PathExists</a>(strExactPath);

    <span class="keywordflow">if</span> (out_Exists)
    {
        out_IsNew = <span class="keyword">false</span>;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// Already Have Folder, lets return true!</span>
    }
    <span class="keywordflow">else</span>
    {
        <span class="comment">// It dosn&#39;t exist: lets create it.</span>

<span class="preprocessor">#ifdef _WIN32</span>
<span class="preprocessor"></span>        <span class="keywordtype">bool</span> bCreateDirSuccess = (_mkdir(strExactPath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()) == 0);
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>        <span class="keywordtype">bool</span> bCreateDirSuccess = (mkdir(strExactPath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), 0700) == 0);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="keywordflow">if</span> (!bCreateDirSuccess)
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPaths::%s: Unable To Confirm &quot;</span>
                <span class="stringliteral">&quot;Created Directory %s.\n&quot;</span>, __FUNCTION__, strExactPath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            out_IsNew = <span class="keyword">false</span>;
            out_Exists = <span class="keyword">false</span>;
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }

        <span class="comment">// At this point if the folder still doesn&#39;t exist, nothing we can do. We</span>
        <span class="comment">// already tried to create the folder, and SUCCEEDED, and then STILL failed</span>
        <span class="comment">// to find it (if this is still false.)</span>

        <span class="keywordflow">else</span>
        {
            <span class="keywordtype">bool</span> bCheckDirExist = <a class="code" href="class_o_t_paths.html#a41b0b563747f7d99e109077b0d17a34a">PathExists</a>(strExactPath);

            <span class="keywordflow">if</span> (!bCheckDirExist)
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPaths::%s: &quot;</span>
                    <span class="stringliteral">&quot;Unable To Confirm Created Directory %s.\n&quot;</span>,
                    __FUNCTION__, strExactPath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                out_IsNew = <span class="keyword">false</span>;
                out_Exists = <span class="keyword">false</span>;
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
            }
            <span class="keywordflow">else</span>
            {
                out_IsNew = <span class="keyword">true</span>;
                out_Exists = <span class="keyword">false</span>;
                <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// We have created and checked the Folder</span>
            }
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8393f02d38694365a35cfb68c1035571"></a><!-- doxytag: member="OTPaths::FileExists" ref="a8393f02d38694365a35cfb68c1035571" args="(const OTString &amp;strFilePath, int64_t &amp;nFileLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a8393f02d38694365a35cfb68c1035571">OTPaths::FileExists</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strFilePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t &amp;&#160;</td>
          <td class="paramname"><em>nFileLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00761">761</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!strFilePath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strFilePath&quot;</span> ); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }


    <span class="comment">// remove trailing backslash for stat</span>
    std::string l_strPath(strFilePath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    l_strPath = (<a class="code" href="class_o_t_string.html#a901ac066d89899a2f3476d1261ad3d25">OTString::replace_chars</a>(l_strPath,<span class="stringliteral">&quot;\\&quot;</span>,<span class="charliteral">&#39;/&#39;</span>));  <span class="comment">// all \ to /</span>

    <span class="comment">//std::string l_strPath_stat = l_strPath;</span>
    std::string l_strPath_stat(<span class="stringliteral">&quot;&quot;</span>);

    <span class="comment">// remove last / if it exists (for l_strPath_stat)</span>
    <span class="keywordflow">if</span> (<span class="charliteral">&#39;/&#39;</span> == *l_strPath.rbegin())
        l_strPath_stat = l_strPath.substr(0, l_strPath.size()-1);
    <span class="keywordflow">else</span> l_strPath_stat = l_strPath;


    <span class="keywordflow">if</span> (<span class="charliteral">&#39;/&#39;</span> != *l_strPath.rbegin())
    {
        int32_t status=0; <span class="comment">// todo security (this whole block)</span>
<span class="preprocessor">#ifdef _WIN32</span>
<span class="preprocessor"></span>        <span class="keyword">struct </span>_stat st_buf;
        memset(&amp;st_buf, 0, <span class="keyword">sizeof</span>(st_buf));
        <span class="keywordtype">char</span> filename[4086];    <span class="comment">// not sure about this buffer,</span>
        <span class="comment">// on windows paths cannot be longer than 4086,</span>
        <span class="comment">// so it should be fine... needs more research.</span>
        strcpy_s(filename,l_strPath_stat.c_str());
        status = _stat(filename, &amp;st_buf );
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>        <span class="keyword">struct </span>stat st_buf;
        memset(&amp;st_buf, 0, <span class="keyword">sizeof</span>(st_buf));
        status = stat (l_strPath.c_str(), &amp;st_buf);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="comment">// check for file</span>
        <span class="keywordflow">if</span> (<a class="code" href="_o_t_paths_8cpp.html#aad0f32c2c182238f2ff71c83e6ab65a0">S_ISREG</a>(st_buf.st_mode))
        {
            <span class="comment">// good we have a file.</span>
            <span class="keywordtype">size_t</span> lFileLength = st_buf.st_size;
            nFileLength = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(lFileLength);
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
    }
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6ce93fcc14c3c810bf81deb65c7dfdeb"></a><!-- doxytag: member="OTPaths::FixPath" ref="a6ce93fcc14c3c810bf81deb65c7dfdeb" args="(const OTString &amp;strPath, OTString &amp;out_strFixedPath, const bool &amp;bIsFolder)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">OTPaths::FixPath</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>out_strFixedPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>bIsFolder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00684">684</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!strPath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strPath&quot;</span>    ); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

    std::string l_strPath(strPath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    <span class="comment">// first change all back-slashes to forward slashes:</span>
    std::string l_strPath_noBackslash(<a class="code" href="class_o_t_string.html#a901ac066d89899a2f3476d1261ad3d25">OTString::replace_chars</a>(l_strPath,<span class="stringliteral">&quot;\\&quot;</span>,<span class="charliteral">&#39;/&#39;</span>));

    <span class="comment">// now we make sure we have the correct trailing &quot;/&quot;.</span>

    <span class="keywordflow">if</span> (<span class="charliteral">&#39;/&#39;</span> == *l_strPath_noBackslash.rbegin())
    {
        <span class="keywordflow">if</span> (bIsFolder)
        {
            out_strFixedPath.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(l_strPath_noBackslash.c_str());
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
        <span class="keywordflow">else</span>
        {
            out_strFixedPath.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(l_strPath_noBackslash.substr(0, l_strPath_noBackslash.size()-1).c_str());
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
    }
    <span class="keywordflow">else</span>
    {
        <span class="keywordflow">if</span> (bIsFolder)
        {
            l_strPath_noBackslash += <span class="stringliteral">&quot;/&quot;</span>;
            out_strFixedPath.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(l_strPath_noBackslash.c_str());
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
        <span class="keywordflow">else</span>
        {
            out_strFixedPath.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(l_strPath_noBackslash.c_str());
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3f225a2dc38f88ada39aef2fc44e4549"></a><!-- doxytag: member="OTPaths::FolderExists" ref="a3f225a2dc38f88ada39aef2fc44e4549" args="(const OTString &amp;strFolderPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a3f225a2dc38f88ada39aef2fc44e4549">OTPaths::FolderExists</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strFolderPath</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00810">810</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!strFolderPath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strFolderPath&quot;</span> ); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

    <span class="comment">// remove trailing backslash for stat</span>
    std::string l_strPath(strFolderPath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    l_strPath = (<a class="code" href="class_o_t_string.html#a901ac066d89899a2f3476d1261ad3d25">OTString::replace_chars</a>(l_strPath,<span class="stringliteral">&quot;\\&quot;</span>,<span class="charliteral">&#39;/&#39;</span>));  <span class="comment">// all \ to /</span>

    <span class="comment">//std::string l_strPath_stat = l_strPath;</span>
    std::string l_strPath_stat(<span class="stringliteral">&quot;&quot;</span>);

    <span class="comment">// remove last / if it exists (for l_strPath_stat)</span>
    <span class="keywordflow">if</span> (<span class="charliteral">&#39;/&#39;</span> == *l_strPath.rbegin())
        l_strPath_stat = l_strPath.substr(0, l_strPath.size()-1);
    <span class="keywordflow">else</span> l_strPath_stat = l_strPath;

    <span class="keywordflow">if</span> (<span class="charliteral">&#39;/&#39;</span> == *l_strPath.rbegin())
    {

        int32_t status=0; <span class="comment">// todo security (this whole block)</span>
<span class="preprocessor">#ifdef _WIN32</span>
<span class="preprocessor"></span>        <span class="keyword">struct </span>_stat st_buf;
        memset(&amp;st_buf, 0, <span class="keyword">sizeof</span>(st_buf));
        <span class="keywordtype">char</span> filename[4086]=<span class="stringliteral">&quot;&quot;</span>;    <span class="comment">// not sure about this buffer,</span>
        <span class="comment">// on windows paths cannot be longer than 4086,</span>
        <span class="comment">// so it should be fine... needs more research.</span>
        strcpy_s(filename,l_strPath_stat.c_str());
        status = _stat(filename, &amp;st_buf );
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>        <span class="keyword">struct </span>stat st_buf;
        memset(&amp;st_buf, 0, <span class="keyword">sizeof</span>(st_buf));
        status = stat (l_strPath.c_str(), &amp;st_buf);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="keywordflow">if</span> (<a class="code" href="_o_t_paths_8cpp.html#a3746cdc5aac871e6f6504fbcbd29ef1d">S_ISDIR</a>(st_buf.st_mode))
        {
            <span class="comment">// good we have a directory.</span>
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
    }
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1add96ffab09d47a19c02879f8421cfe"></a><!-- doxytag: member="OTPaths::Get" ref="a1add96ffab09d47a19c02879f8421cfe" args="(OTSettings &amp;config, const OTString &amp;strSection, const OTString &amp;strKey, OTString &amp;out_strVar, bool &amp;out_bIsRelative, bool &amp;out_bKeyExist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a1add96ffab09d47a19c02879f8421cfe">OTPaths::Get</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_settings.html">OTSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strSection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>out_strVar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>out_bIsRelative</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>out_bKeyExist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00564">564</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!strSection.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strSection&quot;</span> ); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
    <span class="keywordflow">if</span> (!strKey.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())     { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strKey&quot;</span>     ); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

    out_strVar = <span class="stringliteral">&quot;&quot;</span>;
    out_bIsRelative = <span class="keyword">false</span>;
    out_bKeyExist = <span class="keyword">false</span>;

    <span class="keyword">const</span> <span class="keywordtype">bool</span> bPreLoaded(config.<a class="code" href="class_o_t_settings.html#a51c90fa894ace75e74acb6b5c5ba9475">IsLoaded</a>());

    <span class="keywordflow">if</span> (!bPreLoaded)
    {
        config.<a class="code" href="class_o_t_settings.html#a309c91e013b50460890d3f109e357cbf">Reset</a>();
        <span class="keywordflow">if</span>(!config.Load()) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
    }

    <span class="keywordtype">bool</span> bBoolExists(<span class="keyword">false</span>), bStringExists(<span class="keyword">false</span>), bIsRelative(<span class="keyword">false</span>);
    <a class="code" href="class_o_t_string.html">OTString</a>  strRelativeKey(<span class="stringliteral">&quot;&quot;</span>), strOutFolder(<span class="stringliteral">&quot;&quot;</span>);

    strRelativeKey.Format(<span class="stringliteral">&quot;%s%s&quot;</span>,strKey.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),<a class="code" href="_o_t_paths_8cpp.html#a7b8035fda2b3c9f38cd31db89630d762">OT_CONFIG_ISRELATIVE</a>);

    <span class="keywordflow">if</span>(config.<a class="code" href="class_o_t_settings.html#a5e7f9f84007343d5dd72077395e04f2a">Check_bool</a>(strSection,strRelativeKey,bIsRelative,bBoolExists))
    {
        <span class="keywordflow">if</span>(config.<a class="code" href="class_o_t_settings.html#aad4665be10833fc19653331659de11c4">Check_str</a>(strSection,strKey,strOutFolder,bStringExists))
        {
            <span class="keywordflow">if</span> (bBoolExists &amp;&amp; bStringExists)
            {
                <span class="keywordflow">if</span> (!bIsRelative) <span class="comment">// lets fix the path, so it dosn&#39;t matter how people write it in the config.</span>
                {
                    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a0573d2813f42d5b60ecb61b483bdf347">ToReal</a>(strOutFolder,strOutFolder)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

                    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(strOutFolder,strOutFolder,<span class="keyword">true</span>)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
                }

                out_strVar = strOutFolder;
                out_bIsRelative = bIsRelative;
                out_bKeyExist = <span class="keyword">true</span>;
            }
            <span class="keywordflow">else</span>
            {
                out_strVar = <span class="stringliteral">&quot;&quot;</span>;
                out_bIsRelative = <span class="keyword">false</span>;
                out_bKeyExist = <span class="keyword">false</span>;
            }

            <span class="keywordflow">if</span> (!bPreLoaded)
            {
                config.<a class="code" href="class_o_t_settings.html#a309c91e013b50460890d3f109e357cbf">Reset</a>();
            }

            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
    }
    <span class="comment">// if we get here, there has been a error!</span>
    <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aac6db7e4a156be88d09e0eecf148de1d"></a><!-- doxytag: member="OTPaths::GetCurrentWorking" ref="aac6db7e4a156be88d09e0eecf148de1d" args="(OTString &amp;strCurrentWorkingPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static EXPORT bool <a class="el" href="class_o_t_paths.html#aac6db7e4a156be88d09e0eecf148de1d">OTPaths::GetCurrentWorking</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strCurrentWorkingPath</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adf4e49d2b3879f605af059162b09cedb"></a><!-- doxytag: member="OTPaths::GetExecutable" ref="adf4e49d2b3879f605af059162b09cedb" args="(OTString &amp;strExecutablePath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static EXPORT bool <a class="el" href="class_o_t_paths.html#adf4e49d2b3879f605af059162b09cedb">OTPaths::GetExecutable</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strExecutablePath</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a95ecf487945da132cbb1e3e248029435"></a><!-- doxytag: member="OTPaths::GetHomeFromSystem" ref="a95ecf487945da132cbb1e3e248029435" args="(OTString &amp;out_strHomeFolder)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a95ecf487945da132cbb1e3e248029435">OTPaths::GetHomeFromSystem</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>out_strHomeFolder</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l01090">1090</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#ifdef _WIN32</span>
<span class="preprocessor"></span><span class="preprocessor">#ifdef _UNICODE</span>
<span class="preprocessor"></span>    TCHAR szPath[MAX_PATH]=L<span class="stringliteral">&quot;&quot;</span>;
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    TCHAR szPath[MAX_PATH]=<span class="stringliteral">&quot;&quot;</span>;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    <span class="keywordflow">if</span>(SUCCEEDED(SHGetFolderPath(NULL, CSIDL_APPDATA|CSIDL_FLAG_CREATE, NULL, 0, szPath))) {
<span class="preprocessor">#ifdef UNICODE</span>
<span class="preprocessor"></span>        out_strHomeFolder.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(<a class="code" href="namespaceutf8util.html#ac4c6c1bf209e9709250ed81c00ee3e81">utf8util::UTF8FromUTF16</a>(szPath));
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>        out_strHomeFolder.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(szPath);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    }
    <span class="keywordflow">else</span> { out_strHomeFolder.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(<span class="stringliteral">&quot;&quot;</span>); <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    out_strHomeFolder.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(getenv(<span class="stringliteral">&quot;HOME&quot;</span>));
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aabd28aebbe926ba547ea13dbdea7b2fd"></a><!-- doxytag: member="OTPaths::GlobalConfigFile" ref="aabd28aebbe926ba547ea13dbdea7b2fd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_t_string.html">OTString</a> &amp; <a class="el" href="class_o_t_paths.html#aabd28aebbe926ba547ea13dbdea7b2fd">OTPaths::GlobalConfigFile</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00283">283</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (s_strGlobalConfigFile.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) <span class="keywordflow">return</span> s_strGlobalConfigFile;  <span class="comment">//got it, lets return it.</span>

    <a class="code" href="class_o_t_string.html">OTString</a> strGlobalConfigFile(<span class="stringliteral">&quot;&quot;</span>);


    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a149093f1bcedb1b792a8262f41b05f35">AppendFile</a>(strGlobalConfigFile,<a class="code" href="class_o_t_paths.html#a6634797ea86b0da2d66a816e604b538b">AppDataFolder</a>(),<a class="code" href="_o_t_paths_8cpp.html#acb582f4837aec775d59c45d1228d4a5e">OT_INIT_CONFIG_FILENAME</a>)) <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>;

    s_strGlobalConfigFile = strGlobalConfigFile;

    <span class="keywordflow">return</span> s_strGlobalConfigFile;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad98f2038b358df7aed14611861d31ca8"></a><!-- doxytag: member="OTPaths::HomeFolder" ref="ad98f2038b358df7aed14611861d31ca8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_t_string.html">OTString</a> &amp; <a class="el" href="class_o_t_paths.html#ad98f2038b358df7aed14611861d31ca8">OTPaths::HomeFolder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00240">240</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> OTPaths::s_strHomeFolder;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae95362a1fb3eb60a08f8cabfa7799402"></a><!-- doxytag: member="OTPaths::LoadSetPrefixFolder" ref="ae95362a1fb3eb60a08f8cabfa7799402" args="(OTSettings &amp;config=s_settings, const OTString &amp;strPrefixFolder=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#ae95362a1fb3eb60a08f8cabfa7799402">OTPaths::LoadSetPrefixFolder</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_settings.html">OTSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em> = <code>s_settings</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strPrefixFolder</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00329">329</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">/*</span>
<span class="comment">    The prefix path is special.</span>
<span class="comment"></span>
<span class="comment">    This path is tested if it is different to the</span>
<span class="comment">    one that would be automatically selected by this program</span>
<span class="comment">    (aka either compiled into, or from the registry, or the default user data directory).</span>
<span class="comment"></span>
<span class="comment">    If the set path is different to what would be supplied and the override path value is set.</span>
<span class="comment">    Then we will use that path.</span>
<span class="comment"></span>
<span class="comment">    Otherwise, we will update the path in the configuration to link against the updated path.</span>
<span class="comment"></span>
<span class="comment">    Users will need to set the override path flag in the configuration,</span>
<span class="comment">    if they want to manually set the prefix path.</span>
<span class="comment">    */</span>

    <span class="keyword">const</span> <span class="keywordtype">bool</span> bPreLoaded(config.<a class="code" href="class_o_t_settings.html#a51c90fa894ace75e74acb6b5c5ba9475">IsLoaded</a>());

    <span class="keywordflow">if</span> (!bPreLoaded)
    {
        config.<a class="code" href="class_o_t_settings.html#a309c91e013b50460890d3f109e357cbf">Reset</a>();
        <span class="keywordflow">if</span>(!config.Load()) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
    }

    {
        <span class="comment">// get default path</span>
        <a class="code" href="class_o_t_string.html">OTString</a> strDefaultPrefixPath(<a class="code" href="_o_t_paths_8cpp.html#a8818f39e7d21d3a033b94ded8c64c3e9">OT_PREFIX_PATH</a>);
        {
            <span class="keywordflow">if</span> (!strDefaultPrefixPath.Exists()) { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Error: OT_PREFIX_PATH is not set!&quot;</span>,__FUNCTION__); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

<span class="preprocessor">#ifdef _WIN32</span>
<span class="preprocessor"></span>            <a class="code" href="class_o_t_string.html">OTString</a> strTemp;
            <span class="keywordflow">if</span> (OTPaths::Win_GetInstallFolderFromRegistry(strTemp))
            {
                strDefaultPrefixPath = strTemp;
            }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
            <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a0573d2813f42d5b60ecb61b483bdf347">ToReal</a>(strDefaultPrefixPath,strDefaultPrefixPath)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
            <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(strDefaultPrefixPath,strDefaultPrefixPath,<span class="keyword">true</span>)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
        }

        <a class="code" href="class_o_t_string.html">OTString</a> strLocalPrefixPath = <span class="stringliteral">&quot;&quot;</span>;
        <span class="keywordtype">bool</span> bPrefixPathOverride = <span class="keyword">false</span>;

        {
            <span class="comment">// now check the configuration to see what values we have:</span>
            <a class="code" href="class_o_t_string.html">OTString</a> strConfigPath = <span class="stringliteral">&quot;&quot;</span>;

            <span class="keywordtype">bool</span> bIsNew = <span class="keyword">false</span>;
            <a class="code" href="class_o_t_string.html">OTString</a> strPrefixPathOverride(<span class="stringliteral">&quot;prefix_path_override&quot;</span>);

            <span class="keywordflow">if</span>(!config.<a class="code" href="class_o_t_settings.html#a3771310348bc201a8444ef3f55e59142">CheckSet_str</a>(<span class="stringliteral">&quot;paths&quot;</span>,<span class="stringliteral">&quot;prefix_path&quot;</span>,strDefaultPrefixPath,strConfigPath,bIsNew)) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
            <span class="keywordflow">if</span>(!config.<a class="code" href="class_o_t_settings.html#a27314a76cb518d7959ffd100bb9d2103">CheckSet_bool</a>(<span class="stringliteral">&quot;paths&quot;</span>,strPrefixPathOverride,<span class="keyword">false</span>,bPrefixPathOverride,bIsNew,<span class="stringliteral">&quot;; This will force the prefix not to change&quot;</span>)) {<span class="keywordflow">return</span> <span class="keyword">false</span>; }

            <span class="comment">// if the config dosn&#39;t have a prefix path set. Lets set the default.</span>
            <span class="comment">// if a prefix path was passed in, we will override with that later.</span>
            <span class="keywordflow">if</span> (!strConfigPath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() || (3 &gt; strConfigPath.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())) {
                <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Error: Bad %s in config, will reset!&quot;</span>,__FUNCTION__,<span class="stringliteral">&quot;prefix_path&quot;</span>);

                strConfigPath = strDefaultPrefixPath; <span class="comment">// set</span>
                bPrefixPathOverride = <span class="keyword">false</span>;

                <span class="comment">// lets set the default path, and reset override</span>
                <span class="keywordtype">bool</span> bNewOrUpdate = <span class="keyword">false</span>;
                <span class="keywordflow">if</span>(!config.<a class="code" href="class_o_t_settings.html#a469fdde7688664dc455a1047ac55a4e0">Set_str</a>(<span class="stringliteral">&quot;paths&quot;</span>,<span class="stringliteral">&quot;prefix_path&quot;</span>,strDefaultPrefixPath,bNewOrUpdate)) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
                <span class="keywordflow">if</span>(!config.<a class="code" href="class_o_t_settings.html#a7276ca25b26fd3ecec4edb6da526468a">Set_bool</a>(<span class="stringliteral">&quot;paths&quot;</span>,strPrefixPathOverride,<span class="keyword">false</span>,bNewOrUpdate)) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
            }

            strLocalPrefixPath = strConfigPath;
        }

        {
            <span class="keywordflow">if</span> (!bPrefixPathOverride)
            {
                <span class="keywordtype">bool</span> bUpdate = <span class="keyword">false</span>;

                <span class="comment">// default</span>
                <span class="keywordflow">if</span> (!strLocalPrefixPath.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(strDefaultPrefixPath)) {
                    strLocalPrefixPath = strDefaultPrefixPath;
                    bUpdate = <span class="keyword">true</span>;
                }

                <span class="comment">// passed in</span>
                <span class="keywordflow">if</span> (strPrefixFolder.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() &amp;&amp; (3 &lt; strPrefixFolder.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())) {
                    <span class="comment">// a prefix folder was passed in... lets use it, and update the config if the override isn&#39;t set</span>
                    <a class="code" href="class_o_t_string.html">OTString</a> strTmp = strPrefixFolder;

                    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a0573d2813f42d5b60ecb61b483bdf347">ToReal</a>(strTmp,strTmp)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

                    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(strTmp,strTmp,<span class="keyword">true</span>)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

                    <span class="keywordflow">if</span> (!strLocalPrefixPath.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(strTmp)) {
                        strLocalPrefixPath = strTmp;
                        bUpdate = <span class="keyword">true</span>;
                    }
                }

                <span class="comment">// we need to update the path in the config</span>
                <span class="keywordflow">if</span> (bUpdate) {
                    <span class="keywordtype">bool</span> bNewOrUpdate = <span class="keyword">false</span>;
                    <span class="keywordflow">if</span>(!config.<a class="code" href="class_o_t_settings.html#a469fdde7688664dc455a1047ac55a4e0">Set_str</a>(<span class="stringliteral">&quot;paths&quot;</span>,<span class="stringliteral">&quot;prefix_path&quot;</span>,strLocalPrefixPath,bNewOrUpdate)) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
                }
            }
        }

        {
            <span class="keywordflow">if</span> (!strLocalPrefixPath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

            <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a0573d2813f42d5b60ecb61b483bdf347">ToReal</a>(strLocalPrefixPath,strLocalPrefixPath)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
            <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(strLocalPrefixPath,strLocalPrefixPath,<span class="keyword">true</span>)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
            s_strPrefixFolder = strLocalPrefixPath;
        }

    }

    <span class="keywordflow">if</span> (!bPreLoaded)
    {
        <span class="keywordflow">if</span>(!config.Save()) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
        config.<a class="code" href="class_o_t_settings.html#a309c91e013b50460890d3f109e357cbf">Reset</a>();
    }
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4d3e64413bb9a1d73c44f989101ab51f"></a><!-- doxytag: member="OTPaths::LoadSetScriptsFolder" ref="a4d3e64413bb9a1d73c44f989101ab51f" args="(OTSettings &amp;config=s_settings, const OTString &amp;strScriptsFolder=&quot;&quot;, const bool &amp;bIsRelative=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a4d3e64413bb9a1d73c44f989101ab51f">OTPaths::LoadSetScriptsFolder</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_settings.html">OTSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em> = <code>s_settings</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strScriptsFolder</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>bIsRelative</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00462">462</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <span class="keywordtype">bool</span> bPreLoaded(config.<a class="code" href="class_o_t_settings.html#a51c90fa894ace75e74acb6b5c5ba9475">IsLoaded</a>());

    <span class="keywordflow">if</span> (!bPreLoaded)
    {
        config.<a class="code" href="class_o_t_settings.html#a309c91e013b50460890d3f109e357cbf">Reset</a>();
        <span class="keywordflow">if</span>(!config.Load()) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
    }

    <a class="code" href="class_o_t_string.html">OTString</a> strRelativeKey = <span class="stringliteral">&quot;&quot;</span>;
    strRelativeKey.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%s%s&quot;</span>,<span class="stringliteral">&quot;scripts&quot;</span>,<a class="code" href="_o_t_paths_8cpp.html#a7b8035fda2b3c9f38cd31db89630d762">OT_CONFIG_ISRELATIVE</a>);


    <span class="comment">// local vairables.</span>
    <span class="keywordtype">bool</span> bConfigIsRelative = <span class="keyword">false</span>;
    <a class="code" href="class_o_t_string.html">OTString</a> strConfigFolder = <span class="stringliteral">&quot;&quot;</span>;


    <span class="comment">// lets first check what we have in the configuration:</span>
    {
        <span class="keywordtype">bool</span> bKeyIsNew = <span class="keyword">false</span>;

        <span class="keywordflow">if</span> (!config.<a class="code" href="class_o_t_settings.html#a27314a76cb518d7959ffd100bb9d2103">CheckSet_bool</a>(<span class="stringliteral">&quot;paths&quot;</span>,strRelativeKey,<span class="keyword">true</span>,bConfigIsRelative,bKeyIsNew)) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
        <span class="keywordflow">if</span> (!config.<a class="code" href="class_o_t_settings.html#a3771310348bc201a8444ef3f55e59142">CheckSet_str</a>(<span class="stringliteral">&quot;paths&quot;</span>,<span class="stringliteral">&quot;scripts&quot;</span>,<a class="code" href="_o_t_paths_8cpp.html#af1ddf67d7afc3742e06577ff3abe8bea">OT_SCRIPTS_DIR</a>,strConfigFolder,bKeyIsNew)) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
    }

    <span class="comment">// lets first test if there was a folder passed in</span>

    <span class="keywordflow">if</span> ((strScriptsFolder.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) &amp;&amp; (3 &lt; strScriptsFolder.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>())) {

        <span class="comment">// we have a folder passed in, lets now check if we need to update anything:</span>

        <span class="keywordflow">if</span> (bConfigIsRelative != bIsRelative) {

            bConfigIsRelative = bIsRelative;
            <span class="keywordtype">bool</span> bNewOrUpdated = <span class="keyword">false</span>;

            <span class="keywordflow">if</span> (!config.<a class="code" href="class_o_t_settings.html#a7276ca25b26fd3ecec4edb6da526468a">Set_bool</a>(<span class="stringliteral">&quot;paths&quot;</span>, strRelativeKey, bConfigIsRelative, bNewOrUpdated)) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }

        }

        <span class="keywordflow">if</span> (!strConfigFolder.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(strScriptsFolder)) {

            strConfigFolder = strScriptsFolder; <span class="comment">// update folder</span>
            <span class="keywordtype">bool</span> bNewOrUpdated = <span class="keyword">false</span>;

            <span class="keywordflow">if</span> (!config.<a class="code" href="class_o_t_settings.html#a469fdde7688664dc455a1047ac55a4e0">Set_str</a>( <span class="stringliteral">&quot;paths&quot;</span>, <span class="stringliteral">&quot;scripts&quot;</span>, strConfigFolder, bNewOrUpdated)) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
        }
    }


    <span class="keywordflow">if</span> (bConfigIsRelative)
    {
        <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(strConfigFolder,strConfigFolder,<span class="keyword">true</span>)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

        <a class="code" href="class_o_t_string.html">OTString</a> strPrefixScriptPath = <span class="stringliteral">&quot;&quot;</span>;
        <a class="code" href="class_o_t_paths.html#a26bb1a6f9db38f290fdf98ff601b2a5a">AppendFolder</a>(strPrefixScriptPath, <a class="code" href="class_o_t_paths.html#a67b673609fc0b757336cef9904727f5d">PrefixFolder</a>(), strConfigFolder);

        <a class="code" href="class_o_t_string.html">OTString</a> strAppBinaryScriptPath = <span class="stringliteral">&quot;&quot;</span>;


        <span class="comment">// if the AppBinaryFolder is set, we will attempt to use this script path instead.</span>
        <span class="comment">// however if the directory dosn&#39;t exist, we will default back to appending to the prefix.</span>

        <span class="comment">// TODO:  Make the prefix path set to AppBinaryFolder. (da2ce7)</span>

        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_paths.html#a01b9eb61e2529bb230073af8ec5788a5">AppBinaryFolder</a>().<a class="code" href="namespace_o_t_d_b.html#a73e39a590dfb64f63065821c6bbcd4c6">Exists</a>()) {
            <a class="code" href="class_o_t_paths.html#a26bb1a6f9db38f290fdf98ff601b2a5a">AppendFolder</a>(strAppBinaryScriptPath, <a class="code" href="class_o_t_paths.html#a01b9eb61e2529bb230073af8ec5788a5">AppBinaryFolder</a>(), strConfigFolder);
            <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_paths.html#a3f225a2dc38f88ada39aef2fc44e4549">OTPaths::FolderExists</a>(strAppBinaryScriptPath)) {
                <a class="code" href="class_o_t_log.html#a607ac911c2ab1fa483168f16dd0e7355">OTLog::sOutput</a>(0,<span class="stringliteral">&quot;%s: Warning: Cannot Find: %s, using default!&quot;</span>,__FUNCTION__,strAppBinaryScriptPath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                strAppBinaryScriptPath = <span class="stringliteral">&quot;&quot;</span>; <span class="comment">//don&#39;t have anything here.</span>
            }
        }

        s_strScriptsFolder = strAppBinaryScriptPath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() ? strAppBinaryScriptPath : strPrefixScriptPath;

        <span class="keywordflow">if</span> (!s_strScriptsFolder.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>;

    }
    <span class="keywordflow">else</span>
    {
        <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a0573d2813f42d5b60ecb61b483bdf347">ToReal</a>(strConfigFolder, strConfigFolder)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

        <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(strConfigFolder, strConfigFolder, <span class="keyword">true</span>)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
        s_strScriptsFolder = strConfigFolder; <span class="comment">// set</span>
    }

    <span class="keywordflow">if</span> (!bPreLoaded)
    {
        <span class="keywordflow">if</span>(!config.Save()) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
        config.<a class="code" href="class_o_t_settings.html#a309c91e013b50460890d3f109e357cbf">Reset</a>();
    }
    <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// success</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a41b0b563747f7d99e109077b0d17a34a"></a><!-- doxytag: member="OTPaths::PathExists" ref="a41b0b563747f7d99e109077b0d17a34a" args="(const OTString &amp;strPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a41b0b563747f7d99e109077b0d17a34a">OTPaths::PathExists</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strPath</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00725">725</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!strPath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strPath&quot;</span> ); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

    <span class="comment">// remove trailing backslash for stat</span>
    std::string l_strPath(strPath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    l_strPath = (<a class="code" href="class_o_t_string.html#a901ac066d89899a2f3476d1261ad3d25">OTString::replace_chars</a>(l_strPath,<span class="stringliteral">&quot;\\&quot;</span>,<span class="charliteral">&#39;/&#39;</span>));  <span class="comment">// all \ to /</span>

    <span class="comment">//std::string l_strPath_stat = l_strPath;</span>
    std::string l_strPath_stat(<span class="stringliteral">&quot;&quot;</span>);

    <span class="comment">// remove last / if it exists (for l_strPath_stat)</span>
    <span class="keywordflow">if</span> (<span class="charliteral">&#39;/&#39;</span> == *l_strPath.rbegin())
        l_strPath_stat = l_strPath.substr(0, l_strPath.size()-1);
    <span class="keywordflow">else</span> l_strPath_stat = l_strPath;

    <span class="keyword">struct </span>stat st;
    memset(&amp;st, 0, <span class="keyword">sizeof</span>(st));

    <span class="keywordflow">if</span> (0 == stat(l_strPath_stat.c_str(), &amp;st)) <span class="comment">// good we have at-least on a node</span>
    {
        <span class="keywordflow">if</span> (<span class="charliteral">&#39;/&#39;</span> != *l_strPath.rbegin())
        {
            int64_t temp_l=0;
            <span class="keywordflow">return</span> <a class="code" href="class_o_t_paths.html#a8393f02d38694365a35cfb68c1035571">FileExists</a>(strPath,temp_l);
        }
        <span class="keywordflow">else</span>
        {
            <span class="keywordflow">return</span> <a class="code" href="class_o_t_paths.html#a3f225a2dc38f88ada39aef2fc44e4549">FolderExists</a>(strPath);
        }
    }
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a67b673609fc0b757336cef9904727f5d"></a><!-- doxytag: member="OTPaths::PrefixFolder" ref="a67b673609fc0b757336cef9904727f5d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_t_string.html">OTString</a> &amp; <a class="el" href="class_o_t_paths.html#a67b673609fc0b757336cef9904727f5d">OTPaths::PrefixFolder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00298">298</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (s_strPrefixFolder.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) <span class="keywordflow">return</span> s_strPrefixFolder;  <span class="comment">//got it, lets return it.</span>

    <span class="comment">// lets load from the statndard config, or create the entry.</span>
    <span class="keywordflow">if</span>(<a class="code" href="class_o_t_paths.html#ae95362a1fb3eb60a08f8cabfa7799402">LoadSetPrefixFolder</a>())
        <span class="keywordflow">return</span> s_strPrefixFolder;
    <span class="keywordflow">else</span>
    {
        <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a73f191305215a5a10158a927b01f53da"></a><!-- doxytag: member="OTPaths::RelativeToCanonical" ref="a73f191305215a5a10158a927b01f53da" args="(OTString &amp;out_strCanonicalPath, const OTString &amp;strBasePath, const OTString &amp;strRelativePath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a73f191305215a5a10158a927b01f53da">OTPaths::RelativeToCanonical</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>out_strCanonicalPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strBasePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strRelativePath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l01193">1193</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!strBasePath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())       { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strBasePath&quot;</span>    ); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
    <span class="keywordflow">if</span> (!strRelativePath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strRelativePath&quot;</span> ); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }


    <a class="code" href="class_o_t_string.html">OTString</a> l_strBasePath_fix(<span class="stringliteral">&quot;&quot;</span>);
    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a6ce93fcc14c3c810bf81deb65c7dfdeb">FixPath</a>(strBasePath,l_strBasePath_fix,<span class="keyword">true</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;

    <span class="keywordflow">if</span>(strRelativePath.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<span class="stringliteral">&quot;.&quot;</span>)) { out_strCanonicalPath = strBasePath; <span class="keywordflow">return</span> <span class="keyword">true</span>; }  <span class="comment">// if &quot;.&quot;, return base path.</span>

    std::string l_strBasePath(l_strBasePath_fix.Get()), l_strRelativePath(strRelativePath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());

    l_strBasePath.append(l_strRelativePath);

    <a class="code" href="class_o_t_string.html">OTString</a> l_strPath(l_strBasePath), l_strCanonicalPath(<span class="stringliteral">&quot;&quot;</span>);

    <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_paths.html#a0573d2813f42d5b60ecb61b483bdf347">ToReal</a>(l_strPath,l_strCanonicalPath)) <span class="keywordflow">return</span> <span class="keyword">false</span>;

    out_strCanonicalPath = l_strCanonicalPath;

    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a227db42fa2154f1ff1f98ba3c746efe6"></a><!-- doxytag: member="OTPaths::ScriptsFolder" ref="a227db42fa2154f1ff1f98ba3c746efe6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_t_string.html">OTString</a> &amp; <a class="el" href="class_o_t_paths.html#a227db42fa2154f1ff1f98ba3c746efe6">OTPaths::ScriptsFolder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00312">312</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (s_strScriptsFolder.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) <span class="keywordflow">return</span> s_strScriptsFolder;  <span class="comment">//got it, lets return it.</span>

    <span class="comment">// load it from config (if we already have it set in the config).</span>
    <span class="keywordflow">if</span>(<a class="code" href="class_o_t_paths.html#a4d3e64413bb9a1d73c44f989101ab51f">LoadSetScriptsFolder</a>())
        <span class="keywordflow">return</span> s_strScriptsFolder;
    <span class="keywordflow">else</span>
    {
        <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa7a7886204439abdad8e3aee74005aec"></a><!-- doxytag: member="OTPaths::Set" ref="aa7a7886204439abdad8e3aee74005aec" args="(OTSettings &amp;config, const OTString &amp;strSection, const OTString &amp;strKey, const OTString &amp;strValue, const bool &amp;bIsRelative, bool &amp;out_bIsNewOrUpdated, const OTString &amp;strComment=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#aa7a7886204439abdad8e3aee74005aec">OTPaths::Set</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_settings.html">OTSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strSection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>bIsRelative</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>out_bIsNewOrUpdated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strComment</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00631">631</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!strSection.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strSection&quot;</span> ); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
    <span class="keywordflow">if</span> (!strKey.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())     { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strKey&quot;</span>     ); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

    out_bIsNewOrUpdated = <span class="keyword">false</span>;

    <span class="keyword">const</span> <span class="keywordtype">bool</span> bPreLoaded(config.<a class="code" href="class_o_t_settings.html#a51c90fa894ace75e74acb6b5c5ba9475">IsLoaded</a>());

    <span class="keywordflow">if</span> (!bPreLoaded)  <span class="comment">// we only need to load, if not already loaded.</span>
    {
        config.<a class="code" href="class_o_t_settings.html#a309c91e013b50460890d3f109e357cbf">Reset</a>();
        <span class="keywordflow">if</span>(!config.Load()) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
    }

    <span class="keywordtype">bool</span> bBoolIsNew(<span class="keyword">false</span>), bStringIsNew(<span class="keyword">false</span>);
    <a class="code" href="class_o_t_string.html">OTString</a>  strRelativeKey(<span class="stringliteral">&quot;&quot;</span>);

    strRelativeKey.Format(<span class="stringliteral">&quot;%s%s&quot;</span>, strKey.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="_o_t_paths_8cpp.html#a7b8035fda2b3c9f38cd31db89630d762">OT_CONFIG_ISRELATIVE</a>);

    <span class="keywordflow">if</span>(config.<a class="code" href="class_o_t_settings.html#a7276ca25b26fd3ecec4edb6da526468a">Set_bool</a>(strSection, strRelativeKey, bIsRelative, bBoolIsNew, strComment))
    {
        <span class="keywordflow">if</span>(config.<a class="code" href="class_o_t_settings.html#a469fdde7688664dc455a1047ac55a4e0">Set_str</a>(strSection, strKey, strValue, bStringIsNew))
        {
            <span class="keywordflow">if</span>(bBoolIsNew &amp;&amp; bStringIsNew) <span class="comment">//using existing key</span>
            {
                out_bIsNewOrUpdated = <span class="keyword">true</span>;
            }

            <span class="keywordflow">if</span> (!bPreLoaded)
            {
                <span class="keywordflow">if</span>(!config.Save()) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }
                config.<a class="code" href="class_o_t_settings.html#a309c91e013b50460890d3f109e357cbf">Reset</a>();
            }

            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
    }

    <span class="comment">// if we get here, there has been a error!</span>
    <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0b00bcc629432fab6dbb428fc117c5ca"></a><!-- doxytag: member="OTPaths::SetAppBinaryFolder" ref="a0b00bcc629432fab6dbb428fc117c5ca" args="(OTString strLocation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_paths.html#a0b00bcc629432fab6dbb428fc117c5ca">OTPaths::SetAppBinaryFolder</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td>
          <td class="paramname"><em>strLocation</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00234">234</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    OTPaths::s_strAppBinaryFolder = strLocation;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5f0ee52748313847f875cd512b77f77b"></a><!-- doxytag: member="OTPaths::SetHomeFolder" ref="a5f0ee52748313847f875cd512b77f77b" args="(OTString strLocation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_paths.html#a5f0ee52748313847f875cd512b77f77b">OTPaths::SetHomeFolder</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td>
          <td class="paramname"><em>strLocation</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00246">246</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    OTPaths::s_strHomeFolder = strLocation;

<span class="preprocessor">#ifdef ANDROID</span>
<span class="preprocessor"></span>    OTPaths::s_settings.<a class="code" href="class_o_t_settings.html#a324a7ae9a80ddd3e7b1038e9d172b6e9">SetConfigFilePath</a>(<a class="code" href="class_o_t_paths.html#aabd28aebbe926ba547ea13dbdea7b2fd">GlobalConfigFile</a>());
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a0573d2813f42d5b60ecb61b483bdf347"></a><!-- doxytag: member="OTPaths::ToReal" ref="a0573d2813f42d5b60ecb61b483bdf347" args="(const OTString &amp;strExactPath, OTString &amp;out_strCanonicalPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_paths.html#a0573d2813f42d5b60ecb61b483bdf347">OTPaths::ToReal</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strExactPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>out_strCanonicalPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_paths_8cpp_source.html#l00920">920</a> of file <a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!strExactPath.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())        { <a class="code" href="class_o_t_log.html#a8c12a31fb887aa7a3023879a2ff86173">OTLog::sError</a>(<span class="stringliteral">&quot;%s: Null: %s passed in!\n&quot;</span>, __FUNCTION__, <span class="stringliteral">&quot;strExactPath&quot;</span>); <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; }

<span class="preprocessor">#ifdef _WIN32</span>
<span class="preprocessor"></span><span class="preprocessor">#ifdef _UNICODE</span>
<span class="preprocessor"></span>
    <span class="keyword">const</span> <span class="keywordtype">char</span> * szPath = strExactPath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>();
    <span class="keywordtype">size_t</span> newsize = strlen(szPath) + 1;
    <span class="keywordtype">wchar_t</span> * wzPath = <span class="keyword">new</span> <span class="keywordtype">wchar_t</span>[newsize];

    <span class="keywordtype">size_t</span> convertedChars = 0;
    mbstowcs_s(&amp;convertedChars, wzPath, newsize, szPath,4096);

    <span class="keywordtype">wchar_t</span> szBuf[4096]= L<span class="stringliteral">&quot;&quot;</span>;

    <span class="keywordflow">if</span>(GetFullPathName(wzPath,4096,szBuf,NULL))
    {
        out_strCanonicalPath.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(<a class="code" href="namespaceutf8util.html#ac4c6c1bf209e9709250ed81c00ee3e81">utf8util::UTF8FromUTF16</a>(szBuf));
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">else</span>
    {
        out_strCanonicalPath.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(<span class="stringliteral">&quot;&quot;</span>);
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    char_t szBuf[4096]=<span class="stringliteral">&quot;&quot;</span>;
    char_t <span class="keyword">const</span> * szPath = strRealPath.Get();

    <span class="keywordflow">if</span>(GetFullPathName(szPath,4096,szBuf,NULL))
    {
        out_strCanonicalPath.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(szBuf);
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">else</span>
    {
        out_strCanonicalPath.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(<span class="stringliteral">&quot;&quot;</span>);
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

<span class="preprocessor">#endif</span>
<span class="preprocessor"></span><span class="preprocessor">#else</span>
<span class="preprocessor"></span>
    int64_t path_max=0;
<span class="preprocessor">#ifdef PATH_MAX</span>
<span class="preprocessor"></span>    path_max = PATH_MAX;
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    path_max = pathconf(<span class="stringliteral">&quot;/&quot;</span>, _PC_PATH_MAX);
    <span class="keywordflow">if</span> (path_max &lt;= 0)  path_max = 4096;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    <span class="keywordtype">char</span> actualpath [path_max+1];
    actualpath[0] = <span class="charliteral">&#39;\0&#39;</span>;
    <span class="keywordtype">char</span> *ptr=NULL;

    <span class="keywordflow">if</span> (NULL ==  realpath(strExactPath.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), actualpath)) {

        <span class="keywordflow">if</span> (errno == ENOTDIR) {
            <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1,<span class="stringliteral">&quot;Input value to RealPath is not a directory: (Realpath: skipping)\n&quot;</span>);
            out_strCanonicalPath.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(strExactPath);
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }

        <span class="keywordflow">if</span> (errno == ENOENT) {
            <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1,<span class="stringliteral">&quot;File doesn&#39;t exist: (Realpath: skipping)\n&quot;</span>);
            out_strCanonicalPath.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(strExactPath);
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }

        <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>((errno != EACCES),<span class="stringliteral">&quot;Error (Realpath: EACCES): Unable to build RealPath: access denied&quot;</span>);
        <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>((errno != EINVAL),<span class="stringliteral">&quot;Error (RealPath: EINVAL): Input value into RealPath was NULL&quot;</span>);
        <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>((errno != ELOOP),<span class="stringliteral">&quot;Error (RealPath: ELOOP): Resloving links resulted in a loop.&quot;</span>);
        <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>((errno != ENAMETOOLONG),<span class="stringliteral">&quot;Error (RealPath: ENAMETOOLONG): Name too int64_t.&quot;</span>);
        <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>((errno != ERANGE),<span class="stringliteral">&quot;Error (RealPath: ERANGE): Resulting path is too int64_t for the buffer&quot;</span>);
        <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>((errno != EIO),<span class="stringliteral">&quot;Error (RealPath: EIO): Unable to access path.&quot;</span>);

        <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>((<span class="keyword">false</span>),<span class="stringliteral">&quot;Error (RealPath: OTHER): Something bad Happend with &#39;realpath&#39;.&quot;</span>);
    }
    out_strCanonicalPath.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(actualpath);
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/otlib/<a class="el" href="_o_t_paths_8hpp_source.html">OTPaths.hpp</a></li>
<li>src/otlib/<a class="el" href="_o_t_paths_8cpp_source.html">OTPaths.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_o_t_paths.html">OTPaths</a>      </li>

    <li class="footer">Generated on Wed May 21 2014 11:26:14 for Open-Transactions by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
