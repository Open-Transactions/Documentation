<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Open-Transactions: OTAssetContract Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open-Transactions
   &#160;<span id="projectnumber">master/1066fb4910a63ee3f7de8e0807fee3eb663b66c7</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_o_t_asset_contract.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">OTAssetContract Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="OTAssetContract" --><!-- doxytag: inherits="OTContract" -->
<p><code>#include &lt;<a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for OTAssetContract:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_o_t_asset_contract.png" usemap="#OTAssetContract_map" alt=""/>
  <map id="OTAssetContract_map" name="OTAssetContract_map">
<area href="class_o_t_contract.html" alt="OTContract" shape="rect" coords="0,0,108,24"/>
</map>
 </div></div>

<p><a href="class_o_t_asset_contract-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a1ae12d4d4d97c8d73c7cc7708f30687f">CreateContents</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#ab3a38bdbd886fdc57d0a2293ec464548">CreateBasket</a> (<a class="el" href="class_o_t_basket.html">OTBasket</a> &amp;theBasket, <a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;theSigner)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#ac30a534d3a53b5e4e8998a4dd1f325a9">GetBasketInfo</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#ae77e24d2c315b85fa2bbdc4a358c9d3a">OTAssetContract</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#ac0b47c8f961e782b8832ac908d5c53dd">OTAssetContract</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;name, <a class="el" href="class_o_t_string.html">OTString</a> &amp;foldername, <a class="el" href="class_o_t_string.html">OTString</a> &amp;filename, <a class="el" href="class_o_t_string.html">OTString</a> &amp;strID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a8b35d1310b6d1b86d0fc4bc3eef3739f">~OTAssetContract</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#acbd416ba9d7ac6b0965fadc971e3d12b">IsShares</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#aaae4a28e5f6b4cd915b47862d8614cf4">AddAccountRecord</a> (const <a class="el" href="class_o_t_account.html">OTAccount</a> &amp;theAccount)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a37e62619190b5af431a99883cd76de11">EraseAccountRecord</a> (const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theAcctID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a1872fcbbefee5f891f3252126c933e8a">ForEachAccountRecord</a> (<a class="el" href="class_o_t_acct_functor.html">OTAcctFunctor</a> &amp;theAction)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#ac3ef605c99dcea4c9380684fce292950">FormatAmount</a> (const <a class="el" href="class_o_t_amount.html">OTAmount</a> &amp;theInput, std::string &amp;str_output) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a31632d6a9bd0efb34c427b04f3bd2b37">StringToAmount</a> (<a class="el" href="class_o_t_amount.html">OTAmount</a> &amp;theOutput, const std::string &amp;str_input) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a8a4f8a9b1c69092caf887b91914438c3">GetDollarsOnly</a> (const <a class="el" href="class_o_t_amount.html">OTAmount</a> &amp;theInput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#aa67fd879f699b1ef7a2882094b82f98e">CentsOnly</a> (const <a class="el" href="class_o_t_amount.html">OTAmount</a> &amp;theInput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#af098ba258ee7490e32f72bc8896cf079">GetCurrencyName</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a34903d573eb5fa381f937f1671314670">GetCurrencyFraction</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a69a507ba243e590f14354c3d903a03a6">GetCurrencySymbol</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a57453300ee2ae1c1237078126d993afc">GetCurrencyTLA</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#afb2be6f335cdd368a0925c9fa042e729">SaveContractWallet</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;strContents) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#aa49fadfd22d7686fe398c78f62f6c285">SaveContractWallet</a> (std::ofstream &amp;ofs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#aeb0a127e435d1a63490691995070c810">DisplayStatistics</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;strContents) const </td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a597d24512ee0b09401bb8455d8a4cfcb">formatLongAmount</a> (int64_t &amp;lOriginalValue, int32_t nFactor=100, int32_t nPower=2, const char *szSymbol=&quot;&quot;, const char *szSeparator=&quot;,&quot;, const char *szDecimalPoint=&quot;.&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#aae3b4f60483114f480a57785bc3a276f">ParseFormatted</a> (int64_t &amp;lResult, const std::string &amp;str_input, int32_t nFactor=100, int32_t nPower=2, const char *szSeparator=&quot;,&quot;, const char *szDecimalPoint=&quot;.&quot;)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a4e2ef185332f79a3976b4bdface9ac5a">ProcessXMLNode</a> (<a class="el" href="namespaceirr_1_1io.html#a1628edbb9d5d53f18c82d2a92b0ad27e">irr::io::IrrXMLReader</a> *&amp;xml)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a779833ad1d3462072f04dd0561438c38">m_strBasketInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#ae596ee94a30fbda594d60a79ca9fd0c1">m_strIssueCompany</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#acf4591db2b801cb17fe92a638cd10271">m_strIssueEmail</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a2131b748686ded77c7b317ca825cff9f">m_strIssueContractURL</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a4b3deafb62a9a54b42992d50abfcb0cf">m_strIssueType</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a0db629d1d133fee66ad4c11de2f31628">m_strIssueDate</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a714ea3d4b6fc6f9968438426546c6acb">m_strCurrencyName</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a4f5f441460dd19ceca0eb05e598a03dc">m_strCurrencyType</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a21237957e31011669306d21d36e7eff3">m_strCurrencySymbol</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a68b0305d86e6a7140b800de43007e78d">m_strCurrencyTLA</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a1821b699a7c9fb079e34a6ac06583718">m_strCurrencyFactor</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#ab199da6e0ba1eb88aea13693f5329e9d">m_strCurrencyDecimalPower</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#ac82a799a92c439a849326c2412c87e19">m_strCurrencyFraction</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a991da3a4cfb384a9863570a744dad61d">m_bIsCurrency</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_asset_contract.html#a012b376e475abb307efd9a11c9204df1">m_bIsShares</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00151">151</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae77e24d2c315b85fa2bbdc4a358c9d3a"></a><!-- doxytag: member="OTAssetContract::OTAssetContract" ref="ae77e24d2c315b85fa2bbdc4a358c9d3a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_asset_contract.html#ae77e24d2c315b85fa2bbdc4a358c9d3a">OTAssetContract::OTAssetContract</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00521">521</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                 : <a class="code" href="class_o_t_contract.html#aafd1cfb541fe8f7ae09398e46c25ce52">OTContract</a>(), <a class="code" href="class_o_t_asset_contract.html#a991da3a4cfb384a9863570a744dad61d">m_bIsCurrency</a>(<span class="keyword">true</span>), <a class="code" href="class_o_t_asset_contract.html#a012b376e475abb307efd9a11c9204df1">m_bIsShares</a>(<span class="keyword">false</span>)
{
    
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac0b47c8f961e782b8832ac908d5c53dd"></a><!-- doxytag: member="OTAssetContract::OTAssetContract" ref="ac0b47c8f961e782b8832ac908d5c53dd" args="(OTString &amp;name, OTString &amp;foldername, OTString &amp;filename, OTString &amp;strID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_asset_contract.html#ae77e24d2c315b85fa2bbdc4a358c9d3a">OTAssetContract::OTAssetContract</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>foldername</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00527">527</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">: <a class="code" href="class_o_t_contract.html#aafd1cfb541fe8f7ae09398e46c25ce52">OTContract</a>(name, foldername, filename, strID), <a class="code" href="class_o_t_asset_contract.html#a991da3a4cfb384a9863570a744dad61d">m_bIsCurrency</a>(<span class="keyword">true</span>), <a class="code" href="class_o_t_asset_contract.html#a012b376e475abb307efd9a11c9204df1">m_bIsShares</a>(<span class="keyword">false</span>)
{

}
</pre></div>
</div>
</div>
<a class="anchor" id="a8b35d1310b6d1b86d0fc4bc3eef3739f"></a><!-- doxytag: member="OTAssetContract::~OTAssetContract" ref="a8b35d1310b6d1b86d0fc4bc3eef3739f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_asset_contract.html#a8b35d1310b6d1b86d0fc4bc3eef3739f">OTAssetContract::~OTAssetContract</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00534">534</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// OTContract::~OTContract is called here automatically, and it calls Release.</span>
    <span class="comment">// So I don&#39;t need to call it here again when it&#39;s already called by the parent.</span>
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aaae4a28e5f6b4cd915b47862d8614cf4"></a><!-- doxytag: member="OTAssetContract::AddAccountRecord" ref="aaae4a28e5f6b4cd915b47862d8614cf4" args="(const OTAccount &amp;theAccount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_asset_contract.html#aaae4a28e5f6b4cd915b47862d8614cf4">OTAssetContract::AddAccountRecord</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_account.html">OTAccount</a> &amp;&#160;</td>
          <td class="paramname"><em>theAccount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00713">713</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//  Load up account list StringMap. Create it if doesn&#39;t already exist.</span>
    <span class="comment">//  See if account is already there in the map. Add it otherwise.</span>
    <span class="comment">//  Save the StringMap back again. (The account records list for a given asset type.)</span>
    
    <span class="keyword">const</span> <span class="keywordtype">char</span> * szFunc = <span class="stringliteral">&quot;OTAssetContract::AddAccountRecord&quot;</span>;
    
    <span class="keywordflow">if</span> (theAccount.<a class="code" href="class_o_t_account.html#a3b933b8c929e071a68ec4a29ad5797d6">GetAssetTypeID</a>() != <a class="code" href="class_o_t_contract.html#ac975866d3511c41d935d2ec44c24c4cb">m_ID</a>)
    {
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error: theAccount doesn&#39;t have the same asset type ID as *this does.\n&quot;</span>,
                      szFunc);
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
    <span class="comment">// --------------------------------------------------------------</span>
    <span class="keyword">const</span> <a class="code" href="class_o_t_identifier.html">OTIdentifier</a> theAcctID(theAccount);
    <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a>     strAcctID(theAcctID);
    <span class="comment">// --------------------------------------------------------------</span>
    <a class="code" href="class_o_t_string.html">OTString</a> strAssetTypeID, strAcctRecordFile;
    this-&gt;<a class="code" href="class_o_t_contract.html#acf77d2db6da3904aa8b03e7b87c02e4e">GetIdentifier</a>(strAssetTypeID);
    strAcctRecordFile.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%s.a&quot;</span>, strAssetTypeID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    <span class="comment">// --------------------------------------------------------------</span>
    <a class="code" href="class_o_t_d_b_1_1_storable.html">OTDB::Storable</a> * pStorable = NULL;
    <a class="code" href="class_o_t_cleanup.html">OTCleanup&lt;OTDB::Storable&gt;</a> theAngel;
    <a class="code" href="class_o_t_d_b_1_1_string_map.html">OTDB::StringMap</a> * pMap = NULL;
    <span class="comment">// --------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="namespace_o_t_d_b.html#a73e39a590dfb64f63065821c6bbcd4c6">OTDB::Exists</a>(<a class="code" href="class_o_t_folders.html#ac8ac28307d688d0defee0fd7734be027">OTFolders::Contract</a>().Get(), strAcctRecordFile.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>())) <span class="comment">// the file already exists; let&#39;s try to load it up.</span>
        pStorable = <a class="code" href="namespace_o_t_d_b.html#aaf0caee055f843a828e3bac094321886">OTDB::QueryObject</a>(<a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82acc03e85e0f615881a2abe9ca12628330">OTDB::STORED_OBJ_STRING_MAP</a>, <a class="code" href="class_o_t_folders.html#ac8ac28307d688d0defee0fd7734be027">OTFolders::Contract</a>().Get(), strAcctRecordFile.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    <span class="keywordflow">else</span> <span class="comment">// the account records file (for this asset type) doesn&#39;t exist.</span>
        pStorable = <a class="code" href="namespace_o_t_d_b.html#a67b35ca5812604fb3e1eae2b659f66ee">OTDB::CreateObject</a>(<a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82acc03e85e0f615881a2abe9ca12628330">OTDB::STORED_OBJ_STRING_MAP</a>); <span class="comment">// this asserts already, on failure.</span>
    
    theAngel.<a class="code" href="class_o_t_cleanup.html#aac0b26193b0a59dbbf491a4e417af833">SetCleanupTargetPointer</a>(pStorable); <span class="comment">// It will definitely be cleaned up.</span>
    pMap = (NULL == pStorable) ? NULL : dynamic_cast&lt;OTDB::StringMap *&gt;(pStorable);
    <span class="comment">// --------------------------------------------------------------</span>
    <span class="comment">// It exists.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (NULL == pMap) 
    {
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error: failed trying to load or create the account records file for asset type: %s\n&quot;</span>, 
                      szFunc, strAssetTypeID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
    <span class="comment">// -----------------------------------------------</span>
    <a class="code" href="_o_t_string_8hpp.html#a7ec7839682b097a5c5b5c5125046c82b">mapOfStrings</a> &amp;         theMap = pMap-&gt;<a class="code" href="class_o_t_d_b_1_1_string_map.html#a460f2e551430c65fef4130576985a0ce">the_map</a>;
    mapOfStrings::iterator map_it = theMap.find(strAcctID.Get());
    
    <span class="keywordflow">if</span> (theMap.end() != map_it) <span class="comment">// we found it.</span>
    {   <span class="comment">// We were ADDING IT, but it was ALREADY THERE. </span>
        <span class="comment">// (Thus, we&#39;re ALREADY DONE.)</span>
        <span class="comment">// Let&#39;s just make sure the right asset type ID is associated with this account </span>
        <span class="comment">// (it better be, since we loaded the account records file based on the asset type ID as its filename...)</span>
        <span class="comment">//</span>
        <span class="keyword">const</span> std::string &amp; str2 = (*map_it).second; <span class="comment">// Containing the asset type ID. (Just in case someone copied the wrong file here, </span>
        <span class="comment">// --------------------------------          // every account should map to the SAME asset ID.)</span>

        <span class="keywordflow">if</span> (<span class="keyword">false</span> == strAssetTypeID.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(str2.c_str())) <span class="comment">// should never happen.</span>
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error: wrong asset type found in account records file...\n For asset type: %s\n &quot;</span>
                          <span class="stringliteral">&quot;For account: %s\n Found wrong asset type: %s\n&quot;</span>, szFunc, strAssetTypeID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                          strAcctID.Get(), str2.c_str());
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }

        <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// already there (no need to add.) + the asset type ID matches.</span>
    }
    <span class="comment">// ---------------------------------------------------</span>
    <span class="comment">// it wasn&#39;t already on the list...</span>

    <span class="comment">// ...so add it.</span>
    <span class="comment">//</span>
    theMap[strAcctID.Get()] = strAssetTypeID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>();
    
    <span class="comment">// ---------------------------------------------------</span>
    <span class="comment">// Then save it back to local storage:</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="namespace_o_t_d_b.html#a394420b02f48d3ebdfebb75d92a4d6dd">OTDB::StoreObject</a>(*pMap, <a class="code" href="class_o_t_folders.html#ac8ac28307d688d0defee0fd7734be027">OTFolders::Contract</a>().Get(), strAcctRecordFile.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()))
    {
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Failed trying to StoreObject, while saving updated &quot;</span>
                      <span class="stringliteral">&quot;account records file for asset type: %s\n to contain account ID: %s\n&quot;</span>, 
                      szFunc, strAssetTypeID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), strAcctID.Get());
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
    <span class="comment">// ----------------------------------------------------------------</span>
    <span class="comment">// Okay, we saved the updated file, with the account added. (done, success.)</span>
    <span class="comment">//</span>
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa67fd879f699b1ef7a2882094b82f98e"></a><!-- doxytag: member="OTAssetContract::CentsOnly" ref="aa67fd879f699b1ef7a2882094b82f98e" args="(const OTAmount &amp;theInput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="class_o_t_asset_contract.html#aa67fd879f699b1ef7a2882094b82f98e">OTAssetContract::CentsOnly</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_amount.html">OTAmount</a> &amp;&#160;</td>
          <td class="paramname"><em>theInput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00515">515</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> 0; <span class="comment">// TODO</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab3a38bdbd886fdc57d0a2293ec464548"></a><!-- doxytag: member="OTAssetContract::CreateBasket" ref="ab3a38bdbd886fdc57d0a2293ec464548" args="(OTBasket &amp;theBasket, OTPseudonym &amp;theSigner)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_asset_contract.html#ab3a38bdbd886fdc57d0a2293ec464548">OTAssetContract::CreateBasket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_basket.html">OTBasket</a> &amp;&#160;</td>
          <td class="paramname"><em>theBasket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;&#160;</td>
          <td class="paramname"><em>theSigner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00871">871</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_contract.html#a15e423ca0d650858a23e54f8285feae1">Release</a>();

    <span class="comment">// Grab a string copy of the basket information.</span>
    theBasket.<a class="code" href="class_o_t_contract.html#a5fd00cded794a6f96ba80d8d4081d591">SaveContractRaw</a>(<a class="code" href="class_o_t_asset_contract.html#a779833ad1d3462072f04dd0561438c38">m_strBasketInfo</a>);
    <span class="comment">// -------------------------------</span>
    <a class="code" href="class_o_t_string.html">OTString</a>     strTemplate;
    <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> theBasketArmor(<a class="code" href="class_o_t_asset_contract.html#a779833ad1d3462072f04dd0561438c38">m_strBasketInfo</a>);
    <span class="comment">// -------------------------------</span>
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;?xml version=\&quot;%s\&quot;?&gt;\n&quot;</span>, <span class="stringliteral">&quot;1.0&quot;</span>);
    
    strTemplate.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;basketContract version=\&quot;%s\&quot;&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    strTemplate.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;basketInfo&gt;\n%s&lt;/basketInfo&gt;\n\n&quot;</span>, theBasketArmor.Get());

    strTemplate.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n&quot;</span>, <span class="stringliteral">&quot;basketContract&quot;</span>);
    <span class="comment">// -------------------------------    </span>
    <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_o_t_contract.html#aefeed014e39aa6dc843d090e03769b5d">CreateContract</a>(strTemplate, theSigner);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1ae12d4d4d97c8d73c7cc7708f30687f"></a><!-- doxytag: member="OTAssetContract::CreateContents" ref="a1ae12d4d4d97c8d73c7cc7708f30687f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_asset_contract.html#a1ae12d4d4d97c8d73c7cc7708f30687f">OTAssetContract::CreateContents</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a9122572914af91ea44bdc5665d01a97f">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00892">892</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// ----------------------------------</span>
    <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a> = <span class="stringliteral">&quot;2.0&quot;</span>;  <span class="comment">// 2.0 since adding credentials.</span>
    <span class="comment">// ----------------------------------</span>
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;?xml version=\&quot;%s\&quot;?&gt;\n&quot;</span>, <span class="stringliteral">&quot;1.0&quot;</span>);
    <span class="comment">// ----------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_asset_contract.html#a779833ad1d3462072f04dd0561438c38">m_strBasketInfo</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) <span class="comment">// Basket contract</span>
    {
        <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> theBasketArmor(<a class="code" href="class_o_t_asset_contract.html#a779833ad1d3462072f04dd0561438c38">m_strBasketInfo</a>);
        <span class="comment">// -------------------------------</span>
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;basketContract version=\&quot;%s\&quot;&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;basketInfo&gt;\n%s&lt;/basketInfo&gt;\n\n&quot;</span>, theBasketArmor.Get());
    }
    <span class="comment">// ----------------------------------</span>
    <span class="keywordflow">else</span> <span class="comment">// All other asset contracts.</span>
    {
        <span class="comment">// ----------------------------------</span>
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;%s version=\&quot;%s\&quot;&gt;\n\n&quot;</span>, <span class="stringliteral">&quot;digitalAssetContract&quot;</span>, <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="comment">// --------------------------------------------</span>
        <span class="comment">// Entity</span>
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;entity shortname=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; longname=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; email=\&quot;%s\&quot;/&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_contract.html#a2daed7bf314bceeb5773493b5717c0dd">m_strEntityShortName</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_contract.html#a0c2d1fa6f921902b84babbb702fc3a12">m_strEntityLongName</a> .<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_contract.html#ab9c40bb65fb640c072fe4728ee6ad48d">m_strEntityEmail</a>    .<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());    
        <span class="comment">// --------------------------------------------</span>
        <span class="comment">// Issue</span>
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;issue company=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; email=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; contractUrl=\&quot;%s\&quot;\n&quot;</span>
                                  <span class="stringliteral">&quot; type=\&quot;%s\&quot;/&gt;\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_asset_contract.html#ae596ee94a30fbda594d60a79ca9fd0c1">m_strIssueCompany</a>    .Get(),
                                  <a class="code" href="class_o_t_asset_contract.html#acf4591db2b801cb17fe92a638cd10271">m_strIssueEmail</a>      .Get(),
                                  <a class="code" href="class_o_t_asset_contract.html#a2131b748686ded77c7b317ca825cff9f">m_strIssueContractURL</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                  <a class="code" href="class_o_t_asset_contract.html#a4b3deafb62a9a54b42992d50abfcb0cf">m_strIssueType</a>       .<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="comment">// --------------------------------------------</span>
        <span class="comment">// [currency|shares]</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_asset_contract.html#a991da3a4cfb384a9863570a744dad61d">m_bIsCurrency</a>)
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;currency name=\&quot;%s\&quot; tla=\&quot;%s\&quot; symbol=\&quot;%s\&quot; type=\&quot;%s\&quot; &quot;</span>
                                      <span class="stringliteral">&quot;factor=\&quot;%s\&quot; decimal_power=\&quot;%s\&quot; fraction=\&quot;%s\&quot; /&gt;\n\n&quot;</span>,
                                      <a class="code" href="class_o_t_asset_contract.html#a714ea3d4b6fc6f9968438426546c6acb">m_strCurrencyName</a>        .Get(),
                                      <a class="code" href="class_o_t_asset_contract.html#a68b0305d86e6a7140b800de43007e78d">m_strCurrencyTLA</a>         .Get(),
                                      <a class="code" href="class_o_t_asset_contract.html#a21237957e31011669306d21d36e7eff3">m_strCurrencySymbol</a>      .Get(),
                                      <a class="code" href="class_o_t_asset_contract.html#a4f5f441460dd19ceca0eb05e598a03dc">m_strCurrencyType</a>        .Get(),
                                      <a class="code" href="class_o_t_asset_contract.html#a1821b699a7c9fb079e34a6ac06583718">m_strCurrencyFactor</a>      .Get(),
                                      <a class="code" href="class_o_t_asset_contract.html#ab199da6e0ba1eb88aea13693f5329e9d">m_strCurrencyDecimalPower</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                      <a class="code" href="class_o_t_asset_contract.html#ac82a799a92c439a849326c2412c87e19">m_strCurrencyFraction</a>    .<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_o_t_asset_contract.html#a012b376e475abb307efd9a11c9204df1">m_bIsShares</a>)
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;shares name=\&quot;%s\&quot; symbol=\&quot;%s\&quot; type=\&quot;%s\&quot; issuedate=\&quot;%s\&quot; /&gt;\n\n&quot;</span>,
                                      <a class="code" href="class_o_t_asset_contract.html#a714ea3d4b6fc6f9968438426546c6acb">m_strCurrencyName</a>  .Get(),
                                      <a class="code" href="class_o_t_asset_contract.html#a21237957e31011669306d21d36e7eff3">m_strCurrencySymbol</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                      <a class="code" href="class_o_t_asset_contract.html#a4f5f441460dd19ceca0eb05e598a03dc">m_strCurrencyType</a>  .<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                      <a class="code" href="class_o_t_asset_contract.html#a0db629d1d133fee66ad4c11de2f31628">m_strIssueDate</a>     .<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    }
    <span class="comment">// --------------------------------------------</span>
    <span class="comment">// This is where OTContract scribes m_xmlUnsigned with its keys, conditions, etc.</span>
    this-&gt;<a class="code" href="class_o_t_contract.html#ad0f7ded743c344381dc6553badf7d23d">CreateInnerContents</a>();    
    <span class="comment">// --------------------------------------------</span>
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/%s&gt;\n&quot;</span>, <a class="code" href="class_o_t_asset_contract.html#a779833ad1d3462072f04dd0561438c38">m_strBasketInfo</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() ? <span class="stringliteral">&quot;basketContract&quot;</span> : <span class="stringliteral">&quot;digitalAssetContract&quot;</span>);
    <span class="comment">// --------------------------------------------   </span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="aeb0a127e435d1a63490691995070c810"></a><!-- doxytag: member="OTAssetContract::DisplayStatistics" ref="aeb0a127e435d1a63490691995070c810" args="(OTString &amp;strContents) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_asset_contract.html#aeb0a127e435d1a63490691995070c810">OTAssetContract::DisplayStatistics</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strContents</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#ae2082c4f9dea1ffa54023c31c37b00f7">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00541">541</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strID(<a class="code" href="class_o_t_contract.html#ac975866d3511c41d935d2ec44c24c4cb">m_ID</a>);
    
    strContents.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(
                            <span class="stringliteral">&quot; Asset Type:  %s\n&quot;</span>
                            <span class="stringliteral">&quot; AssetTypeID: %s\n&quot;</span>
                            <span class="stringliteral">&quot;\n&quot;</span>,
                            <a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                            strID.Get());
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a37e62619190b5af431a99883cd76de11"></a><!-- doxytag: member="OTAssetContract::EraseAccountRecord" ref="a37e62619190b5af431a99883cd76de11" args="(const OTIdentifier &amp;theAcctID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_asset_contract.html#a37e62619190b5af431a99883cd76de11">OTAssetContract::EraseAccountRecord</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theAcctID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00802">802</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//  Load up account list StringMap. Create it if doesn&#39;t already exist.</span>
    <span class="comment">//  See if account is already there in the map. Erase it, if it is.</span>
    <span class="comment">//  Save the StringMap back again. (The account records list for a given asset type.)</span>
    
    <span class="keyword">const</span> <span class="keywordtype">char</span> * szFunc = <span class="stringliteral">&quot;OTAssetContract::EraseAccountRecord&quot;</span>;    
    <span class="comment">// --------------------------------------------------------------</span>
    <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a>     strAcctID(theAcctID);
    <span class="comment">// --------------------------------------------------------------</span>
    <a class="code" href="class_o_t_string.html">OTString</a> strAssetTypeID, strAcctRecordFile;
    this-&gt;<a class="code" href="class_o_t_contract.html#acf77d2db6da3904aa8b03e7b87c02e4e">GetIdentifier</a>(strAssetTypeID);
    strAcctRecordFile.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%s.a&quot;</span>, strAssetTypeID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    <span class="comment">// --------------------------------------------------------------</span>
    <a class="code" href="class_o_t_d_b_1_1_storable.html">OTDB::Storable</a> * pStorable = NULL;
    <a class="code" href="class_o_t_cleanup.html">OTCleanup&lt;OTDB::Storable&gt;</a> theAngel;
    <a class="code" href="class_o_t_d_b_1_1_string_map.html">OTDB::StringMap</a> * pMap = NULL;
    <span class="comment">// --------------------------------------------------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="namespace_o_t_d_b.html#a73e39a590dfb64f63065821c6bbcd4c6">OTDB::Exists</a>(<a class="code" href="class_o_t_folders.html#ac8ac28307d688d0defee0fd7734be027">OTFolders::Contract</a>().Get(), strAcctRecordFile.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>())) <span class="comment">// the file already exists; let&#39;s try to load it up.</span>
        pStorable = <a class="code" href="namespace_o_t_d_b.html#aaf0caee055f843a828e3bac094321886">OTDB::QueryObject</a>(<a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82acc03e85e0f615881a2abe9ca12628330">OTDB::STORED_OBJ_STRING_MAP</a>, <a class="code" href="class_o_t_folders.html#ac8ac28307d688d0defee0fd7734be027">OTFolders::Contract</a>().Get(), strAcctRecordFile.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    <span class="keywordflow">else</span> <span class="comment">// the account records file (for this asset type) doesn&#39;t exist.</span>
        pStorable = <a class="code" href="namespace_o_t_d_b.html#a67b35ca5812604fb3e1eae2b659f66ee">OTDB::CreateObject</a>(<a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82acc03e85e0f615881a2abe9ca12628330">OTDB::STORED_OBJ_STRING_MAP</a>); <span class="comment">// this asserts already, on failure.</span>
    
    theAngel.<a class="code" href="class_o_t_cleanup.html#aac0b26193b0a59dbbf491a4e417af833">SetCleanupTargetPointer</a>(pStorable); <span class="comment">// It will definitely be cleaned up.</span>
    pMap = (NULL == pStorable) ? NULL : dynamic_cast&lt;OTDB::StringMap *&gt;(pStorable);
    <span class="comment">// --------------------------------------------------------------</span>
    <span class="comment">// It exists.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (NULL == pMap) 
    {
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error: failed trying to load or create the account records file for asset type: %s\n&quot;</span>, 
                      szFunc, strAssetTypeID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
    <span class="comment">// -----------------------------------------------</span>
    <span class="comment">// Before we can erase it, let&#39;s see if it&#39;s even there....</span>
    <span class="comment">//</span>
    <a class="code" href="_o_t_string_8hpp.html#a7ec7839682b097a5c5b5c5125046c82b">mapOfStrings</a> &amp;         theMap = pMap-&gt;<a class="code" href="class_o_t_d_b_1_1_string_map.html#a460f2e551430c65fef4130576985a0ce">the_map</a>;
    mapOfStrings::iterator map_it = theMap.find(strAcctID.Get());
    
    <span class="comment">// we found it!</span>
    <span class="keywordflow">if</span> (theMap.end() != map_it) <span class="comment">//  Acct ID was already there...</span>
    {           
        theMap.erase(map_it); <span class="comment">// remove it</span>
    }
    <span class="comment">// ---------------------------------------------------</span>
    <span class="comment">// it wasn&#39;t already on the list...</span>
    <span class="comment">// (So it&#39;s like success, since the end result is, acct ID will not appear on this list--whether</span>
    <span class="comment">// it was there or not beforehand, it&#39;s definitely not there now.)</span>
    
    <span class="comment">// Then save it back to local storage:</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="namespace_o_t_d_b.html#a394420b02f48d3ebdfebb75d92a4d6dd">OTDB::StoreObject</a>(*pMap, <a class="code" href="class_o_t_folders.html#ac8ac28307d688d0defee0fd7734be027">OTFolders::Contract</a>().Get(), strAcctRecordFile.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()))
    {
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Failed trying to StoreObject, while saving updated &quot;</span>
                      <span class="stringliteral">&quot;account records file for asset type: %s\n to erase account ID: %s\n&quot;</span>, 
                      szFunc, strAssetTypeID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), strAcctID.Get());
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
    <span class="comment">// ----------------------------------------------------------------</span>
    <span class="comment">// Okay, we saved the updated file, with the account removed. (done, success.)</span>
    <span class="comment">//</span>
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1872fcbbefee5f891f3252126c933e8a"></a><!-- doxytag: member="OTAssetContract::ForEachAccountRecord" ref="a1872fcbbefee5f891f3252126c933e8a" args="(OTAcctFunctor &amp;theAction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_asset_contract.html#a1872fcbbefee5f891f3252126c933e8a">OTAssetContract::ForEachAccountRecord</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_acct_functor.html">OTAcctFunctor</a> &amp;&#160;</td>
          <td class="paramname"><em>theAction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00606">606</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// Load up account list stringmap</span>
    <span class="comment">// if success, iterate through map and trigger theAction.</span>
    <span class="comment">// loop</span>
    <span class="comment">//    theAction.Trigger(theAcct);</span>
    
    <a class="code" href="class_o_t_string.html">OTString</a> strAssetTypeID, strAcctRecordFile;
    this-&gt;<a class="code" href="class_o_t_contract.html#acf77d2db6da3904aa8b03e7b87c02e4e">GetIdentifier</a>(strAssetTypeID);
    strAcctRecordFile.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%s.a&quot;</span>, strAssetTypeID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    <span class="comment">// --------------------------------------------------------------</span>
    <a class="code" href="class_o_t_d_b_1_1_storable.html">OTDB::Storable</a> * pStorable = <a class="code" href="namespace_o_t_d_b.html#aaf0caee055f843a828e3bac094321886">OTDB::QueryObject</a>(<a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82acc03e85e0f615881a2abe9ca12628330">OTDB::STORED_OBJ_STRING_MAP</a>, <a class="code" href="class_o_t_folders.html#ac8ac28307d688d0defee0fd7734be027">OTFolders::Contract</a>().Get(), strAcctRecordFile.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    <a class="code" href="class_o_t_cleanup.html">OTCleanup&lt;OTDB::Storable&gt;</a> theAngel(pStorable); <span class="comment">// It will definitely be cleaned up.</span>
    <a class="code" href="class_o_t_d_b_1_1_string_map.html">OTDB::StringMap</a> * pMap = (NULL == pStorable) ? NULL : dynamic_cast&lt;OTDB::StringMap *&gt;(pStorable);
    <span class="comment">// --------------------------------------------------------------    </span>
    <span class="comment">// There was definitely a StringMap loaded from local storage. </span>
    <span class="comment">// (Even an empty one, possibly.) This is the only block that matters in this function.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (NULL != pMap) 
    {
        <a class="code" href="class_o_t_identifier.html">OTIdentifier</a> * pServerID = theAction.<a class="code" href="class_o_t_acct_functor.html#aaf8bed3faca03364ef628123429d45fc">GetServerID</a>();        
        <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>(NULL != pServerID, <span class="stringliteral">&quot;Assert: NULL Server ID on functor. (How did you even construct the thing?)&quot;</span>);
        <span class="comment">// -------------------------------------</span>
        <a class="code" href="_o_t_string_8hpp.html#a7ec7839682b097a5c5b5c5125046c82b">mapOfStrings</a> &amp; theMap = pMap-&gt;<a class="code" href="class_o_t_d_b_1_1_string_map.html#a460f2e551430c65fef4130576985a0ce">the_map</a>;
        
        <span class="comment">// todo: optimize: will probably have to use a database for this, int64_t term. </span>
        <span class="comment">// (What if there are a million acct IDs in this flat file? Not scaleable.)</span>
        <span class="comment">//</span>
        <a class="code" href="_o_t_storage_8hpp.html#aa135ed03585fa4b246d7907afbd5873d">FOR_EACH</a>(<a class="code" href="_o_t_string_8hpp.html#a7ec7839682b097a5c5b5c5125046c82b">mapOfStrings</a>, theMap) 
        {
            <span class="keyword">const</span> std::string &amp; str_acct_id  = (*it).first;  <span class="comment">// Containing the account ID.</span>
            <span class="keyword">const</span> std::string &amp; str_asset_id = (*it).second; <span class="comment">// Containing the asset type ID. (Just in case someone copied the wrong file here...)</span>
            <span class="comment">// --------------------------------</span>
            
            <span class="keywordflow">if</span> (<span class="keyword">false</span> == strAssetTypeID.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(str_asset_id.c_str()))
            {
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTAssetContract::ForEachAccountRecord: Error: wrong asset type ID (%s) when expecting: %s\n&quot;</span>,
                              str_asset_id.c_str(), strAssetTypeID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            }
            <span class="keywordflow">else</span>
            {
                <a class="code" href="class_o_t_account.html">OTAccount</a> * pAccount = NULL;
                <a class="code" href="class_o_t_cleanup.html">OTCleanup&lt;OTAccount&gt;</a> theAcctAngel;
                
                <span class="keywordtype">bool</span>  bAlreadyLoaded = <span class="keyword">false</span>;
                <span class="keyword">const</span> <a class="code" href="class_o_t_identifier.html">OTIdentifier</a> theAccountID(str_acct_id.c_str());
                
                <span class="comment">// Before loading it from local storage, let&#39;s first make sure it&#39;s not already loaded.</span>
                <span class="comment">// (theAction functor has a list of &#39;already loaded&#39; accounts, just in case.)</span>
                <span class="comment">//</span>
                <a class="code" href="_o_t_agent_8hpp.html#abd4942716d546c8d42670619a03ef99e">mapOfAccounts</a> * pLoadedAccounts = theAction.<a class="code" href="class_o_t_acct_functor.html#a9e1d9d438719cd41f4917801da7c94c4">GetLoadedAccts</a>();
                
                <span class="keywordflow">if</span> (NULL != pLoadedAccounts) <span class="comment">// there are some accounts already loaded, </span>
                {                            <span class="comment">// let&#39;s see if the one we&#39;re looking for is there...</span>
                    mapOfAccounts::iterator found_it = pLoadedAccounts-&gt;find(str_acct_id);
                    
                    <span class="keywordflow">if</span> (pLoadedAccounts-&gt;end() != found_it) <span class="comment">// FOUND IT.</span>
                    {
                        bAlreadyLoaded = <span class="keyword">true</span>;
                        pAccount = (*found_it).second;
                        <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != pAccount);
                        
                        <span class="keywordflow">if</span> (theAccountID != pAccount-&gt;<a class="code" href="class_o_t_transaction_type.html#aa51ed7e1bb8d701f3ed0641d6b1cde9a">GetPurportedAccountID</a>())
                        {
                            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error: the actual account didn&#39;t have the ID that the std::map SAID it had! (Should never happen.)\n&quot;</span>);
                            bAlreadyLoaded = <span class="keyword">false</span>;
                            pAccount       = NULL;
                        }
                    }
                }
                <span class="comment">// ------------------------------------------------</span>
                <span class="comment">// I guess it wasn&#39;t already loaded...</span>
                <span class="comment">// Let&#39;s try to load it.</span>
                <span class="comment">//</span>
                <span class="keywordflow">if</span> (NULL == pAccount)
                {
                    pAccount = <a class="code" href="class_o_t_account.html#a6574057f6e3415546d3a9f7d7e445e4f">OTAccount::LoadExistingAccount</a>(theAccountID, *pServerID);
                    theAcctAngel.<a class="code" href="class_o_t_cleanup.html#aac0b26193b0a59dbbf491a4e417af833">SetCleanupTargetPointer</a>(pAccount);
                }
                <span class="comment">// --------------------------------            </span>
                <span class="keyword">const</span> <span class="keywordtype">bool</span> bSuccessLoadingAccount = ((pAccount != NULL) ? <span class="keyword">true</span>:<span class="keyword">false</span> );
                <span class="keywordflow">if</span> (bSuccessLoadingAccount)
                {
                    <span class="keyword">const</span> <span class="keywordtype">bool</span> bTriggerSuccess = theAction.<a class="code" href="class_o_t_acct_functor.html#a2a21e3b34beefe9b3a3253670bfa2886">Trigger</a>(*pAccount);
                    <span class="keywordflow">if</span> (!bTriggerSuccess) <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error: Trigger Failed.&quot;</span>, __FUNCTION__);
                }   
                <span class="keywordflow">else</span>
                {
                    <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error: Failed Loading Account!&quot;</span>, __FUNCTION__);
                }
                <span class="comment">// --------------------------------            </span>
            }
        } <span class="comment">// FOR_EACH</span>
        
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    } <span class="comment">// if pMap != NULL</span>
    <span class="comment">// ----------------------------------------------------------------</span>
    <span class="keywordflow">else</span> <span class="comment">// nothing was loaded up from local storage. No String Map. It was NULL.</span>
    {
        <span class="comment">// Therefore I couldn&#39;t possibly loop through &quot;EachAccountRecord&quot;, </span>
        <span class="comment">// if there ARE NO account records... right?</span>
        <span class="comment">//</span>
        <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// </span>
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac3ef605c99dcea4c9380684fce292950"></a><!-- doxytag: member="OTAssetContract::FormatAmount" ref="ac3ef605c99dcea4c9380684fce292950" args="(const OTAmount &amp;theInput, std::string &amp;str_output) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_asset_contract.html#ac3ef605c99dcea4c9380684fce292950">OTAssetContract::FormatAmount</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_amount.html">OTAmount</a> &amp;&#160;</td>
          <td class="paramname"><em>theInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>str_output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00396">396</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    int64_t lValue = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(theInput.<a class="code" href="class_o_t_amount.html#a10d1ed25cf2a5262c4f1c73a39663a1c">GetAmount</a>());
    <span class="comment">// --------------------------------------------------------</span>
    int32_t nFactor = atoi(<a class="code" href="class_o_t_asset_contract.html#a1821b699a7c9fb079e34a6ac06583718">m_strCurrencyFactor</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()); <span class="comment">// default is 100  (100 cents in a dollar)</span>
    <span class="keywordflow">if</span> (nFactor &lt; 1)
        nFactor = 1;
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(nFactor &gt; 0); <span class="comment">// should be 1, 10, 100, etc.</span>
    <span class="comment">// --------------------------------------------------------</span>
    int32_t nPower = atoi(<a class="code" href="class_o_t_asset_contract.html#ab199da6e0ba1eb88aea13693f5329e9d">m_strCurrencyDecimalPower</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()); <span class="comment">// default is 2. ($5.05 is moved 2 decimal places.)</span>
    <span class="keywordflow">if</span> (nPower &lt; 0)
        nPower = 0;
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(nPower &gt;= 0); <span class="comment">// should be 0, 1, 2, etc.</span>
    <span class="comment">// --------------------------------------------------------</span>
    <span class="comment">// Lookup separator and decimal point symbols based on locale.</span>
    <span class="comment">// --------------------------------------------------------</span>
    <span class="comment">// Get a moneypunct facet from the global (&quot;C&quot;) locale</span>
    <span class="comment">//</span>
    <span class="comment">// NOTE: Turns out moneypunct kind of sucks.</span>
    <span class="comment">// As a result, for internationalization purposes,</span>
    <span class="comment">// these values have to be set here before compilation.</span>
    <span class="comment">//</span>
    <span class="keyword">static</span> <a class="code" href="class_o_t_string.html">OTString</a> strSeparator    (<a class="code" href="stdafx_8h.html#af06b67bae3f36ecba5c3cbf44c0e6162">OT_THOUSANDS_SEP</a>);
    <span class="keyword">static</span> <a class="code" href="class_o_t_string.html">OTString</a> strDecimalPoint (<a class="code" href="stdafx_8h.html#aa93045a783fefa03459a3c2a9957a441">OT_DECIMAL_POINT</a>);
    <span class="comment">// --------------------------------------------------------</span>
    
    <span class="comment">// NOTE: from web searching, I&#39;ve determined that locale / moneypunct has</span>
    <span class="comment">// internationalization problems. Therefore it looks like if you want to</span>
    <span class="comment">// build OT for various languages / regions, you&#39;re just going to have to</span>
    <span class="comment">// edit stdafx.h and change the OT_THOUSANDS_SEP and OT_DECIMAL_POINT variables.</span>
    <span class="comment">//</span>
    <span class="comment">// The best improvement I can think on that is to check locale and then use</span>
    <span class="comment">// it to choose from our own list of hardcoded values. Todo.</span>
    
<span class="comment">//    static bool bFirstTime = true;</span>
<span class="comment">//    // --------------------------------------------------------</span>
<span class="comment">//    if (bFirstTime)</span>
<span class="comment">//    {</span>
<span class="comment">//        bFirstTime = false;</span>
<span class="comment">//        // TODO: Add ability to customize locale here, if necessary.</span>
<span class="comment">//        const std::moneypunct&lt;char, false&gt; &amp;mp = std::use_facet&lt; std::moneypunct&lt;char, false&gt; &gt;(std::locale ()); // &lt;=====</span>
<span class="comment">//        strSeparator.   Format(&quot;%c&quot;, (&#39;\0&#39; == mp.thousands_sep ()) ? &#39;,&#39; : mp.thousands_sep ());</span>
<span class="comment">//        strDecimalPoint.Format(&quot;%c&quot;, (&#39;\0&#39; == mp.decimal_point ()) ? &#39;.&#39; : mp.decimal_point ());</span>
<span class="comment">//    }</span>
    <span class="comment">// --------------------------------------------------------</span>
    str_output = <a class="code" href="class_o_t_asset_contract.html#a597d24512ee0b09401bb8455d8a4cfcb">OTAssetContract::formatLongAmount</a>(lValue, nFactor, nPower, <a class="code" href="class_o_t_asset_contract.html#a21237957e31011669306d21d36e7eff3">m_strCurrencySymbol</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                                                   strSeparator.Get(), strDecimalPoint.Get());
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a597d24512ee0b09401bb8455d8a4cfcb"></a><!-- doxytag: member="OTAssetContract::formatLongAmount" ref="a597d24512ee0b09401bb8455d8a4cfcb" args="(int64_t &amp;lOriginalValue, int32_t nFactor=100, int32_t nPower=2, const char *szSymbol=&quot;&quot;, const char *szSeparator=&quot;,&quot;, const char *szDecimalPoint=&quot;.&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="class_o_t_asset_contract.html#a597d24512ee0b09401bb8455d8a4cfcb">OTAssetContract::formatLongAmount</a> </td>
          <td>(</td>
          <td class="paramtype">int64_t &amp;&#160;</td>
          <td class="paramname"><em>lOriginalValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>nFactor</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>nPower</em> = <code>2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szSymbol</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szSeparator</em> = <code>&quot;,&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szDecimalPoint</em> = <code>&quot;.&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00305">305</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::stringstream sss;
    <a class="code" href="class_o_t_string.html">OTString</a> strRemainder;
    <span class="comment">// --------------------------------------------------</span>
    <span class="comment">// If the original value is 0, we still want to format the</span>
    <span class="comment">// string properly for a 0 value. (And then return.)</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (0 == lOriginalValue)
    {
        sss &lt;&lt; szSymbol &lt;&lt; <span class="stringliteral">&quot; &quot;</span>; <span class="comment">// Currency symbol</span>
        
        <span class="keywordflow">if</span> (!(nFactor &lt; 2))
        {
            sss &lt;&lt; szDecimalPoint;
            
            strRemainder.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%0*ld&quot;</span>, nPower, 0);
        }
        <span class="keywordflow">else</span>
            strRemainder.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%lld&quot;</span>, 0);
        
        sss &lt;&lt; strRemainder.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>();
        <span class="keywordflow">return</span> sss.str();
    }
    <span class="comment">// --------------------------------------------------</span>
    int64_t lAbsoluteValue = (lOriginalValue &gt; 0) ? lOriginalValue : (lOriginalValue * (-1));
    <span class="comment">// --------------------------------------------------    </span>
    int64_t lValue     = lAbsoluteValue / nFactor; <span class="comment">// For example, if 506 is supposed to be $5.06, then dividing 506 by factor of 100 results in 5 dollars.</span>
    int64_t lRemainder = lAbsoluteValue % nFactor; <span class="comment">// For example, if 506 is supposed to be $5.06, then 506 mod 100 results in 6 cents.</span>
    
    <span class="keywordflow">if</span> (nFactor &lt; 2) <span class="comment">// Basically, if nFactor is 1.</span>
        strRemainder.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(<span class="stringliteral">&quot;&quot;</span>);
    <span class="keywordflow">else</span>
        strRemainder.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%0*ld&quot;</span>, nPower, lRemainder); <span class="comment">// If remainder is 6 (cents) and nPower is 2, strRemainder gets set here to 06.    </span>
    <span class="comment">// ------------------------------------------------------</span>
    <span class="comment">// Here we add the negative sign, if the value itself is negative.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (lOriginalValue &lt; 0)
    {
<span class="comment">//        const std::moneypunct&lt;char, false&gt; &amp;mp = std::use_facet&lt; std::moneypunct&lt;char, false&gt; &gt;(std::locale ());</span>
<span class="comment">//        sss &lt;&lt; mp.negative_sign();</span>
     
        <span class="comment">// For some reason the above code isn&#39;t working, so I&#39;ve got the negative sign</span>
        <span class="comment">// hardcoded here to &#39;-&#39;.</span>
        <span class="comment">//</span>
        sss &lt;&lt; <span class="stringliteral">&quot;-&quot;</span>;
    }
    <span class="comment">// ------------------------------------------------------    </span>
    <span class="comment">// Here we add the currency symbol.</span>
    <span class="comment">//</span>
    sss &lt;&lt; szSymbol &lt;&lt; <span class="stringliteral">&quot; &quot;</span>; <span class="comment">// Currency symbol</span>
    <span class="comment">// ------------------------------------------------------</span>
    <a class="code" href="class_o_t_string.html">OTString</a> strValue;
    strValue.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%lld&quot;</span>, lValue);
    <span class="comment">// ---------------------------------</span>
    <span class="keywordtype">char</span>     cTemp = <span class="charliteral">&#39;\0&#39;</span>;
    uint32_t uValueStrLength = strValue.<a class="code" href="class_o_t_string.html#a640392dd17a786dab643dbfc7e5a8672">GetLength</a>();
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// Here we add the main body of the amount, including separators (commas.)</span>
    <span class="comment">//</span>
    <span class="keywordflow">while</span> (uValueStrLength &gt; 0)
    {
        cTemp = strValue.<a class="code" href="class_o_t_string.html#a03b23e6678e43d4777552b77485a3e19">sgetc</a>();
        
        sss &lt;&lt; cTemp;
        
        --uValueStrLength;
        
        <span class="keywordflow">if</span> ((uValueStrLength &gt; 0) &amp;&amp; (0 == (uValueStrLength % 3)))
            sss &lt;&lt; szSeparator;
    }
    <span class="comment">// ------------------------------------------------------</span>
    <span class="comment">// Here we deal with the decimal point, etc.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (!(nFactor &lt; 2))
    {
        sss &lt;&lt; szDecimalPoint;
        <span class="comment">// -----------------------------</span>
        sss &lt;&lt; strRemainder.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>();
    }
    <span class="comment">// -----------------------------</span>
    <span class="keywordflow">return</span> sss.str();
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac30a534d3a53b5e4e8998a4dd1f325a9"></a><!-- doxytag: member="OTAssetContract::GetBasketInfo" ref="ac30a534d3a53b5e4e8998a4dd1f325a9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_t_string.html">OTString</a>&amp; <a class="el" href="class_o_t_asset_contract.html#ac30a534d3a53b5e4e8998a4dd1f325a9">OTAssetContract::GetBasketInfo</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00187">187</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_o_t_asset_contract.html#a779833ad1d3462072f04dd0561438c38">m_strBasketInfo</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a34903d573eb5fa381f937f1671314670"></a><!-- doxytag: member="OTAssetContract::GetCurrencyFraction" ref="a34903d573eb5fa381f937f1671314670" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT const <a class="el" href="class_o_t_string.html">OTString</a>&amp; <a class="el" href="class_o_t_asset_contract.html#a34903d573eb5fa381f937f1671314670">OTAssetContract::GetCurrencyFraction</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00218">218</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_o_t_asset_contract.html#ac82a799a92c439a849326c2412c87e19">m_strCurrencyFraction</a>; }  <span class="comment">// &quot;cents&quot;    (for example)</span>
</pre></div>
</div>
</div>
<a class="anchor" id="af098ba258ee7490e32f72bc8896cf079"></a><!-- doxytag: member="OTAssetContract::GetCurrencyName" ref="af098ba258ee7490e32f72bc8896cf079" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT const <a class="el" href="class_o_t_string.html">OTString</a>&amp; <a class="el" href="class_o_t_asset_contract.html#af098ba258ee7490e32f72bc8896cf079">OTAssetContract::GetCurrencyName</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00217">217</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_o_t_asset_contract.html#a714ea3d4b6fc6f9968438426546c6acb">m_strCurrencyName</a>;     }  <span class="comment">// &quot;dollars&quot;  (for example)</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a69a507ba243e590f14354c3d903a03a6"></a><!-- doxytag: member="OTAssetContract::GetCurrencySymbol" ref="a69a507ba243e590f14354c3d903a03a6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT const <a class="el" href="class_o_t_string.html">OTString</a>&amp; <a class="el" href="class_o_t_asset_contract.html#a69a507ba243e590f14354c3d903a03a6">OTAssetContract::GetCurrencySymbol</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00219">219</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_o_t_asset_contract.html#a21237957e31011669306d21d36e7eff3">m_strCurrencySymbol</a>;   }  <span class="comment">// &quot;$&quot;        (for example)</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a57453300ee2ae1c1237078126d993afc"></a><!-- doxytag: member="OTAssetContract::GetCurrencyTLA" ref="a57453300ee2ae1c1237078126d993afc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT const <a class="el" href="class_o_t_string.html">OTString</a>&amp; <a class="el" href="class_o_t_asset_contract.html#a57453300ee2ae1c1237078126d993afc">OTAssetContract::GetCurrencyTLA</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00220">220</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_o_t_asset_contract.html#a68b0305d86e6a7140b800de43007e78d">m_strCurrencyTLA</a>;      }  <span class="comment">// &quot;USD&quot;&quot;     (for example)</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a8a4f8a9b1c69092caf887b91914438c3"></a><!-- doxytag: member="OTAssetContract::GetDollarsOnly" ref="a8a4f8a9b1c69092caf887b91914438c3" args="(const OTAmount &amp;theInput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="class_o_t_asset_contract.html#a8a4f8a9b1c69092caf887b91914438c3">OTAssetContract::GetDollarsOnly</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_amount.html">OTAmount</a> &amp;&#160;</td>
          <td class="paramname"><em>theInput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00507">507</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> 0; <span class="comment">// TODO</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="acbd416ba9d7ac6b0965fadc971e3d12b"></a><!-- doxytag: member="OTAssetContract::IsShares" ref="acbd416ba9d7ac6b0965fadc971e3d12b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT bool <a class="el" href="class_o_t_asset_contract.html#acbd416ba9d7ac6b0965fadc971e3d12b">OTAssetContract::IsShares</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00193">193</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_o_t_asset_contract.html#a012b376e475abb307efd9a11c9204df1">m_bIsShares</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="aae3b4f60483114f480a57785bc3a276f"></a><!-- doxytag: member="OTAssetContract::ParseFormatted" ref="aae3b4f60483114f480a57785bc3a276f" args="(int64_t &amp;lResult, const std::string &amp;str_input, int32_t nFactor=100, int32_t nPower=2, const char *szSeparator=&quot;,&quot;, const char *szDecimalPoint=&quot;.&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_asset_contract.html#aae3b4f60483114f480a57785bc3a276f">OTAssetContract::ParseFormatted</a> </td>
          <td>(</td>
          <td class="paramtype">int64_t &amp;&#160;</td>
          <td class="paramname"><em>lResult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>nFactor</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>nPower</em> = <code>2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szSeparator</em> = <code>&quot;,&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szDecimalPoint</em> = <code>&quot;.&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00154">154</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != szSeparator);
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != szDecimalPoint);
    <span class="comment">// ----------------------</span>
    lResult = 0;
    <span class="comment">// ----------------------</span>
    <span class="keywordtype">char</span> theSeparator    = szSeparator[0];
    <span class="keywordtype">char</span> theDecimalPoint = szDecimalPoint[0];
    <span class="comment">// ----------------------</span>
    int64_t lDollars = 0;
    int64_t lCents   = 0;
    int64_t lOutput  = 0;
    int64_t lSign    = 1;
    <span class="comment">// ----------------------</span>
    <span class="keywordtype">bool</span> bHasEnteredDollars = <span class="keyword">false</span>;
    <span class="keywordtype">bool</span> bHasEnteredCents   = <span class="keyword">false</span>;
    <span class="comment">// ----------------------</span>
    int32_t  nDigitsCollectedBeforeDot = 0;
    int32_t  nDigitsCollectedAfterDot  = 0;
    <span class="comment">// ----------------------</span>
    <span class="comment">// BUG: &amp;mp isn&#39;t used.</span>
    <span class="comment">//const std::moneypunct&lt;char, false&gt; &amp;mp = std::use_facet&lt; std::moneypunct&lt;char, false&gt; &gt;(std::locale ()); </span>
    <span class="comment">// ----------------------</span>
    std::deque&lt;int64_t&gt; deque_cents;
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">for</span> (uint32_t uIndex = 0; uIndex &lt; str_input.length(); ++uIndex)
    {
        <span class="keywordtype">char</span> theChar = str_input[uIndex];
        <span class="comment">// -------------------------------</span>
        <span class="keywordflow">if</span> (iscntrl(theChar)) <span class="comment">// Break at any newline or other control character.</span>
            <span class="keywordflow">break</span>;
        <span class="comment">// -------------------------------</span>
        <span class="keywordflow">if</span> (0 == isdigit(theChar)) <span class="comment">// if it&#39;s not a numerical digit.</span>
        {
            <span class="keywordflow">if</span> (theSeparator == theChar)
                <span class="keywordflow">continue</span>;
            <span class="comment">// -------------------------------</span>
            <span class="keywordflow">if</span> (theDecimalPoint == theChar)
            {
                <span class="keywordflow">if</span> (bHasEnteredCents)
                {
                    <span class="comment">// There shouldn&#39;t be ANOTHER decimal point if we are already in the cents.</span>
                    <span class="comment">// Therefore, we&#39;re done here. Break.</span>
                    <span class="comment">//</span>
                    <span class="keywordflow">break</span>;
                }
                <span class="comment">// -------------------------------</span>
                <span class="comment">// If we HAVEN&#39;T entered the cents yet, then this decimal point marks the spot where we DO.</span>
                <span class="comment">//</span>
                bHasEnteredDollars = <span class="keyword">true</span>;
                bHasEnteredCents   = <span class="keyword">true</span>;
                <span class="keywordflow">continue</span>;
            } <span class="comment">// theChar is the decimal point</span>
            <span class="comment">// -------------------------------</span>
            <span class="comment">// Once a negative sign appears, it&#39;s negative, period.</span>
            <span class="comment">// If you put two or three negative signs in a row, it&#39;s STILL negative.</span>
            <span class="comment">//</span>
<span class="comment">//          std::string str_negative(1, theChar);</span>
<span class="comment">//          if (0 == str_negative.compare(mp.negative_sign()))</span>
            
            <span class="keywordflow">if</span> (<span class="charliteral">&#39;-&#39;</span> == theChar)
            {
                lSign = -1;
                <span class="keywordflow">continue</span>;
            }
<span class="comment">//          std::cout &lt;&lt; &quot;FYI, negative sign: &quot; &lt;&lt; mp.negative_sign() &lt;&lt; &quot; str_negative: &quot; &lt;&lt; str_negative &lt;&lt; &quot; lSign: &quot; &lt;&lt; lSign &lt;&lt; std::endl;</span>
            <span class="comment">// -------------------------------</span>
            <span class="comment">// Okay, by this point, we know it&#39;s not numerical, and it&#39;s not a separator or decimal point, or</span>
            <span class="comment">// sign.</span>
            <span class="comment">// We allow letters and symbols BEFORE the numbers start, but not AFTER (that would terminate the</span>
            <span class="comment">// number.) Therefore we need to see if the dollars or cents have started yet. If they have, then</span>
            <span class="comment">// this is the end, and we break. Otherwise if they haven&#39;t, then we&#39;re still at the beginning, so</span>
            <span class="comment">// we continue.</span>
            <span class="comment">//</span>
            <span class="keywordflow">if</span> (bHasEnteredDollars || bHasEnteredCents)
                <span class="keywordflow">break</span>;
            <span class="keywordflow">else</span>
                <span class="keywordflow">continue</span>;
        } <span class="comment">// not numerical</span>
        <span class="comment">// -------------------------------</span>
        <span class="comment">// By this point, we KNOW that it&#39;s a numeric digit.</span>
        <span class="comment">// Are we collecting cents yet? How about dollars?</span>
        <span class="comment">// Also, if nPower is 2, then we only collect 2 digits</span>
        <span class="comment">// after the decimal point. If we&#39;ve already collected</span>
        <span class="comment">// those, then we need to break.</span>
        <span class="comment">//</span>
        <span class="keywordflow">if</span> (bHasEnteredCents)
        {
            ++nDigitsCollectedAfterDot;
            
            <span class="comment">// If &quot;cents&quot; occupy 2 digits after the decimal point,</span>
            <span class="comment">// and we are now on the THIRD digit -- then we&#39;re done.</span>
            <span class="keywordflow">if</span> (nDigitsCollectedAfterDot &gt; nPower)
                <span class="keywordflow">break</span>;
            <span class="comment">// -----------------------------------</span>
            <span class="comment">// Okay, we&#39;re in the cents, so let&#39;s add this digit...</span>
            <span class="comment">//</span>
            deque_cents.push_back(static_cast&lt;int64_t&gt;(theChar - <span class="charliteral">&#39;0&#39;</span>));
            <span class="comment">// ----------------</span>
            <span class="keywordflow">continue</span>;
        }
        <span class="comment">// -------------------------------</span>
        <span class="comment">// Okay, it&#39;s a digit, and we haven&#39;t started processing cents yet.</span>
        <span class="comment">// How about dollars?</span>
        <span class="comment">//</span>
        <span class="keywordflow">if</span> (!bHasEnteredDollars)
            bHasEnteredDollars = <span class="keyword">true</span>;
        <span class="comment">// -------------------------------</span>
        ++nDigitsCollectedBeforeDot;
        <span class="comment">// -------------------------------</span>
        <span class="comment">// Let&#39;s add this digit...</span>
        <span class="comment">//</span>
        lDollars *= 10; <span class="comment">// Multiply existing dollars by 10, and then add the new digit.</span>
        lDollars += <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(theChar - <span class="charliteral">&#39;0&#39;</span>);
    } <span class="comment">// for</span>
    <span class="comment">// -------------------------------</span>
    <span class="comment">// Time to put it all together...</span>
    <span class="comment">//</span>
    lOutput += lDollars;
    lOutput *= <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(nFactor); <span class="comment">// 1 dollar becomes 100 cents.</span>
    <span class="comment">// -------------------------------</span>
    int32_t nTempPower = nPower;
    
    <span class="keywordflow">while</span> (nTempPower &gt; 0)
    {
        --nTempPower;
        
        <span class="keywordflow">if</span> (deque_cents.size() &gt; 0)
        {
            lCents += deque_cents.front();
            deque_cents.pop_front();
        }
        
        lCents *= 10;
    }
    lCents /= 10; <span class="comment">// There won&#39;t be any rounding errors here, since the last thing we did in the loop was multiply by 10.</span>
    <span class="comment">// -------------------------------</span>
    lOutput += lCents;
    <span class="comment">// -------------------------------</span>
    lResult = (lOutput * lSign);
    <span class="comment">// -------------------------------</span>
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4e2ef185332f79a3976b4bdface9ac5a"></a><!-- doxytag: member="OTAssetContract::ProcessXMLNode" ref="a4e2ef185332f79a3976b4bdface9ac5a" args="(irr::io::IrrXMLReader *&amp;xml)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t <a class="el" href="class_o_t_asset_contract.html#a4e2ef185332f79a3976b4bdface9ac5a">OTAssetContract::ProcessXMLNode</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceirr_1_1io.html#a1628edbb9d5d53f18c82d2a92b0ad27e">irr::io::IrrXMLReader</a> *&amp;&#160;</td>
          <td class="paramname"><em>xml</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a48611c37c8e8e7d9125238bda2b77978">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00960">960</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    int32_t nReturnVal = <a class="code" href="class_o_t_asset_contract.html#a4e2ef185332f79a3976b4bdface9ac5a">OTContract::ProcessXMLNode</a>(xml);

    <span class="comment">// Here we call the parent class first.</span>
    <span class="comment">// If the node is found there, or there is some error,</span>
    <span class="comment">// then we just return either way.  But if it comes back</span>
    <span class="comment">// as &#39;0&#39;, then nothing happened, and we&#39;ll continue executing.</span>
    <span class="comment">//</span>
    <span class="comment">// -- Note you can choose not to call the parent if</span>
    <span class="comment">// you don&#39;t want to use any of those xml tags.</span>
    
    <span class="keywordflow">if</span> (nReturnVal == 1 || nReturnVal == (-1))
        <span class="keywordflow">return</span> nReturnVal;
    
    <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strNodeName(xml-&gt;getNodeName());
    
    <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;digitalAssetContract&quot;</span>))
    {
        <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;version&quot;</span>);                   
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n&quot;</span>
                <span class="stringliteral">&quot;===&gt; Loading XML portion of asset contract into memory structures...\n\n&quot;</span>
                <span class="stringliteral">&quot;Digital Asset Contract: %s\nContract version: %s\n----------\n&quot;</span>, <a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        nReturnVal = 1;
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;basketContract&quot;</span>))
    {
        <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;version&quot;</span>);                   
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(1, <span class="stringliteral">&quot;\n&quot;</span>
                <span class="stringliteral">&quot;===&gt; Loading XML portion of basket contract into memory structures...\n\n&quot;</span>
                <span class="stringliteral">&quot;Digital Basket Contract: %s\nContract version: %s\n----------\n&quot;</span>, <a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        nReturnVal = 1;
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;basketInfo&quot;</span>)) 
    {       
        <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="class_o_t_contract.html#a72ffe11fdcf2f6e3566afa9061241f30">OTContract::LoadEncodedTextField</a>(xml, <a class="code" href="class_o_t_asset_contract.html#a779833ad1d3462072f04dd0561438c38">m_strBasketInfo</a>))
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;Error in OTAssetContract::ProcessXMLNode: basketInfo field without value.\n&quot;</span>);
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        nReturnVal = 1;
    }   
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;issue&quot;</span>))
    {
        <a class="code" href="class_o_t_asset_contract.html#ae596ee94a30fbda594d60a79ca9fd0c1">m_strIssueCompany</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;company&quot;</span>);
        <a class="code" href="class_o_t_asset_contract.html#acf4591db2b801cb17fe92a638cd10271">m_strIssueEmail</a>       = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;email&quot;</span>);
        <a class="code" href="class_o_t_asset_contract.html#a2131b748686ded77c7b317ca825cff9f">m_strIssueContractURL</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;contractUrl&quot;</span>);
        <a class="code" href="class_o_t_asset_contract.html#a4b3deafb62a9a54b42992d50abfcb0cf">m_strIssueType</a>        = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;type&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(2, <span class="stringliteral">&quot;Loaded Issue company: %s\nEmail: %s\nContractURL: %s\nType: %s\n----------\n&quot;</span>,
                <a class="code" href="class_o_t_asset_contract.html#ae596ee94a30fbda594d60a79ca9fd0c1">m_strIssueCompany</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_asset_contract.html#acf4591db2b801cb17fe92a638cd10271">m_strIssueEmail</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_asset_contract.html#a2131b748686ded77c7b317ca825cff9f">m_strIssueContractURL</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                <a class="code" href="class_o_t_asset_contract.html#a4b3deafb62a9a54b42992d50abfcb0cf">m_strIssueType</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        nReturnVal = 1;
    }
    <span class="comment">// TODO security validation: validate all the above and below values.</span>
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;currency&quot;</span>) )    
    {
        <a class="code" href="class_o_t_asset_contract.html#a991da3a4cfb384a9863570a744dad61d">m_bIsCurrency</a>             = <span class="keyword">true</span>;  <span class="comment">// silver grams</span>
        <a class="code" href="class_o_t_asset_contract.html#a012b376e475abb307efd9a11c9204df1">m_bIsShares</a>               = <span class="keyword">false</span>;        

        <a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>                 = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;name&quot;</span>);
        <a class="code" href="class_o_t_asset_contract.html#a714ea3d4b6fc6f9968438426546c6acb">m_strCurrencyName</a>         = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;name&quot;</span>);
        <a class="code" href="class_o_t_asset_contract.html#a21237957e31011669306d21d36e7eff3">m_strCurrencySymbol</a>       = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;symbol&quot;</span>);
        <a class="code" href="class_o_t_asset_contract.html#a4f5f441460dd19ceca0eb05e598a03dc">m_strCurrencyType</a>         = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;type&quot;</span>);

        <a class="code" href="class_o_t_asset_contract.html#a68b0305d86e6a7140b800de43007e78d">m_strCurrencyTLA</a>          = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;tla&quot;</span>);
        <a class="code" href="class_o_t_asset_contract.html#a1821b699a7c9fb079e34a6ac06583718">m_strCurrencyFactor</a>       = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;factor&quot;</span>);
        <a class="code" href="class_o_t_asset_contract.html#ab199da6e0ba1eb88aea13693f5329e9d">m_strCurrencyDecimalPower</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;decimal_power&quot;</span>);
        <a class="code" href="class_o_t_asset_contract.html#ac82a799a92c439a849326c2412c87e19">m_strCurrencyFraction</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;fraction&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(2, <span class="stringliteral">&quot;Loaded %s, Name: %s, TLA: %s, Symbol: %s\n&quot;</span>
                       <span class="stringliteral">&quot;Type: %s, Factor: %s, Decimal Power: %s, Fraction: %s\n----------\n&quot;</span>, 
                       strNodeName.Get(),
                       <a class="code" href="class_o_t_asset_contract.html#a714ea3d4b6fc6f9968438426546c6acb">m_strCurrencyName</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_asset_contract.html#a68b0305d86e6a7140b800de43007e78d">m_strCurrencyTLA</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_asset_contract.html#a21237957e31011669306d21d36e7eff3">m_strCurrencySymbol</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_asset_contract.html#a4f5f441460dd19ceca0eb05e598a03dc">m_strCurrencyType</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_asset_contract.html#a1821b699a7c9fb079e34a6ac06583718">m_strCurrencyFactor</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_asset_contract.html#ab199da6e0ba1eb88aea13693f5329e9d">m_strCurrencyDecimalPower</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_asset_contract.html#ac82a799a92c439a849326c2412c87e19">m_strCurrencyFraction</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        nReturnVal = 1;
    }
    
<span class="comment">//  share_type some type, for example, A or B, or NV (non voting)</span>
<span class="comment">//        </span>
<span class="comment">//  share_name this is the int64_t legal name of the company</span>
<span class="comment">//        </span>
<span class="comment">//  share_symbol this is the trading name (8 chars max), as it might be </span>
<span class="comment">//      displayed in a market contect, and should be unique within some given market</span>
<span class="comment">//        </span>
<span class="comment">//  share_issue_date date of start of this share item (not necessarily IPO)</span>

    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;shares&quot;</span>) )       
    {
        <a class="code" href="class_o_t_asset_contract.html#a012b376e475abb307efd9a11c9204df1">m_bIsShares</a>           = <span class="keyword">true</span>;        <span class="comment">// shares of pepsi</span>
        <a class="code" href="class_o_t_asset_contract.html#a991da3a4cfb384a9863570a744dad61d">m_bIsCurrency</a>         = <span class="keyword">false</span>;
        
        <a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>             = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;name&quot;</span>);
        <a class="code" href="class_o_t_asset_contract.html#a714ea3d4b6fc6f9968438426546c6acb">m_strCurrencyName</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;name&quot;</span>); 
        <a class="code" href="class_o_t_asset_contract.html#a21237957e31011669306d21d36e7eff3">m_strCurrencySymbol</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;symbol&quot;</span>);
        <a class="code" href="class_o_t_asset_contract.html#a4f5f441460dd19ceca0eb05e598a03dc">m_strCurrencyType</a>     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;type&quot;</span>);
        
        <a class="code" href="class_o_t_asset_contract.html#a0db629d1d133fee66ad4c11de2f31628">m_strIssueDate</a>        = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;issuedate&quot;</span>);
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(2, <span class="stringliteral">&quot;Loaded %s, Name: %s, Symbol: %s\n&quot;</span>
                       <span class="stringliteral">&quot;Type: %s, Issue Date: %s\n----------\n&quot;</span>, 
                       strNodeName.Get(),
                       <a class="code" href="class_o_t_asset_contract.html#a714ea3d4b6fc6f9968438426546c6acb">m_strCurrencyName</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_asset_contract.html#a21237957e31011669306d21d36e7eff3">m_strCurrencySymbol</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_asset_contract.html#a4f5f441460dd19ceca0eb05e598a03dc">m_strCurrencyType</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                       <a class="code" href="class_o_t_asset_contract.html#a0db629d1d133fee66ad4c11de2f31628">m_strIssueDate</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        nReturnVal = 1;
    }
    
    <span class="keywordflow">return</span> nReturnVal;
}
</pre></div>
</div>
</div>
<a class="anchor" id="afb2be6f335cdd368a0925c9fa042e729"></a><!-- doxytag: member="OTAssetContract::SaveContractWallet" ref="afb2be6f335cdd368a0925c9fa042e729" args="(OTString &amp;strContents) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_asset_contract.html#afb2be6f335cdd368a0925c9fa042e729">OTAssetContract::SaveContractWallet</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strContents</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a3a96fe4485355ac3c9a3863fc283f33e">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00555">555</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strID(<a class="code" href="class_o_t_contract.html#ac975866d3511c41d935d2ec44c24c4cb">m_ID</a>);
    
    <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> ascName;
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) <span class="comment">// name is in the clear in memory, and base64 in storage.</span>
    {
        ascName.<a class="code" href="class_o_t_a_s_c_i_i_armor.html#ad898bd63a4c37a97f64acfa7514409cc">SetString</a>(<a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>, <span class="keyword">false</span>); <span class="comment">// linebreaks == false</span>
    }
    
    strContents.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;assetType name=\&quot;%s\&quot;\n&quot;</span>
                            <span class="stringliteral">&quot; assetTypeID=\&quot;%s\&quot; /&gt;\n\n&quot;</span>,
                            <a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() ? ascName.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>() : <span class="stringliteral">&quot;&quot;</span>,
                            strID.Get());
    
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa49fadfd22d7686fe398c78f62f6c285"></a><!-- doxytag: member="OTAssetContract::SaveContractWallet" ref="aa49fadfd22d7686fe398c78f62f6c285" args="(std::ofstream &amp;ofs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_asset_contract.html#afb2be6f335cdd368a0925c9fa042e729">OTAssetContract::SaveContractWallet</a> </td>
          <td>(</td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>ofs</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="class_o_t_contract.html#af16a41ce18a9e3408fc5c9ee18315a30">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00575">575</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_string.html">OTString</a> strOutput;
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_asset_contract.html#afb2be6f335cdd368a0925c9fa042e729">SaveContractWallet</a>(strOutput))
    {
        ofs &lt;&lt; strOutput.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>();
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a31632d6a9bd0efb34c427b04f3bd2b37"></a><!-- doxytag: member="OTAssetContract::StringToAmount" ref="a31632d6a9bd0efb34c427b04f3bd2b37" args="(OTAmount &amp;theOutput, const std::string &amp;str_input) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_asset_contract.html#a31632d6a9bd0efb34c427b04f3bd2b37">OTAssetContract::StringToAmount</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_amount.html">OTAmount</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str_input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8cpp_source.html#l00451">451</a> of file <a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    int64_t lValue = 0;
    <span class="comment">// --------------------------------------------------------</span>
    int32_t nFactor = atoi(<a class="code" href="class_o_t_asset_contract.html#a1821b699a7c9fb079e34a6ac06583718">m_strCurrencyFactor</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()); <span class="comment">// default is 100  (100 cents in a dollar)</span>
    <span class="keywordflow">if</span> (nFactor &lt; 1)
        nFactor = 1;
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(nFactor &gt; 0); <span class="comment">// should be 1, 10, 100, etc.</span>
    <span class="comment">// --------------------------------------------------------</span>
    int32_t nPower = atoi(<a class="code" href="class_o_t_asset_contract.html#ab199da6e0ba1eb88aea13693f5329e9d">m_strCurrencyDecimalPower</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()); <span class="comment">// default is 2. ($5.05 is moved 2 decimal places.)</span>
    <span class="keywordflow">if</span> (nPower &lt; 0)
        nPower = 0;
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(nPower &gt;= 0); <span class="comment">// should be 0, 1, 2, etc.</span>
    <span class="comment">// --------------------------------------------------------</span>
    <span class="comment">// Lookup separator and decimal point symbols based on locale.</span>
    <span class="comment">// --------------------------------------------------------</span>
    <span class="comment">// Get a moneypunct facet from the global (&quot;C&quot;) locale</span>
    <span class="comment">//</span>
    
    <span class="comment">// NOTE: from web searching, I&#39;ve determined that locale / moneypunct has</span>
    <span class="comment">// internationalization problems. Therefore it looks like if you want to</span>
    <span class="comment">// build OT for various languages / regions, you&#39;re just going to have to</span>
    <span class="comment">// edit stdafx.h and change the OT_THOUSANDS_SEP and OT_DECIMAL_POINT variables.</span>
    <span class="comment">//</span>
    <span class="comment">// The best improvement I can think on that is to check locale and then use</span>
    <span class="comment">// it to choose from our own list of hardcoded values. Todo.</span>
    
    <span class="keyword">static</span> <a class="code" href="class_o_t_string.html">OTString</a> strSeparator    (<span class="stringliteral">&quot;,&quot;</span>);
    <span class="keyword">static</span> <a class="code" href="class_o_t_string.html">OTString</a> strDecimalPoint (<span class="stringliteral">&quot;.&quot;</span>);
    <span class="comment">// --------------------------------------------------------</span>
<span class="comment">//    static bool bFirstTime = true;</span>
<span class="comment">//    // --------------------------------------------------------</span>
<span class="comment">//    if (bFirstTime)</span>
<span class="comment">//    {</span>
<span class="comment">//        bFirstTime = false;</span>
<span class="comment">//        // TODO: Add ability to customize locale here, if necessary.</span>
<span class="comment">//        const std::moneypunct&lt;char, false&gt; &amp;mp = std::use_facet&lt; std::moneypunct&lt;char, false&gt; &gt;(std::locale ()); // &lt;=====</span>
<span class="comment">//        strSeparator.   Format(&quot;%c&quot;, (&#39;\0&#39; == mp.thousands_sep ()) ? &#39;,&#39; : mp.thousands_sep ());</span>
<span class="comment">//        strDecimalPoint.Format(&quot;%c&quot;, (&#39;\0&#39; == mp.decimal_point ()) ? &#39;.&#39; : mp.decimal_point ());</span>
<span class="comment">//    }</span>
    <span class="comment">// --------------------------------------------------------</span>
    <span class="keywordtype">bool</span> bSuccess = <a class="code" href="class_o_t_asset_contract.html#aae3b4f60483114f480a57785bc3a276f">OTAssetContract::ParseFormatted</a>(lValue, str_input, nFactor, nPower, strSeparator.Get(), strDecimalPoint.Get());

    <span class="keywordflow">if</span> (bSuccess)
        theOutput.<a class="code" href="class_o_t_amount.html#afc33ef6e227803e153a75ed7d6ec7c10">SetAmount</a>(static_cast&lt;int64_t&gt;(lValue));
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a991da3a4cfb384a9863570a744dad61d"></a><!-- doxytag: member="OTAssetContract::m_bIsCurrency" ref="a991da3a4cfb384a9863570a744dad61d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_asset_contract.html#a991da3a4cfb384a9863570a744dad61d">OTAssetContract::m_bIsCurrency</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00177">177</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a012b376e475abb307efd9a11c9204df1"></a><!-- doxytag: member="OTAssetContract::m_bIsShares" ref="a012b376e475abb307efd9a11c9204df1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_asset_contract.html#a012b376e475abb307efd9a11c9204df1">OTAssetContract::m_bIsShares</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00178">178</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a779833ad1d3462072f04dd0561438c38"></a><!-- doxytag: member="OTAssetContract::m_strBasketInfo" ref="a779833ad1d3462072f04dd0561438c38" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#a779833ad1d3462072f04dd0561438c38">OTAssetContract::m_strBasketInfo</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00155">155</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab199da6e0ba1eb88aea13693f5329e9d"></a><!-- doxytag: member="OTAssetContract::m_strCurrencyDecimalPower" ref="ab199da6e0ba1eb88aea13693f5329e9d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#ab199da6e0ba1eb88aea13693f5329e9d">OTAssetContract::m_strCurrencyDecimalPower</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00174">174</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1821b699a7c9fb079e34a6ac06583718"></a><!-- doxytag: member="OTAssetContract::m_strCurrencyFactor" ref="a1821b699a7c9fb079e34a6ac06583718" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#a1821b699a7c9fb079e34a6ac06583718">OTAssetContract::m_strCurrencyFactor</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00173">173</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac82a799a92c439a849326c2412c87e19"></a><!-- doxytag: member="OTAssetContract::m_strCurrencyFraction" ref="ac82a799a92c439a849326c2412c87e19" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#ac82a799a92c439a849326c2412c87e19">OTAssetContract::m_strCurrencyFraction</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00175">175</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a714ea3d4b6fc6f9968438426546c6acb"></a><!-- doxytag: member="OTAssetContract::m_strCurrencyName" ref="a714ea3d4b6fc6f9968438426546c6acb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#a714ea3d4b6fc6f9968438426546c6acb">OTAssetContract::m_strCurrencyName</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00167">167</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a21237957e31011669306d21d36e7eff3"></a><!-- doxytag: member="OTAssetContract::m_strCurrencySymbol" ref="a21237957e31011669306d21d36e7eff3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#a21237957e31011669306d21d36e7eff3">OTAssetContract::m_strCurrencySymbol</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00169">169</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a68b0305d86e6a7140b800de43007e78d"></a><!-- doxytag: member="OTAssetContract::m_strCurrencyTLA" ref="a68b0305d86e6a7140b800de43007e78d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#a68b0305d86e6a7140b800de43007e78d">OTAssetContract::m_strCurrencyTLA</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00172">172</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4f5f441460dd19ceca0eb05e598a03dc"></a><!-- doxytag: member="OTAssetContract::m_strCurrencyType" ref="a4f5f441460dd19ceca0eb05e598a03dc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#a4f5f441460dd19ceca0eb05e598a03dc">OTAssetContract::m_strCurrencyType</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00168">168</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae596ee94a30fbda594d60a79ca9fd0c1"></a><!-- doxytag: member="OTAssetContract::m_strIssueCompany" ref="ae596ee94a30fbda594d60a79ca9fd0c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#ae596ee94a30fbda594d60a79ca9fd0c1">OTAssetContract::m_strIssueCompany</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00158">158</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2131b748686ded77c7b317ca825cff9f"></a><!-- doxytag: member="OTAssetContract::m_strIssueContractURL" ref="a2131b748686ded77c7b317ca825cff9f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#a2131b748686ded77c7b317ca825cff9f">OTAssetContract::m_strIssueContractURL</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00160">160</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0db629d1d133fee66ad4c11de2f31628"></a><!-- doxytag: member="OTAssetContract::m_strIssueDate" ref="a0db629d1d133fee66ad4c11de2f31628" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#a0db629d1d133fee66ad4c11de2f31628">OTAssetContract::m_strIssueDate</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00164">164</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="acf4591db2b801cb17fe92a638cd10271"></a><!-- doxytag: member="OTAssetContract::m_strIssueEmail" ref="acf4591db2b801cb17fe92a638cd10271" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#acf4591db2b801cb17fe92a638cd10271">OTAssetContract::m_strIssueEmail</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00159">159</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4b3deafb62a9a54b42992d50abfcb0cf"></a><!-- doxytag: member="OTAssetContract::m_strIssueType" ref="a4b3deafb62a9a54b42992d50abfcb0cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_asset_contract.html#a4b3deafb62a9a54b42992d50abfcb0cf">OTAssetContract::m_strIssueType</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_asset_contract_8hpp_source.html#l00161">161</a> of file <a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/otlib/<a class="el" href="_o_t_asset_contract_8hpp_source.html">OTAssetContract.hpp</a></li>
<li>src/otlib/<a class="el" href="_o_t_asset_contract_8cpp_source.html">OTAssetContract.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_o_t_asset_contract.html">OTAssetContract</a>      </li>

    <li class="footer">Generated on Wed May 21 2014 11:26:11 for Open-Transactions by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
