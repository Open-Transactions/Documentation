<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Open-Transactions: include/otlib/OTStorage.hpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open-Transactions
   &#160;<span id="projectnumber">master/1066fb4910a63ee3f7de8e0807fee3eb663b66c7</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_o_t_storage_8hpp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">include/otlib/OTStorage.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_o_t_storage_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">*</span>
<a name="l00003"></a>00003 <span class="comment">*  OTStorage.hpp</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">*/</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="comment">/************************************************************</span>
<a name="l00008"></a>00008 <span class="comment"> -----BEGIN PGP SIGNED MESSAGE-----</span>
<a name="l00009"></a>00009 <span class="comment"> Hash: SHA1</span>
<a name="l00010"></a>00010 <span class="comment"></span>
<a name="l00011"></a>00011 <span class="comment"> *                 OPEN TRANSACTIONS</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> *       Financial Cryptography and Digital Cash</span>
<a name="l00014"></a>00014 <span class="comment"> *       Library, Protocol, API, Server, CLI, GUI</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> *       -- Anonymous Numbered Accounts.</span>
<a name="l00017"></a>00017 <span class="comment"> *       -- Untraceable Digital Cash.</span>
<a name="l00018"></a>00018 <span class="comment"> *       -- Triple-Signed Receipts.</span>
<a name="l00019"></a>00019 <span class="comment"> *       -- Cheques, Vouchers, Transfers, Inboxes.</span>
<a name="l00020"></a>00020 <span class="comment"> *       -- Basket Currencies, Markets, Payment Plans.</span>
<a name="l00021"></a>00021 <span class="comment"> *       -- Signed, XML, Ricardian-style Contracts.</span>
<a name="l00022"></a>00022 <span class="comment"> *       -- Scripted smart contracts.</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> *  Copyright (C) 2010-2013 by &quot;Fellow Traveler&quot; (A pseudonym)</span>
<a name="l00025"></a>00025 <span class="comment"> *</span>
<a name="l00026"></a>00026 <span class="comment"> *  EMAIL:</span>
<a name="l00027"></a>00027 <span class="comment"> *  FellowTraveler@rayservers.net</span>
<a name="l00028"></a>00028 <span class="comment"> *</span>
<a name="l00029"></a>00029 <span class="comment"> *  BITCOIN:  1NtTPVVjDsUfDWybS4BwvHpG2pdS9RnYyQ</span>
<a name="l00030"></a>00030 <span class="comment"> *</span>
<a name="l00031"></a>00031 <span class="comment"> *  KEY FINGERPRINT (PGP Key in license file):</span>
<a name="l00032"></a>00032 <span class="comment"> *  9DD5 90EB 9292 4B48 0484  7910 0308 00ED F951 BB8E</span>
<a name="l00033"></a>00033 <span class="comment"> *</span>
<a name="l00034"></a>00034 <span class="comment"> *  OFFICIAL PROJECT WIKI(s):</span>
<a name="l00035"></a>00035 <span class="comment"> *  https://github.com/FellowTraveler/Moneychanger</span>
<a name="l00036"></a>00036 <span class="comment"> *  https://github.com/FellowTraveler/Open-Transactions/wiki</span>
<a name="l00037"></a>00037 <span class="comment"> *</span>
<a name="l00038"></a>00038 <span class="comment"> *  WEBSITE:</span>
<a name="l00039"></a>00039 <span class="comment"> *  http://www.OpenTransactions.org/</span>
<a name="l00040"></a>00040 <span class="comment"> *</span>
<a name="l00041"></a>00041 <span class="comment"> *  Components and licensing:</span>
<a name="l00042"></a>00042 <span class="comment"> *   -- Moneychanger..A Java client GUI.....LICENSE:.....GPLv3</span>
<a name="l00043"></a>00043 <span class="comment"> *   -- otlib.........A class library.......LICENSE:...LAGPLv3</span>
<a name="l00044"></a>00044 <span class="comment"> *   -- otapi.........A client API..........LICENSE:...LAGPLv3</span>
<a name="l00045"></a>00045 <span class="comment"> *   -- opentxs/ot....Command-line client...LICENSE:...LAGPLv3</span>
<a name="l00046"></a>00046 <span class="comment"> *   -- otserver......Server Application....LICENSE:....AGPLv3</span>
<a name="l00047"></a>00047 <span class="comment"> *  Github.com/FellowTraveler/Open-Transactions/wiki/Components</span>
<a name="l00048"></a>00048 <span class="comment"> *</span>
<a name="l00049"></a>00049 <span class="comment"> *  All of the above OT components were designed and written by</span>
<a name="l00050"></a>00050 <span class="comment"> *  Fellow Traveler, with the exception of Moneychanger, which</span>
<a name="l00051"></a>00051 <span class="comment"> *  was contracted out to Vicky C (bitcointrader4@gmail.com).</span>
<a name="l00052"></a>00052 <span class="comment"> *  The open-source community has since actively contributed.</span>
<a name="l00053"></a>00053 <span class="comment"> *</span>
<a name="l00054"></a>00054 <span class="comment"> *  -----------------------------------------------------</span>
<a name="l00055"></a>00055 <span class="comment"> *</span>
<a name="l00056"></a>00056 <span class="comment"> *   LICENSE:</span>
<a name="l00057"></a>00057 <span class="comment"> *   This program is free software: you can redistribute it</span>
<a name="l00058"></a>00058 <span class="comment"> *   and/or modify it under the terms of the GNU Affero</span>
<a name="l00059"></a>00059 <span class="comment"> *   General Public License as published by the Free Software</span>
<a name="l00060"></a>00060 <span class="comment"> *   Foundation, either version 3 of the License, or (at your</span>
<a name="l00061"></a>00061 <span class="comment"> *   option) any later version.</span>
<a name="l00062"></a>00062 <span class="comment"> *</span>
<a name="l00063"></a>00063 <span class="comment"> *   ADDITIONAL PERMISSION under the GNU Affero GPL version 3</span>
<a name="l00064"></a>00064 <span class="comment"> *   section 7: (This paragraph applies only to the LAGPLv3</span>
<a name="l00065"></a>00065 <span class="comment"> *   components listed above.) If you modify this Program, or</span>
<a name="l00066"></a>00066 <span class="comment"> *   any covered work, by linking or combining it with other</span>
<a name="l00067"></a>00067 <span class="comment"> *   code, such other code is not for that reason alone subject</span>
<a name="l00068"></a>00068 <span class="comment"> *   to any of the requirements of the GNU Affero GPL version 3.</span>
<a name="l00069"></a>00069 <span class="comment"> *   (==&gt; This means if you are only using the OT API, then you</span>
<a name="l00070"></a>00070 <span class="comment"> *   don&#39;t have to open-source your code--only your changes to</span>
<a name="l00071"></a>00071 <span class="comment"> *   Open-Transactions itself must be open source. Similar to</span>
<a name="l00072"></a>00072 <span class="comment"> *   LGPLv3, except it applies to software-as-a-service, not</span>
<a name="l00073"></a>00073 <span class="comment"> *   just to distributing binaries.)</span>
<a name="l00074"></a>00074 <span class="comment"> *</span>
<a name="l00075"></a>00075 <span class="comment"> *   Extra WAIVER for OpenSSL, Lucre, and all other libraries</span>
<a name="l00076"></a>00076 <span class="comment"> *   used by Open Transactions: This program is released under</span>
<a name="l00077"></a>00077 <span class="comment"> *   the AGPL with the additional exemption that compiling,</span>
<a name="l00078"></a>00078 <span class="comment"> *   linking, and/or using OpenSSL is allowed. The same is true</span>
<a name="l00079"></a>00079 <span class="comment"> *   for any other open source libraries included in this</span>
<a name="l00080"></a>00080 <span class="comment"> *   project: complete waiver from the AGPL is hereby granted to</span>
<a name="l00081"></a>00081 <span class="comment"> *   compile, link, and/or use them with Open-Transactions,</span>
<a name="l00082"></a>00082 <span class="comment"> *   according to their own terms, as long as the rest of the</span>
<a name="l00083"></a>00083 <span class="comment"> *   Open-Transactions terms remain respected, with regard to</span>
<a name="l00084"></a>00084 <span class="comment"> *   the Open-Transactions code itself.</span>
<a name="l00085"></a>00085 <span class="comment"> *</span>
<a name="l00086"></a>00086 <span class="comment"> *   Lucre License:</span>
<a name="l00087"></a>00087 <span class="comment"> *   This code is also &quot;dual-license&quot;, meaning that Ben Lau-</span>
<a name="l00088"></a>00088 <span class="comment"> *   rie&#39;s license must also be included and respected, since</span>
<a name="l00089"></a>00089 <span class="comment"> *   the code for Lucre is also included with Open Transactions.</span>
<a name="l00090"></a>00090 <span class="comment"> *   See Open-Transactions/src/otlib/lucre/LUCRE_LICENSE.txt</span>
<a name="l00091"></a>00091 <span class="comment"> *   The Laurie requirements are light, but if there is any</span>
<a name="l00092"></a>00092 <span class="comment"> *   problem with his license, simply remove the Lucre code.</span>
<a name="l00093"></a>00093 <span class="comment"> *   Although there are no other blind token algorithms in Open</span>
<a name="l00094"></a>00094 <span class="comment"> *   Transactions (yet. credlib is coming), the other functions</span>
<a name="l00095"></a>00095 <span class="comment"> *   will continue to operate.</span>
<a name="l00096"></a>00096 <span class="comment"> *   See Lucre on Github:  https://github.com/benlaurie/lucre</span>
<a name="l00097"></a>00097 <span class="comment"> *   -----------------------------------------------------</span>
<a name="l00098"></a>00098 <span class="comment"> *   You should have received a copy of the GNU Affero General</span>
<a name="l00099"></a>00099 <span class="comment"> *   Public License along with this program.  If not, see:</span>
<a name="l00100"></a>00100 <span class="comment"> *   http://www.gnu.org/licenses/</span>
<a name="l00101"></a>00101 <span class="comment"> *</span>
<a name="l00102"></a>00102 <span class="comment"> *   If you would like to use this software outside of the free</span>
<a name="l00103"></a>00103 <span class="comment"> *   software license, please contact FellowTraveler.</span>
<a name="l00104"></a>00104 <span class="comment"> *   (Unfortunately many will run anonymously and untraceably,</span>
<a name="l00105"></a>00105 <span class="comment"> *   so who could really stop them?)</span>
<a name="l00106"></a>00106 <span class="comment"> *</span>
<a name="l00107"></a>00107 <span class="comment"> *   DISCLAIMER:</span>
<a name="l00108"></a>00108 <span class="comment"> *   This program is distributed in the hope that it will be</span>
<a name="l00109"></a>00109 <span class="comment"> *   useful, but WITHOUT ANY WARRANTY; without even the implied</span>
<a name="l00110"></a>00110 <span class="comment"> *   warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</span>
<a name="l00111"></a>00111 <span class="comment"> *   PURPOSE.  See the GNU Affero General Public License for</span>
<a name="l00112"></a>00112 <span class="comment"> *   more details.</span>
<a name="l00113"></a>00113 <span class="comment"></span>
<a name="l00114"></a>00114 <span class="comment"> -----BEGIN PGP SIGNATURE-----</span>
<a name="l00115"></a>00115 <span class="comment"> Version: GnuPG v1.4.9 (Darwin)</span>
<a name="l00116"></a>00116 <span class="comment"></span>
<a name="l00117"></a>00117 <span class="comment"> iQIcBAEBAgAGBQJRSsfJAAoJEAMIAO35UbuOQT8P/RJbka8etf7wbxdHQNAY+2cC</span>
<a name="l00118"></a>00118 <span class="comment"> vDf8J3X8VI+pwMqv6wgTVy17venMZJa4I4ikXD/MRyWV1XbTG0mBXk/7AZk7Rexk</span>
<a name="l00119"></a>00119 <span class="comment"> KTvL/U1kWiez6+8XXLye+k2JNM6v7eej8xMrqEcO0ZArh/DsLoIn1y8p8qjBI7+m</span>
<a name="l00120"></a>00120 <span class="comment"> aE7lhstDiD0z8mwRRLKFLN2IH5rAFaZZUvj5ERJaoYUKdn4c+RcQVei2YOl4T0FU</span>
<a name="l00121"></a>00121 <span class="comment"> LWND3YLoH8naqJXkaOKEN4UfJINCwxhe5Ke9wyfLWLUO7NamRkWD2T7CJ0xocnD1</span>
<a name="l00122"></a>00122 <span class="comment"> sjAzlVGNgaFDRflfIF4QhBx1Ddl6wwhJfw+d08bjqblSq8aXDkmFA7HeunSFKkdn</span>
<a name="l00123"></a>00123 <span class="comment"> oIEOEgyj+veuOMRJC5pnBJ9vV+7qRdDKQWaCKotynt4sWJDGQ9kWGWm74SsNaduN</span>
<a name="l00124"></a>00124 <span class="comment"> TPMyr9kNmGsfR69Q2Zq/FLcLX/j8ESxU+HYUB4vaARw2xEOu2xwDDv6jt0j3Vqsg</span>
<a name="l00125"></a>00125 <span class="comment"> x7rWv4S/Eh18FDNDkVRChiNoOIilLYLL6c38uMf1pnItBuxP3uhgY6COm59kVaRh</span>
<a name="l00126"></a>00126 <span class="comment"> nyGTYCDYD2TK+fI9o89F1297uDCwEJ62U0Q7iTDp5QuXCoxkPfv8/kX6lS6T3y9G</span>
<a name="l00127"></a>00127 <span class="comment"> M9mqIoLbIQ1EDntFv7/t6fUTS2+46uCrdZWbQ5RjYXdrzjij02nDmJAm2BngnZvd</span>
<a name="l00128"></a>00128 <span class="comment"> kamH0Y/n11lCvo1oQxM+</span>
<a name="l00129"></a>00129 <span class="comment"> =uSzz</span>
<a name="l00130"></a>00130 <span class="comment"> -----END PGP SIGNATURE-----</span>
<a name="l00131"></a>00131 <span class="comment"> **************************************************************/</span>
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 <span class="preprocessor">#ifndef __OT_STORAGE_HPP__</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span><span class="preprocessor">#define __OT_STORAGE_HPP__</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span>
<a name="l00136"></a>00136 <span class="preprocessor">#include &quot;<a class="code" href="_o_t_common_8hpp.html">OTCommon.hpp</a>&quot;</span>
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <span class="preprocessor">#if __clang__</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span><span class="preprocessor">#pragma clang diagnostic push</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wunused-function&quot;</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wunused-parameter&quot;</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span>
<a name="l00144"></a>00144 <span class="comment">// we now include this file in swig</span>
<a name="l00145"></a>00145 <span class="comment">// we need to tell swig what parts to skip over.</span>
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 <span class="preprocessor">#ifndef SWIG</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span>
<a name="l00149"></a>00149 <span class="preprocessor">#include &quot;<a class="code" href="_o_t_assert_8hpp.html">OTAssert.hpp</a>&quot;</span>
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00152"></a>00152 <span class="preprocessor">#include &lt;deque&gt;</span>
<a name="l00153"></a>00153 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00154"></a>00154 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 
<a name="l00157"></a>00157 <span class="comment">// credit:stlplus library.</span>
<a name="l00158"></a>00158 <span class="preprocessor">#include &quot;containers/simple_ptr.hpp&quot;</span>
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 <span class="comment">// Which storage mechanism are we building?</span>
<a name="l00162"></a>00162 <span class="comment">// (Option is for both...)</span>
<a name="l00163"></a>00163 <span class="comment">//</span>
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 <span class="comment">//#ifndef _WIN32 // Until I get it working on Windows.</span>
<a name="l00167"></a>00167 <span class="comment"></span><span class="comment">//#endif</span>
<a name="l00168"></a>00168 
<a name="l00169"></a><a class="code" href="_o_t_storage_8hpp.html#aec23983de19714952cee3dde6c235285">00169</a> <span class="preprocessor">#define OTDB_PROTOCOL_BUFFERS 1</span>
<a name="l00170"></a>00170 <span class="preprocessor"></span><span class="comment">//#define OTDB_JSON_PACKING 1 // coming soon.</span>
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 <span class="comment">//#define OTDB_DEFAULT_PACKER   OTDB::PACK_MESSAGE_PACK</span>
<a name="l00175"></a><a class="code" href="_o_t_storage_8hpp.html#aae47b801ed98c155ad4705c110987b25">00175</a> <span class="preprocessor">#define OTDB_DEFAULT_PACKER     OTDB::PACK_PROTOCOL_BUFFERS</span>
<a name="l00176"></a>00176 <span class="preprocessor"></span>
<a name="l00177"></a><a class="code" href="_o_t_storage_8hpp.html#aa14839d27201385945fff99b52448a29">00177</a> <span class="preprocessor">#define OTDB_DEFAULT_STORAGE    OTDB::STORE_FILESYSTEM</span>
<a name="l00178"></a>00178 <span class="preprocessor"></span>
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 <span class="comment">// JAVA-STYLE INTERFACES.</span>
<a name="l00181"></a>00181 <span class="comment">//</span>
<a name="l00182"></a>00182 <span class="comment">// I&#39;m doing some crazy stuff in this file.</span>
<a name="l00183"></a>00183 <span class="comment">// What you see below is a set of preprocessor definitions that</span>
<a name="l00184"></a>00184 <span class="comment">// allow me to use &quot;Java-Style Interfaces&quot; here in C++.</span>
<a name="l00185"></a>00185 <span class="comment">//</span>
<a name="l00186"></a>00186 <span class="comment">// It turns out that Storable needed a normal class hierarchy, AND Java-</span>
<a name="l00187"></a>00187 <span class="comment">// style interfaces, to do everything I wanted it to do.</span>
<a name="l00188"></a>00188 <span class="comment">//</span>
<a name="l00189"></a>00189 <span class="comment">// I will probably create a more general-purpose header file for OT</span>
<a name="l00190"></a>00190 <span class="comment">// and these sorts of #defines will probably end up there int64_t-term.</span>
<a name="l00191"></a>00191 <span class="comment">// Much of OT might be separable out into a more general-purpose utility</span>
<a name="l00192"></a>00192 <span class="comment">// lib, which I will get to whenever it is more important than anything else.</span>
<a name="l00193"></a>00193 <span class="comment">//</span>
<a name="l00194"></a><a class="code" href="_o_t_storage_8hpp.html#a5cc6d25f475d547962afde4ae055aa5c">00194</a> <span class="preprocessor">#define OTInterface class</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span>
<a name="l00196"></a><a class="code" href="_o_t_storage_8hpp.html#a3b2136bac970a2cdadba399fc6029000">00196</a> <span class="preprocessor">#define DeclareInterface(name) OTInterface name { \</span>
<a name="l00197"></a>00197 <span class="preprocessor">public: \</span>
<a name="l00198"></a>00198 <span class="preprocessor">    virtual ~name() {}</span>
<a name="l00199"></a>00199 <span class="preprocessor"></span>
<a name="l00200"></a><a class="code" href="_o_t_storage_8hpp.html#a40c95506fe5a0983d4f4af603880ebc3">00200</a> <span class="preprocessor">#define DeclareBasedInterface(name, base) class name : public base { \</span>
<a name="l00201"></a>00201 <span class="preprocessor">public: \</span>
<a name="l00202"></a>00202 <span class="preprocessor">    virtual ~name() {}</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span>
<a name="l00204"></a><a class="code" href="_o_t_storage_8hpp.html#ac0ceedcd53e5f9f4beaf84d04ca35ab1">00204</a> <span class="preprocessor">#define EndInterface };</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span>
<a name="l00206"></a><a class="code" href="_o_t_storage_8hpp.html#a45f3f8038d892852079a5151804930e2">00206</a> <span class="preprocessor">#define implements public</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span>
<a name="l00208"></a>00208 
<a name="l00209"></a>00209 <span class="comment">// Foreach with std containers.</span>
<a name="l00210"></a>00210 
<a name="l00211"></a><a class="code" href="_o_t_storage_8hpp.html#a4a94c3435a932ed34e5755f3f472547c">00211</a> <span class="preprocessor">#define FOR_EACH_IT(ARG_OT_ONE, ARG_OT_TWO, ARG_OT_THREE)   for(ARG_OT_ONE::iterator ARG_OT_THREE = ARG_OT_TWO.begin(); ARG_OT_THREE != ARG_OT_TWO.end(); ++ ARG_OT_THREE)</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span>
<a name="l00213"></a><a class="code" href="_o_t_storage_8hpp.html#aa135ed03585fa4b246d7907afbd5873d">00213</a> <span class="preprocessor">#define FOR_EACH(ARG_OT_ONE, ARG_OT_TWO)    for(ARG_OT_ONE::iterator it = ARG_OT_TWO.begin(); it != ARG_OT_TWO.end(); ++ it)</span>
<a name="l00214"></a>00214 <span class="preprocessor"></span>
<a name="l00215"></a><a class="code" href="_o_t_storage_8hpp.html#a115d33c5c479549e19dfead2c55066a4">00215</a> <span class="preprocessor">#define FOR_EACH_IT_CONST(ARG_OT_ONE, ARG_OT_TWO, ARG_OT_THREE) for(ARG_OT_ONE::const_iterator ARG_OT_THREE = ARG_OT_TWO.begin(); ARG_OT_THREE != ARG_OT_TWO.end(); ++ ARG_OT_THREE)</span>
<a name="l00216"></a>00216 <span class="preprocessor"></span>
<a name="l00217"></a><a class="code" href="_o_t_storage_8hpp.html#a804eb881e96b7e1846d130a55a94f716">00217</a> <span class="preprocessor">#define FOR_EACH_CONST(ARG_OT_ONE, ARG_OT_TWO)  for(ARG_OT_ONE::const_iterator it = ARG_OT_TWO.begin(); it != ARG_OT_TWO.end(); ++ it)</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span>
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 <span class="preprocessor">#endif // (not) SWIG</span>
<a name="l00221"></a>00221 <span class="preprocessor"></span>
<a name="l00222"></a>00222 
<a name="l00223"></a><a class="code" href="namespace_o_t_d_b.html">00223</a> <span class="keyword">namespace </span>OTDB
<a name="l00224"></a>00224 {
<a name="l00225"></a>00225 
<a name="l00226"></a>00226     <span class="comment">// ENUMS:   PackType, StorageType, and StoredObjectType.</span>
<a name="l00227"></a>00227 
<a name="l00228"></a>00228     <span class="comment">// ---------------------------------------------------</span>
<a name="l00229"></a>00229     <span class="comment">// Currently supporting MsgPack and Protocol Buffers.</span>
<a name="l00230"></a>00230     <span class="comment">//</span>
<a name="l00231"></a><a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5">00231</a>     <span class="keyword">enum</span> <a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5">PackType</a> <span class="comment">// PACKING TYPE</span>
<a name="l00232"></a>00232     {
<a name="l00233"></a><a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5a46ba839c295fefeb8174dd16636c724a">00233</a>         <a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5a46ba839c295fefeb8174dd16636c724a">PACK_MESSAGE_PACK</a> = 0,  <span class="comment">// Using MessagePack as packer.</span>
<a name="l00234"></a><a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5a35c546efc7e6d0c6497ff148ffa376bd">00234</a>         <a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5a35c546efc7e6d0c6497ff148ffa376bd">PACK_PROTOCOL_BUFFERS</a>,  <span class="comment">// Using Google Protocol Buffers as packer.</span>
<a name="l00235"></a><a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5a78573f08f696542c03d3eddc291a193f">00235</a>         <a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5a78573f08f696542c03d3eddc291a193f">PACK_TYPE_ERROR</a>         <span class="comment">// (Should never be.)</span>
<a name="l00236"></a>00236     };
<a name="l00237"></a>00237 
<a name="l00238"></a>00238     <span class="comment">// ------------------------------</span>
<a name="l00239"></a>00239     <span class="comment">// Currently supporting filesystem, with subclasses possible via API.</span>
<a name="l00240"></a>00240     <span class="comment">//</span>
<a name="l00241"></a><a class="code" href="namespace_o_t_d_b.html#a01f7a249e866aac35580c7cf503a3223">00241</a>     <span class="keyword">enum</span> <a class="code" href="namespace_o_t_d_b.html#a01f7a249e866aac35580c7cf503a3223">StorageType</a>  <span class="comment">// STORAGE TYPE</span>
<a name="l00242"></a>00242     {
<a name="l00243"></a><a class="code" href="namespace_o_t_d_b.html#a01f7a249e866aac35580c7cf503a3223af25ff3fbc20bd7e60cf6ec94830229d8">00243</a>         <a class="code" href="namespace_o_t_d_b.html#a01f7a249e866aac35580c7cf503a3223af25ff3fbc20bd7e60cf6ec94830229d8">STORE_FILESYSTEM</a> = 0,   <span class="comment">// Filesystem</span>
<a name="l00244"></a>00244 <span class="comment">//      STORE_COUCH_DB,         // Couch DB (not yet supported)</span>
<a name="l00245"></a><a class="code" href="namespace_o_t_d_b.html#a01f7a249e866aac35580c7cf503a3223a8f9c2e09561872516b9068e00aa41db7">00245</a>         <a class="code" href="namespace_o_t_d_b.html#a01f7a249e866aac35580c7cf503a3223a8f9c2e09561872516b9068e00aa41db7">STORE_TYPE_SUBCLASS</a>     <span class="comment">// (Subclass provided by API client via SWIG.)</span>
<a name="l00246"></a>00246     };
<a name="l00247"></a>00247 
<a name="l00248"></a>00248 <span class="preprocessor">#ifndef SWIG</span>
<a name="l00249"></a>00249 <span class="preprocessor"></span>    <span class="comment">// -------------------------------------</span>
<a name="l00250"></a>00250     <span class="comment">//</span>
<a name="l00251"></a>00251     <span class="comment">// STORED OBJECT TYPES...</span>
<a name="l00252"></a>00252     <span class="comment">//</span>
<a name="l00253"></a>00253     <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="namespace_o_t_d_b.html#a445149befa2f31c2e085f4225b09c184">StoredObjectTypeStrings</a>[];
<a name="l00254"></a>00254 <span class="preprocessor">#endif // (not) SWIG</span>
<a name="l00255"></a>00255 <span class="preprocessor"></span>
<a name="l00256"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82">00256</a>     <span class="keyword">enum</span> <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82">StoredObjectType</a>
<a name="l00257"></a>00257     {
<a name="l00258"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ad3aa0cd59b7ea83ab039fa2ce1f2e393">00258</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ad3aa0cd59b7ea83ab039fa2ce1f2e393">STORED_OBJ_STRING</a>=0,        <span class="comment">// Just a string.</span>
<a name="l00259"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a9d3aefa2bb7b6dfa960d60449d78528d">00259</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a9d3aefa2bb7b6dfa960d60449d78528d">STORED_OBJ_BLOB</a>,            <span class="comment">// Used for storing binary data. Bytes of arbitrary length.</span>
<a name="l00260"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82acc03e85e0f615881a2abe9ca12628330">00260</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82acc03e85e0f615881a2abe9ca12628330">STORED_OBJ_STRING_MAP</a>,      <span class="comment">// A StringMap is a list of Key/Value pairs, useful for storing nearly anything.</span>
<a name="l00261"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ac81048992a29356f8e7feac2f864d3d6">00261</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ac81048992a29356f8e7feac2f864d3d6">STORED_OBJ_WALLET_DATA</a>,     <span class="comment">// The GUI wallet&#39;s stored data</span>
<a name="l00262"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a99042be21d98b9ca241ee0ccb1c158e1">00262</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a99042be21d98b9ca241ee0ccb1c158e1">STORED_OBJ_BITCOIN_ACCT</a>,    <span class="comment">// The GUI wallet&#39;s stored data about a Bitcoin acct</span>
<a name="l00263"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ae53042837fedcbf41067c87d8dc809d3">00263</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ae53042837fedcbf41067c87d8dc809d3">STORED_OBJ_BITCOIN_SERVER</a>,  <span class="comment">// The GUI wallet&#39;s stored data about a Bitcoin RPC port.</span>
<a name="l00264"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a131a0b96fb58c4c78ad5c398c83d951a">00264</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a131a0b96fb58c4c78ad5c398c83d951a">STORED_OBJ_RIPPLE_SERVER</a>,   <span class="comment">// The GUI wallet&#39;s stored data about a Ripple server.</span>
<a name="l00265"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ad3ac5c811e98cf7c8058940ed50c44bb">00265</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ad3ac5c811e98cf7c8058940ed50c44bb">STORED_OBJ_LOOM_SERVER</a>,     <span class="comment">// The GUI wallet&#39;s stored data about a Loom server.</span>
<a name="l00266"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a71cac18a688cae05bb864d4184d403b8">00266</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a71cac18a688cae05bb864d4184d403b8">STORED_OBJ_SERVER_INFO</a>,     <span class="comment">// A Nym has a list of these.</span>
<a name="l00267"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a8e8bd9b5ff20a538fc7dd386088daa84">00267</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a8e8bd9b5ff20a538fc7dd386088daa84">STORED_OBJ_CONTACT_NYM</a>,     <span class="comment">// This is a Nym record inside a contact of your address book.</span>
<a name="l00268"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ae5c43f406c7d364ee189f9a3eb2807cd">00268</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ae5c43f406c7d364ee189f9a3eb2807cd">STORED_OBJ_CONTACT_ACCT</a>,    <span class="comment">// This is an account record inside a contact of your address book.</span>
<a name="l00269"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ac6bf42e72b48c8f83d7d70be979aa589">00269</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ac6bf42e72b48c8f83d7d70be979aa589">STORED_OBJ_CONTACT</a>,         <span class="comment">// Your address book has a list of these.</span>
<a name="l00270"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ab0863f6a48600838fc8c737d203f498a">00270</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ab0863f6a48600838fc8c737d203f498a">STORED_OBJ_ADDRESS_BOOK</a>,    <span class="comment">// Your address book.</span>
<a name="l00271"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82af692b998fb062c5d9655b4cd7d55aa25">00271</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82af692b998fb062c5d9655b4cd7d55aa25">STORED_OBJ_MARKET_DATA</a>,     <span class="comment">// The description data for any given Market ID.</span>
<a name="l00272"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a7a0f581c82f5599271fcd57d0a020f99">00272</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a7a0f581c82f5599271fcd57d0a020f99">STORED_OBJ_MARKET_LIST</a>,     <span class="comment">// A list of MarketDatas.</span>
<a name="l00273"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82aa8c9eb3eaaf80d1bcde91443e43b9b2f">00273</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82aa8c9eb3eaaf80d1bcde91443e43b9b2f">STORED_OBJ_BID_DATA</a>,            <span class="comment">// Offer details (doesn&#39;t contain private details)</span>
<a name="l00274"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a95aef78f2a6a6e62d4a44b3301588538">00274</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a95aef78f2a6a6e62d4a44b3301588538">STORED_OBJ_ASK_DATA</a>,            <span class="comment">// Offer details (doesn&#39;t contain private details)</span>
<a name="l00275"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a2b54a22ce17683d3970981ec94203ad1">00275</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a2b54a22ce17683d3970981ec94203ad1">STORED_OBJ_OFFER_LIST_MARKET</a>,   <span class="comment">// A list of offer details, for a specific market.</span>
<a name="l00276"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82adda8d82429f1fc73e0ce76464532b05d">00276</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82adda8d82429f1fc73e0ce76464532b05d">STORED_OBJ_TRADE_DATA_MARKET</a>,   <span class="comment">// Trade details (doesn&#39;t contain private data)</span>
<a name="l00277"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a3d18519334f9da70d7341ecb6c18010f">00277</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a3d18519334f9da70d7341ecb6c18010f">STORED_OBJ_TRADE_LIST_MARKET</a>,   <span class="comment">// A list of trade details, for a specific market.</span>
<a name="l00278"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a5700f3141bdafc532997996ea4bf6db8">00278</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a5700f3141bdafc532997996ea4bf6db8">STORED_OBJ_OFFER_DATA_NYM</a>,      <span class="comment">// Private offer details for a particular Nym and Offer.</span>
<a name="l00279"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a976d0f2d070c94e031644952c6fb78d4">00279</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a976d0f2d070c94e031644952c6fb78d4">STORED_OBJ_OFFER_LIST_NYM</a>,      <span class="comment">// A list of private offer details for a particular Nym.</span>
<a name="l00280"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a10229b66b8d123dc3eda6370c1ddb022">00280</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a10229b66b8d123dc3eda6370c1ddb022">STORED_OBJ_TRADE_DATA_NYM</a>,      <span class="comment">// Private trade details for a particular Nym and Trade.</span>
<a name="l00281"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a2172f96c85edc950ecd14d6c51c71c57">00281</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82a2172f96c85edc950ecd14d6c51c71c57">STORED_OBJ_TRADE_LIST_NYM</a>,      <span class="comment">// A list of private trade details for a particular Nym and Offer.</span>
<a name="l00282"></a><a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ad2983cecbf1ca8e2aba83a5652716d46">00282</a>         <a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82ad2983cecbf1ca8e2aba83a5652716d46">STORED_OBJ_ERROR</a>            <span class="comment">// (Should never be.)</span>
<a name="l00283"></a>00283     };
<a name="l00284"></a>00284 
<a name="l00285"></a>00285 <span class="preprocessor">#ifndef SWIG</span>
<a name="l00286"></a>00286 <span class="preprocessor"></span>
<a name="l00287"></a>00287 
<a name="l00288"></a>00288     <span class="comment">// ABSTRACT BASE CLASSES</span>
<a name="l00289"></a>00289     <span class="comment">//</span>
<a name="l00290"></a>00290     <span class="keyword">class </span>Storable;     <span class="comment">// A storable object</span>
<a name="l00291"></a>00291     <span class="keyword">class </span>OTPacker;     <span class="comment">// A packer (Could be MsgPack, or Google Protocol Buffers, or a json lib...)</span>
<a name="l00292"></a>00292     <span class="keyword">class </span>Storage;      <span class="comment">// A storage context (database, filesystem, cloud, etc. Swappable.)</span>
<a name="l00293"></a>00293     <span class="keyword">class </span>PackedBuffer; <span class="comment">// A buffer for containing a PACKED STORABLE. (On its way to/from storage.)</span>
<a name="l00294"></a>00294 
<a name="l00295"></a>00295 
<a name="l00296"></a>00296     <span class="comment">// OTDB NAMESPACE &quot;CONSTRUCTOR&quot;</span>
<a name="l00297"></a>00297     <span class="comment">//</span>
<a name="l00298"></a><a class="code" href="class_o_t_d_b_1_1_init_o_t_d_b_details.html">00298</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_init_o_t_d_b_details.html">InitOTDBDetails</a>
<a name="l00299"></a>00299     {
<a name="l00300"></a>00300     <span class="keyword">public</span>:
<a name="l00301"></a>00301         <a class="code" href="class_o_t_d_b_1_1_init_o_t_d_b_details.html#ae77f3015f478cb59e90f4f0d3060895a">InitOTDBDetails</a>();  <span class="comment">// See implementation of this in CPP file for namespace construction.</span>
<a name="l00302"></a>00302         <a class="code" href="class_o_t_d_b_1_1_init_o_t_d_b_details.html#ac4d75476c57fa9b3ca18bf59a35a6204">~InitOTDBDetails</a>(); <span class="comment">// Ditto.</span>
<a name="l00303"></a>00303     };
<a name="l00304"></a>00304     <span class="comment">// -------------------------------</span>
<a name="l00305"></a>00305 
<a name="l00306"></a>00306     <span class="comment">// As far as the USERS of the Storage API are concerned, the above classes are nearly everything.</span>
<a name="l00307"></a>00307     <span class="comment">// (In addition to the &quot;Pure Data&quot; classes such as ContactNym, BitcoinAcct, etc.)</span>
<a name="l00308"></a>00308     <span class="comment">// Behind the scenes, in OTStorage, there is the IStorable interface, with its progeny, the various</span>
<a name="l00309"></a>00309     <span class="comment">// subclasses based on specific packers, such as ContactNymMsgpack, or WalletDataProtobuf. But these</span>
<a name="l00310"></a>00310     <span class="comment">// are hidden, and are not seen outside of OTStorage in its actual USE.</span>
<a name="l00311"></a>00311 
<a name="l00312"></a>00312     <span class="comment">// ------------------------------------------------</span>
<a name="l00313"></a>00313     <span class="comment">//</span>
<a name="l00314"></a>00314     <span class="comment">// OTDB Namespace internal typedefs</span>
<a name="l00315"></a>00315     <span class="comment">//</span>
<a name="l00316"></a>00316     <span class="comment">// In short:</span>
<a name="l00317"></a>00317     <span class="comment">// - InstantiateFunc (function pointer type.)</span>
<a name="l00318"></a>00318     <span class="comment">// - InstantiateFuncKey (based on Pack Type and Stored Object Type.)</span>
<a name="l00319"></a>00319     <span class="comment">// - mapOfFunctions (type: map of InstantiateFuncs, indexed by InstantiateFuncKeys.)</span>
<a name="l00320"></a>00320     <span class="comment">//</span>
<a name="l00321"></a>00321     <span class="comment">// Resulting in: pFunctionMap (Instance of mapOfFunctions, created in the OTDB constructor.)</span>
<a name="l00322"></a>00322     <span class="comment">//</span>
<a name="l00323"></a><a class="code" href="namespace_o_t_d_b.html#a0da7e3f17b96e1d598096cb49830d3c8">00323</a>     <span class="keyword">typedef</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a> * (<a class="code" href="namespace_o_t_d_b.html#a0da7e3f17b96e1d598096cb49830d3c8">InstantiateFunc</a>)(); <span class="comment">// Each storable has one of these as a static method.</span>
<a name="l00324"></a><a class="code" href="namespace_o_t_d_b.html#aed9c4b7b6a5fa0cee78fd2981b22069f">00324</a>     <span class="keyword">typedef</span> std::pair&lt;PackType, StoredObjectType&gt; <a class="code" href="namespace_o_t_d_b.html#aed9c4b7b6a5fa0cee78fd2981b22069f">InstantiateFuncKey</a>;   <span class="comment">// Those methods are stored as function pointers here, and they are</span>
<a name="l00325"></a>00325     <span class="comment">// indexed by Pack Type and Stored Object Type. So if you know &quot;LoomAcct&quot; and</span>
<a name="l00326"></a>00326     <span class="comment">// &quot;protocol buffers&quot;, those form the KEY for looking up the LoomAcctPB instantiator.</span>
<a name="l00327"></a><a class="code" href="namespace_o_t_d_b.html#a5404469498e5f9ea2c20f6af40a05394">00327</a>     <span class="keyword">typedef</span> std::map&lt;InstantiateFuncKey, InstantiateFunc*&gt; <a class="code" href="namespace_o_t_d_b.html#a5404469498e5f9ea2c20f6af40a05394">mapOfFunctions</a>; <span class="comment">//...basically implementing my own vtable, eh?</span>
<a name="l00328"></a>00328 
<a name="l00329"></a>00329 
<a name="l00330"></a>00330 
<a name="l00331"></a>00331     <span class="comment">// ********************************************************************</span>
<a name="l00332"></a>00332 
<a name="l00333"></a>00333     <span class="comment">// OTDB Namespace PRIVATE MEMBERS</span>
<a name="l00334"></a>00334     <span class="comment">// this &quot;details&quot; naming is a common C++ idiom for &quot;private&quot; in a namespace.</span>
<a name="l00335"></a>00335     <span class="comment">//</span>
<a name="l00336"></a><a class="code" href="namespace_o_t_d_b_1_1details.html">00336</a>     <span class="keyword">namespace </span>details
<a name="l00337"></a>00337     {
<a name="l00338"></a>00338         <span class="keyword">extern</span> <a class="code" href="class_o_t_d_b_1_1_storage.html">OTDB::Storage</a> * <a class="code" href="namespace_o_t_d_b_1_1details.html#a925ec98fbd9d879e7b5f97d50c777022">s_pStorage</a>;
<a name="l00339"></a>00339 
<a name="l00340"></a>00340         <span class="keyword">extern</span> <a class="code" href="namespace_o_t_d_b.html#a5404469498e5f9ea2c20f6af40a05394">OTDB::mapOfFunctions</a> * <a class="code" href="namespace_o_t_d_b_1_1details.html#a68998c6e9f65f6895bc3321812c367f4">pFunctionMap</a>; <span class="comment">// This is a pointer so I can control what order it is created in, on startup.</span>
<a name="l00341"></a>00341     }
<a name="l00342"></a>00342 
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 
<a name="l00345"></a>00345 
<a name="l00346"></a>00346     <span class="comment">// ----------------------------------------------------</span>
<a name="l00347"></a>00347 
<a name="l00348"></a>00348     <span class="comment">// All of the class hierarchy under Storable is based on OT data design. (Not packing and such implementation details.)</span>
<a name="l00349"></a>00349     <span class="comment">// So when we need to add custom behavior that&#39;s common to groups of the final subclasses,</span>
<a name="l00350"></a>00350     <span class="comment">// we use **Interfaces** to do it.</span>
<a name="l00351"></a>00351 
<a name="l00352"></a>00352     <span class="comment">// ===&gt; That way, the Storable hierarchy can focus on DATA, (and form the external interface for OTStorage.)</span>
<a name="l00353"></a>00353     <span class="comment">// ===&gt; while the IStorable hierarchy focuses on PACKING.   (and is hidden INSIDE OTStorage.)</span>
<a name="l00354"></a>00354     <span class="comment">// ===&gt; (Things are more elegant this way.)</span>
<a name="l00355"></a>00355 
<a name="l00356"></a>00356     <span class="comment">//</span>
<a name="l00357"></a>00357     <span class="comment">//</span>
<a name="l00358"></a>00358     <span class="comment">// Interface:    IStorable</span>
<a name="l00359"></a>00359     <span class="comment">//</span>
<a name="l00360"></a>00360     <span class="comment">// Each specific Packer library (MsgPack, Protobuf, etc) must provide an interface</span>
<a name="l00361"></a>00361     <span class="comment">// derived from IStorable (They&#39;re all listed somewhere below.)</span>
<a name="l00362"></a>00362     <span class="comment">//</span>
<a name="l00363"></a>00363     <a class="code" href="namespace_o_t_d_b.html#afb84287c3be44ae1ed4edcecf4891447">DeclareInterface</a>(IStorable)
<a name="l00364"></a><a class="code" href="namespace_o_t_d_b.html#a1e3f1e24409d499a5b3eda997279579a">00364</a>         virtual <span class="keywordtype">bool</span> onPack(<a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a>&amp; theBuffer, <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>&amp; <a class="code" href="namespace_o_t_d_b.html#a1e3f1e24409d499a5b3eda997279579a">inObj</a>) = 0; <span class="comment">// buffer is output, inObj is input.</span>
<a name="l00365"></a>00365     virtual <span class="keywordtype">bool</span> <a class="code" href="namespace_o_t_d_b.html#a83e4bfc3499c301f484280128a09f317">onUnpack</a>(<a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a>&amp; theBuffer, <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>&amp; outObj) = 0; <span class="comment">// buffer is input, outObj is output.</span>
<a name="l00366"></a>00366     <span class="comment">// ------------------------------------------</span>
<a name="l00367"></a><a class="code" href="namespace_o_t_d_b.html#a79fd8fc5b32e010e51cc91cc16c81ed0">00367</a>     virtual <span class="keywordtype">void</span> <a class="code" href="namespace_o_t_d_b.html#a79fd8fc5b32e010e51cc91cc16c81ed0">hookBeforePack</a>() {} <span class="comment">// This is called just before packing a storable. (Opportunity to copy values...)</span>
<a name="l00368"></a><a class="code" href="namespace_o_t_d_b.html#a7efceaecb32b0fd5e7a3662bc0b24074">00368</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="namespace_o_t_d_b.html#a7efceaecb32b0fd5e7a3662bc0b24074">hookAfterUnpack</a>() {} <span class="comment">// This is called just after unpacking a storable. (Opportunity to copy values...)</span>
<a name="l00369"></a>00369     <a class="code" href="_o_t_storage_8hpp.html#ac0ceedcd53e5f9f4beaf84d04ca35ab1">EndInterface</a>
<a name="l00370"></a>00370 
<a name="l00371"></a>00371 <span class="preprocessor">#endif // (not) SWIG</span>
<a name="l00372"></a>00372 <span class="preprocessor"></span>
<a name="l00373"></a>00373     <span class="comment">// ********************************************************************</span>
<a name="l00374"></a>00374     <span class="comment">//</span>
<a name="l00375"></a>00375     <span class="comment">// use this without a semicolon:</span>
<a name="l00376"></a>00376     <span class="comment">//</span>
<a name="l00377"></a>00377 
<a name="l00378"></a>00378 <span class="preprocessor">#ifdef SWIG // swig version</span>
<a name="l00379"></a>00379 <span class="preprocessor"></span><span class="preprocessor">#define DEFINE_OT_DYNAMIC_CAST(CLASS_NAME_A) \</span>
<a name="l00380"></a>00380 <span class="preprocessor">    CLASS_NAME_A * clone () const { std::cerr &lt;&lt; &quot;********* THIS SHOULD NEVER HAPPEN!!!!! *****************&quot; &lt;&lt; std::endl; return NULL; } \</span>
<a name="l00381"></a>00381 <span class="preprocessor">    static CLASS_NAME_A *       ot_dynamic_cast(        Storable *pObject) { return dynamic_cast&lt;CLASS_NAME_A *&gt;(pObject); }</span>
<a name="l00382"></a>00382 <span class="preprocessor"></span><span class="comment">//  static const CLASS_NAME_A*  ot_dynamic_cast(const   Storable *pObject) { return dynamic_cast&lt;const CLASS_NAME_A *&gt;(pObject); }</span>
<a name="l00383"></a>00383 <span class="preprocessor">#endif // SWIG</span>
<a name="l00384"></a>00384 <span class="preprocessor"></span>
<a name="l00385"></a>00385 <span class="preprocessor">#ifndef SWIG // normal version</span>
<a name="l00386"></a><a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">00386</a> <span class="preprocessor"></span><span class="preprocessor">#define DEFINE_OT_DYNAMIC_CAST(CLASS_NAME) \</span>
<a name="l00387"></a>00387 <span class="preprocessor">    virtual CLASS_NAME * clone () const { std::cout &lt;&lt; &quot;********* THIS SHOULD NEVER HAPPEN!!!!! *****************&quot; &lt;&lt; std::endl; OT_FAIL; } \</span>
<a name="l00388"></a>00388 <span class="preprocessor">    static CLASS_NAME *         ot_dynamic_cast(        Storable *pObject) { return dynamic_cast&lt;CLASS_NAME *&gt;(pObject); }</span>
<a name="l00389"></a>00389 <span class="preprocessor"></span><span class="preprocessor">#endif // (not) SWIG</span>
<a name="l00390"></a>00390 <span class="preprocessor"></span>
<a name="l00391"></a>00391     <span class="comment">//  static const CLASS_NAME *   ot_dynamic_cast(const   Storable *pObject) { return dynamic_cast&lt;const T *&gt;(pObject); }</span>
<a name="l00392"></a>00392 
<a name="l00393"></a>00393 
<a name="l00394"></a>00394 
<a name="l00395"></a>00395         <span class="comment">// -------------------</span>
<a name="l00396"></a>00396         <span class="comment">//</span>
<a name="l00397"></a>00397         <span class="comment">// STORABLE</span>
<a name="l00398"></a>00398         <span class="comment">//</span>
<a name="l00399"></a>00399         <span class="comment">// Abstract base class for OT serializable object types.</span>
<a name="l00400"></a>00400         <span class="comment">//</span>
<a name="l00401"></a><a class="code" href="class_o_t_d_b_1_1_storable.html">00401</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>
<a name="l00402"></a>00402     {
<a name="l00403"></a><a class="code" href="class_o_t_d_b_1_1_storable.html#ab647623b3295040f83d3afb2a502a223">00403</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_storage.html">Storage</a>; <span class="comment">// for instantiation of storable objects by their storage context.</span>
<a name="l00404"></a>00404 
<a name="l00405"></a>00405     <span class="keyword">protected</span>:
<a name="l00406"></a><a class="code" href="class_o_t_d_b_1_1_storable.html#a84ab3ce37f609bcd06780bca1d82687a">00406</a>         <a class="code" href="class_o_t_d_b_1_1_storable.html#a84ab3ce37f609bcd06780bca1d82687a">Storable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;Storable&quot;</span>; }
<a name="l00407"></a>00407 
<a name="l00408"></a><a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">00408</a>         std::string <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a>;
<a name="l00409"></a>00409     <span class="keyword">public</span>:
<a name="l00410"></a><a class="code" href="class_o_t_d_b_1_1_storable.html#ac549bf4e0e46d7074eac529edead1c25">00410</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_storable.html#ac549bf4e0e46d7074eac529edead1c25">~Storable</a>() {}
<a name="l00411"></a>00411 
<a name="l00412"></a>00412         <span class="comment">// %ignore spam(uint16_t); API users don&#39;t need this function, it&#39;s for internal purposes.</span>
<a name="l00413"></a>00413         EXPORT  <span class="keyword">static</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a> * <a class="code" href="class_o_t_d_b_1_1_storable.html#a35ce37a976709bb85fce7b9a3285b5af">Create</a>(<a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82">StoredObjectType</a> eType, <a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5">PackType</a> thePackType);
<a name="l00414"></a>00414 
<a name="l00415"></a>00415         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>)
<a name="l00416"></a>00416     };
<a name="l00417"></a>00417 
<a name="l00418"></a>00418 <span class="preprocessor">#ifndef SWIG</span>
<a name="l00419"></a>00419 <span class="preprocessor"></span>
<a name="l00420"></a>00420     <span class="comment">// ********************************************************************</span>
<a name="l00421"></a>00421 
<a name="l00422"></a>00422     <span class="comment">// PACKED BUFFER (for storing PACKED DATA)</span>
<a name="l00423"></a>00423     <span class="comment">//</span>
<a name="l00424"></a>00424     <span class="comment">// %ignore these classes (I think)</span>
<a name="l00425"></a>00425     <span class="comment">//</span>
<a name="l00426"></a>00426 
<a name="l00427"></a><a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">00427</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a>
<a name="l00428"></a>00428     {
<a name="l00429"></a>00429     <span class="keyword">protected</span>:
<a name="l00430"></a><a class="code" href="class_o_t_d_b_1_1_packed_buffer.html#a37e56b8362f363fd01ae1acfbc204ac3">00430</a>         <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html#a37e56b8362f363fd01ae1acfbc204ac3">PackedBuffer</a>() { } <span class="comment">// Only subclasses of this should be instantiated.</span>
<a name="l00431"></a>00431     <span class="keyword">public</span>:
<a name="l00432"></a><a class="code" href="class_o_t_d_b_1_1_packed_buffer.html#a43ccc5721253284ea7fead4808650eac">00432</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html#a43ccc5721253284ea7fead4808650eac">~PackedBuffer</a>() {}
<a name="l00433"></a>00433 
<a name="l00434"></a>00434         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html#a3ed08ed2228b6fc7e1eb1d8e761eed8c">PackString</a>(std::string&amp; theString)=0;
<a name="l00435"></a>00435         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html#ae496e3f978862c49d3403960199c1557">UnpackString</a>(std::string&amp; theString)=0;
<a name="l00436"></a>00436 
<a name="l00437"></a>00437         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html#a1abbd7c5cdb52c4f4b0b7d4a44e6822b">ReadFromIStream</a>(std::istream &amp;inStream, int64_t lFilesize)=0;
<a name="l00438"></a>00438         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html#a457fb8102e4bd0ca32201d8346e6a0a2">WriteToOStream</a>(std::ostream &amp;outStream)=0;
<a name="l00439"></a>00439 
<a name="l00440"></a>00440         <span class="keyword">virtual</span> <span class="keyword">const</span>   uint8_t *   <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html#a5fc68599bb27d14066abc0ada509e6b1">GetData</a>()=0;
<a name="l00441"></a>00441         <span class="keyword">virtual</span>         <span class="keywordtype">size_t</span>          <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html#ac1528fc43c64e1268eca83065c9e0c29">GetSize</a>()=0;
<a name="l00442"></a>00442 
<a name="l00443"></a>00443         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html#a2606072b6e318e2e6777904734a0578d">SetData</a>(<span class="keyword">const</span> uint8_t * pData, <span class="keywordtype">size_t</span> theSize)=0;
<a name="l00444"></a>00444     };
<a name="l00445"></a>00445 
<a name="l00446"></a>00446     <span class="comment">// --------------------------------</span>
<a name="l00447"></a>00447     <span class="comment">//</span>
<a name="l00448"></a>00448     <span class="comment">// SUBCLASSES (the actual declarations are at the bottom of this file.)</span>
<a name="l00449"></a>00449     <span class="comment">//</span>
<a name="l00450"></a>00450     <span class="comment">//  typedef PackedBufferSubclass&lt;PackerMsgpack, IStorableMsgpack,   msgpack::sbuffer&gt;   BufferMsgpack;</span>
<a name="l00451"></a>00451     <span class="comment">//  typedef PackedBufferSubclass&lt;PackerPB,      IStorablePB,        std::string&gt;        BufferPB;</span>
<a name="l00452"></a>00452     <span class="comment">//</span>
<a name="l00453"></a>00453     <span class="comment">// Coming soon:</span>
<a name="l00454"></a>00454     <span class="comment">//  typedef PackedBufferSubclass&lt;PackerJSON,    IStorableJSON,      std::string&gt;        BufferJSON;</span>
<a name="l00455"></a>00455     <span class="comment">//</span>
<a name="l00456"></a>00456     <span class="comment">// They&#39;re all based on this template:</span>
<a name="l00457"></a>00457     <span class="comment">//</span>
<a name="l00458"></a><a class="code" href="_o_t_storage_8hpp.html#af08f3c151214e88fb3d1a83f1048f899">00458</a> <span class="preprocessor">#define DECLARE_PACKED_BUFFER_SUBCLASS(theNewType, thePackerType, theInterfaceType, theInternalType) \</span>
<a name="l00459"></a>00459 <span class="preprocessor">    class theNewType : public PackedBuffer \</span>
<a name="l00460"></a>00460 <span class="preprocessor">    { \</span>
<a name="l00461"></a>00461 <span class="preprocessor">    friend class        thePackerType; \</span>
<a name="l00462"></a>00462 <span class="preprocessor">    friend OTInterface  theInterfaceType; \</span>
<a name="l00463"></a>00463 <span class="preprocessor">    theInternalType     m_buffer; \</span>
<a name="l00464"></a>00464 <span class="preprocessor">    public: \</span>
<a name="l00465"></a>00465 <span class="preprocessor">    theNewType() : PackedBuffer() {} \</span>
<a name="l00466"></a>00466 <span class="preprocessor">    virtual ~theNewType() {} \</span>
<a name="l00467"></a>00467 <span class="preprocessor">    virtual bool PackString(std::string&amp; theString); \</span>
<a name="l00468"></a>00468 <span class="preprocessor">    virtual bool UnpackString(std::string&amp; theString); \</span>
<a name="l00469"></a>00469 <span class="preprocessor">    virtual bool ReadFromIStream(std::istream &amp;inStream, int64_t lFilesize); \</span>
<a name="l00470"></a>00470 <span class="preprocessor">    virtual bool WriteToOStream(std::ostream &amp;outStream); \</span>
<a name="l00471"></a>00471 <span class="preprocessor">    virtual const   uint8_t *   GetData(); \</span>
<a name="l00472"></a>00472 <span class="preprocessor">    virtual         size_t          GetSize(); \</span>
<a name="l00473"></a>00473 <span class="preprocessor">    virtual void SetData(const uint8_t * pData, size_t theSize); \</span>
<a name="l00474"></a>00474 <span class="preprocessor">    theInternalType &amp; GetBuffer() { return m_buffer; } \</span>
<a name="l00475"></a>00475 <span class="preprocessor">    }</span>
<a name="l00476"></a>00476 <span class="preprocessor"></span>
<a name="l00477"></a>00477     <span class="comment">// ********************************************************************</span>
<a name="l00478"></a>00478 
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 
<a name="l00481"></a>00481     <span class="comment">// ********************************************************************</span>
<a name="l00482"></a>00482 
<a name="l00483"></a>00483     <span class="comment">// PACKER (now OTPacker since MsgPack also has a &quot;Packer&quot; in a #define).</span>
<a name="l00484"></a>00484     <span class="comment">//</span>
<a name="l00485"></a>00485     <span class="comment">// abstract base class for a packer</span>
<a name="l00486"></a>00486     <span class="comment">//</span>
<a name="l00487"></a>00487 
<a name="l00488"></a>00488     <span class="comment">// %ignore spam(uint16_t);  (probably for all packers.)</span>
<a name="l00489"></a><a class="code" href="class_o_t_d_b_1_1_o_t_packer.html">00489</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_o_t_packer.html">OTPacker</a>
<a name="l00490"></a>00490     {
<a name="l00491"></a>00491     <span class="keyword">protected</span>:
<a name="l00492"></a><a class="code" href="class_o_t_d_b_1_1_o_t_packer.html#ad9dfa2a295a4de865679d9b9b58bdd6b">00492</a>         <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html#ad9dfa2a295a4de865679d9b9b58bdd6b">OTPacker</a>() { }  <span class="comment">// To instantiate: OTPacker * pPacker = OTPacker::Create(OTDB_DEFAULT_PACKER);</span>
<a name="l00493"></a>00493 
<a name="l00494"></a>00494     <span class="keyword">public</span>:
<a name="l00495"></a><a class="code" href="class_o_t_d_b_1_1_o_t_packer.html#a4ad1da9ce7a0d0d2d300875658e89d71">00495</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html#a4ad1da9ce7a0d0d2d300875658e89d71">~OTPacker</a>() {}
<a name="l00496"></a>00496 
<a name="l00497"></a>00497         <span class="keyword">static</span> <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html">OTPacker</a> * <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html#a66b1f44c2d28e2b17e52bac4cd8b2658">Create</a>(<a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5">PackType</a> ePackType); <span class="comment">// Factory.</span>
<a name="l00498"></a>00498 
<a name="l00499"></a>00499         <a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5">PackType</a> <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html#a5b4324c04ee4549a07a442231c40f88e">GetType</a>() <span class="keyword">const</span>;
<a name="l00500"></a>00500 
<a name="l00501"></a>00501         <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a> *  <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html#a67bd4a569fa37ffdcd0b0ae429b69fe1">Pack</a>(<a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>&amp; <a class="code" href="namespace_o_t_d_b.html#a1e3f1e24409d499a5b3eda997279579a">inObj</a>);
<a name="l00502"></a>00502         EXPORT  <span class="keywordtype">bool</span>    <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html#a2e3ce402e77d0cbeb4b4507b24f51cf0">Unpack</a>(<a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a>&amp; inBuf, <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>&amp; outObj);
<a name="l00503"></a>00503 
<a name="l00504"></a>00504         <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a> *  <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html#a67bd4a569fa37ffdcd0b0ae429b69fe1">Pack</a>(std::string&amp; <a class="code" href="namespace_o_t_d_b.html#a1e3f1e24409d499a5b3eda997279579a">inObj</a>);
<a name="l00505"></a>00505         <span class="keywordtype">bool</span>            <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html#a2e3ce402e77d0cbeb4b4507b24f51cf0">Unpack</a>(<a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a>&amp; inBuf, std::string&amp; outObj);
<a name="l00506"></a>00506 
<a name="l00507"></a>00507         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a> * <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html#a0782e21522b9971ffc30c5b96c227270">CreateBuffer</a>()=0;
<a name="l00508"></a>00508     };
<a name="l00509"></a>00509 
<a name="l00510"></a>00510 
<a name="l00511"></a>00511     <span class="comment">// ----------------------------------------------------</span>
<a name="l00512"></a>00512     <span class="comment">// For declaring subclasses of OTPacker.</span>
<a name="l00513"></a>00513 
<a name="l00514"></a>00514     <span class="keyword">template</span>&lt;<span class="keyword">class</span> theBufferType&gt;
<a name="l00515"></a><a class="code" href="class_o_t_d_b_1_1_packer_subclass.html">00515</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_packer_subclass.html">PackerSubclass</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html">OTPacker</a>
<a name="l00516"></a>00516     {
<a name="l00517"></a>00517     <span class="keyword">public</span>:
<a name="l00518"></a><a class="code" href="class_o_t_d_b_1_1_packer_subclass.html#a1a65fa920cf0fded75b7bf890577383c">00518</a>         <a class="code" href="class_o_t_d_b_1_1_packer_subclass.html#a1a65fa920cf0fded75b7bf890577383c">PackerSubclass</a>() : <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html">OTPacker</a>() {}
<a name="l00519"></a><a class="code" href="class_o_t_d_b_1_1_packer_subclass.html#abbca6c1f7040979057581da39abb4899">00519</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_packer_subclass.html#abbca6c1f7040979057581da39abb4899">~PackerSubclass</a>() {}
<a name="l00520"></a>00520 
<a name="l00521"></a><a class="code" href="class_o_t_d_b_1_1_packer_subclass.html#ae720b231889f9d34a5a9e580cda9ec16">00521</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a> * <a class="code" href="class_o_t_d_b_1_1_packer_subclass.html#ae720b231889f9d34a5a9e580cda9ec16">CreateBuffer</a>() { <span class="keywordflow">return</span> <span class="keyword">new</span> theBufferType; }
<a name="l00522"></a>00522 
<a name="l00523"></a>00523         <span class="comment">// You don&#39;t see onPack and onUnpack here because they are on IStorable.</span>
<a name="l00524"></a>00524     };
<a name="l00525"></a>00525 
<a name="l00526"></a>00526     <span class="comment">// To use:</span>
<a name="l00527"></a>00527     <span class="comment">// typedef PackerSubclass&lt;theBufferType&gt; theType;</span>
<a name="l00528"></a>00528     <span class="comment">//</span>
<a name="l00529"></a>00529     <span class="comment">// ----------------------------------------------------</span>
<a name="l00530"></a>00530 
<a name="l00531"></a>00531     <span class="comment">// SUBCLASSES:</span>
<a name="l00532"></a>00532     <span class="comment">//</span>
<a name="l00533"></a>00533     <span class="comment">// (Actual declarations are at the bottom of the file.)</span>
<a name="l00534"></a>00534     <span class="comment">//</span>
<a name="l00535"></a>00535     <span class="comment">//  typedef PackerSubclass&lt;BufferMsgpack&gt;   PackerMsgpack;</span>
<a name="l00536"></a>00536     <span class="comment">//  typedef PackerSubclass&lt;BufferPB&gt;        PackerPB;</span>
<a name="l00537"></a>00537     <span class="comment">//</span>
<a name="l00538"></a>00538     <span class="comment">// Coming soon:</span>
<a name="l00539"></a>00539     <span class="comment">//  typedef PackerSubclass&lt;BufferJSON&gt;      PackerJSON;</span>
<a name="l00540"></a>00540     <span class="comment">//</span>
<a name="l00541"></a>00541     <span class="comment">// ********************************************************************</span>
<a name="l00542"></a>00542 
<a name="l00543"></a>00543 
<a name="l00544"></a>00544 
<a name="l00545"></a>00545 <span class="preprocessor">#endif</span>
<a name="l00546"></a>00546 <span class="preprocessor"></span>    <span class="comment">// ********************************************************************</span>
<a name="l00547"></a>00547     <span class="comment">//</span>
<a name="l00548"></a>00548     <span class="comment">// STORAGE  -- abstract base class</span>
<a name="l00549"></a>00549     <span class="comment">//</span>
<a name="l00550"></a>00550     <span class="comment">//</span>
<a name="l00551"></a><a class="code" href="class_o_t_d_b_1_1_storage.html">00551</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_storage.html">Storage</a>
<a name="l00552"></a>00552     {
<a name="l00553"></a>00553     <span class="keyword">private</span>:
<a name="l00554"></a>00554         <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html">OTPacker</a> * m_pPacker;
<a name="l00555"></a>00555 
<a name="l00556"></a>00556     <span class="keyword">protected</span>:
<a name="l00557"></a><a class="code" href="class_o_t_d_b_1_1_storage.html#a5ae0975b59302af5db60a07fe62a8866">00557</a>         <a class="code" href="class_o_t_d_b_1_1_storage.html#a5ae0975b59302af5db60a07fe62a8866">Storage</a>() : m_pPacker(NULL) {}
<a name="l00558"></a>00558 
<a name="l00559"></a><a class="code" href="class_o_t_d_b_1_1_storage.html#a6a4746026fab425c763b4e3bc96fa9ad">00559</a>         <a class="code" href="class_o_t_d_b_1_1_storage.html#a6a4746026fab425c763b4e3bc96fa9ad">Storage</a>(<span class="keyword">const</span> <a class="code" href="class_o_t_d_b_1_1_storage.html">Storage</a> &amp; rhs) : m_pPacker(NULL) { } <span class="comment">// We don&#39;t want to copy the pointer. Let it create its own.</span>
<a name="l00560"></a>00560 
<a name="l00561"></a>00561         <span class="comment">// This is called once, in the factory.</span>
<a name="l00562"></a><a class="code" href="class_o_t_d_b_1_1_storage.html#a452d642f457d60fd7594b79f83711458">00562</a>         <span class="keywordtype">void</span> <a class="code" href="class_o_t_d_b_1_1_storage.html#a452d642f457d60fd7594b79f83711458">SetPacker</a>(<a class="code" href="class_o_t_d_b_1_1_o_t_packer.html">OTPacker</a> &amp; thePacker) { <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL == m_pPacker); m_pPacker =  &amp;thePacker; }
<a name="l00563"></a>00563 
<a name="l00564"></a>00564         <span class="comment">// ********************************************************</span>
<a name="l00565"></a>00565         <span class="comment">// OVERRIDABLES</span>
<a name="l00566"></a>00566         <span class="comment">//</span>
<a name="l00567"></a>00567         <span class="comment">// If you wish to MAKE YOUR OWN subclass of Storage (to provide your own storage system)</span>
<a name="l00568"></a>00568         <span class="comment">// then just subclass OTDB::Storage, and override the below methods. For an example of how</span>
<a name="l00569"></a>00569         <span class="comment">// it&#39;s done, see StorageFS (filesystem), which is included below and in OTStorage.cpp.</span>
<a name="l00570"></a>00570         <span class="comment">//</span>
<a name="l00571"></a>00571         <span class="comment">// NOTE: This should be possible even in other languages! I&#39;m using SWIG directors, meaning</span>
<a name="l00572"></a>00572         <span class="comment">// that you can make a Java subclass of OTDB::Storage, or a Python subclass, etc. This isn&#39;t</span>
<a name="l00573"></a>00573         <span class="comment">// possible with the other classes in OTStorage (yet), which must be subclassed in C++. But</span>
<a name="l00574"></a>00574         <span class="comment">// for this class, it is.</span>
<a name="l00575"></a>00575         <span class="comment">//</span>
<a name="l00576"></a>00576         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage.html#a602c7c49e4fba4fa31b235c8449df641">onStorePackedBuffer</a>(<a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a> &amp; theBuffer, std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00577"></a>00577             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>)=0;
<a name="l00578"></a>00578 
<a name="l00579"></a>00579         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage.html#a2aa1ed8d2f7aa00dda6b1d6d2eba8dd7">onQueryPackedBuffer</a>(<a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a> &amp; theBuffer, std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00580"></a>00580             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>)=0;
<a name="l00581"></a>00581 
<a name="l00582"></a>00582         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage.html#a0e437e176d378d0a0df6de71557997da">onStorePlainString</a>(std::string &amp; theBuffer, std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00583"></a>00583             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>)=0;
<a name="l00584"></a>00584 
<a name="l00585"></a>00585         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage.html#a280e22d02a13a007cac289c863dfa477">onQueryPlainString</a>(std::string &amp; theBuffer, std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00586"></a>00586             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>)=0;
<a name="l00587"></a>00587 
<a name="l00588"></a>00588         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage.html#a2c7ec7f4a2f5b9b6b7de8e9d14f0ff7d">onEraseValueByKey</a>(std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00589"></a>00589             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>)=0;
<a name="l00590"></a>00590 
<a name="l00591"></a>00591         <span class="comment">// -------------------------------------</span>
<a name="l00592"></a>00592 
<a name="l00593"></a>00593     <span class="keyword">public</span>:
<a name="l00594"></a>00594         <span class="comment">// Use GetPacker() to access the Packer, throughout duration of this Storage object.</span>
<a name="l00595"></a>00595         <span class="comment">// If it doesn&#39;t exist yet, this function will create it on the first call. (The</span>
<a name="l00596"></a>00596         <span class="comment">// parameter allows you the choose what type will be created, other than default.)</span>
<a name="l00597"></a>00597         <span class="comment">//</span>
<a name="l00598"></a>00598         <span class="comment">// This way, whenever using an OT Storage, you KNOW the packer is always the right</span>
<a name="l00599"></a>00599         <span class="comment">// one, and that you don&#39;t have to fiddle with it at all. You can also therefore use</span>
<a name="l00600"></a>00600         <span class="comment">// it for creating instances of various Storables and PackedBuffers, and knowing</span>
<a name="l00601"></a>00601         <span class="comment">// that the right types will be instantiated automatically, with the buffer being</span>
<a name="l00602"></a>00602         <span class="comment">// the appropriate subclass for the packer.</span>
<a name="l00603"></a>00603         <span class="comment">//</span>
<a name="l00604"></a>00604         EXPORT      <a class="code" href="class_o_t_d_b_1_1_o_t_packer.html">OTPacker</a> * <a class="code" href="class_o_t_d_b_1_1_storage.html#a693564a7129d4c08f739a398929e83c6">GetPacker</a>(<a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5">PackType</a> ePackType = <a class="code" href="_o_t_storage_8hpp.html#aae47b801ed98c155ad4705c110987b25">OTDB_DEFAULT_PACKER</a>);
<a name="l00605"></a>00605 
<a name="l00606"></a>00606 
<a name="l00607"></a>00607         <span class="comment">//virtual bool Init(std::string oneStr=&quot;&quot;, std::string twoStr=&quot;&quot;, std::string threeStr=&quot;&quot;,</span>
<a name="l00608"></a>00608         <span class="comment">//                std::string fourStr=&quot;&quot;, std::string fiveStr=&quot;&quot;, std::string sixStr=&quot;&quot;)=0;</span>
<a name="l00609"></a>00609 
<a name="l00610"></a>00610         <span class="comment">// -----------------------------------------</span>
<a name="l00611"></a>00611         <span class="comment">// See if the file is there.</span>
<a name="l00612"></a>00612         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage.html#a673cc44af5ff1d1f554448f6c071cf52">Exists</a>(std::string strFolder,
<a name="l00613"></a>00613             std::string oneStr=<span class="stringliteral">&quot;&quot;</span>, std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>)=0;
<a name="l00614"></a>00614 
<a name="l00615"></a>00615         <span class="keyword">virtual</span> int64_t <a class="code" href="class_o_t_d_b_1_1_storage.html#a56e44bd61118076a29a663ac6736c170">FormPathString</a>(std::string &amp; strOutput,
<a name="l00616"></a>00616                                     std::string   strFolder,   std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00617"></a>00617                                     std::string   twoStr=<span class="stringliteral">&quot;&quot;</span>,   std::string threeStr=<span class="stringliteral">&quot;&quot;</span>)=0;
<a name="l00618"></a>00618 
<a name="l00619"></a>00619         <span class="comment">// ********************************************************</span>
<a name="l00620"></a>00620 
<a name="l00621"></a><a class="code" href="class_o_t_d_b_1_1_storage.html#ad2935f257da1cf442977e4ab0dd39df2">00621</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_storage.html#ad2935f257da1cf442977e4ab0dd39df2">~Storage</a>() { <span class="keywordflow">if</span> (NULL != m_pPacker) <span class="keyword">delete</span> m_pPacker; m_pPacker = NULL; }
<a name="l00622"></a>00622 
<a name="l00623"></a>00623         <span class="comment">// -----------------------------------------</span>
<a name="l00624"></a>00624         <span class="comment">// Store/Retrieve a string.</span>
<a name="l00625"></a>00625 
<a name="l00626"></a>00626         EXPORT      <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage.html#a0f9e6a3496dd3d11a845d8d990bef211">StoreString</a>(std::string strContents, std::string strFolder,
<a name="l00627"></a>00627             std::string oneStr=<span class="stringliteral">&quot;&quot;</span>, std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00628"></a>00628 
<a name="l00629"></a>00629         EXPORT      std::string <a class="code" href="class_o_t_d_b_1_1_storage.html#a96d2b2f3d03cee30a6d0c6947c7a0fac">QueryString</a>(std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00630"></a>00630             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00631"></a>00631 
<a name="l00632"></a>00632         EXPORT      <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage.html#aa65f18e1cc6a7e6cf117e4ba10d81612">StorePlainString</a>(std::string strContents, std::string strFolder,
<a name="l00633"></a>00633             std::string oneStr=<span class="stringliteral">&quot;&quot;</span>, std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00634"></a>00634 
<a name="l00635"></a>00635         EXPORT      std::string <a class="code" href="class_o_t_d_b_1_1_storage.html#a5d4c09862e7067ea0280db758a7e7324">QueryPlainString</a>(std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00636"></a>00636             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00637"></a>00637 
<a name="l00638"></a>00638         <span class="comment">// -----------------------------------------</span>
<a name="l00639"></a>00639         <span class="comment">// Store/Retrieve an object. (Storable.)</span>
<a name="l00640"></a>00640 
<a name="l00641"></a>00641         EXPORT      <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage.html#a8e54119f93134acde9b6072f61e16e1b">StoreObject</a>(<a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a> &amp; theContents, std::string strFolder,
<a name="l00642"></a>00642             std::string oneStr=<span class="stringliteral">&quot;&quot;</span>, std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00643"></a>00643 
<a name="l00644"></a>00644         <span class="comment">// Use %newobject OTDB::Storage::QueryObject();</span>
<a name="l00645"></a>00645         EXPORT      <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a> * <a class="code" href="class_o_t_d_b_1_1_storage.html#acb4fbcf9c61d36f7e4c6f6ef23812cfb">QueryObject</a>(<a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82">StoredObjectType</a> theObjectType,
<a name="l00646"></a>00646             std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00647"></a>00647             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00648"></a>00648         <span class="comment">// -----------------------------------------</span>
<a name="l00649"></a>00649         <span class="comment">// Store/Retrieve a Storable object inside an OTASCIIArmor object.</span>
<a name="l00650"></a>00650 
<a name="l00651"></a>00651         EXPORT      std::string <a class="code" href="class_o_t_d_b_1_1_storage.html#a556f849aec75ad90b4a65367fdf64fc1">EncodeObject</a>(<a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a> &amp; theContents);
<a name="l00652"></a>00652 
<a name="l00653"></a>00653         <span class="comment">// Use %newobject OTDB::Storage::DecodeObject();</span>
<a name="l00654"></a>00654         EXPORT      <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a> * <a class="code" href="class_o_t_d_b_1_1_storage.html#aad0915815731eb6fae855201ad2e546e">DecodeObject</a>(<a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82">StoredObjectType</a> theObjectType, std::string strInput);
<a name="l00655"></a>00655 
<a name="l00656"></a>00656         <span class="comment">// -----------------------------------------</span>
<a name="l00657"></a>00657         <span class="comment">// Erase any value based on its location.</span>
<a name="l00658"></a>00658 
<a name="l00659"></a>00659         EXPORT      <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage.html#ad1a20354a3bf349b33ea8ce9b0db0d64">EraseValueByKey</a>(std::string strFolder,
<a name="l00660"></a>00660             std::string oneStr=<span class="stringliteral">&quot;&quot;</span>, std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00661"></a>00661 
<a name="l00662"></a>00662         <span class="comment">// --------------------------</span>
<a name="l00663"></a>00663         <span class="comment">// Note:</span>
<a name="l00664"></a>00664         <span class="comment">// Make sure to use: %newobject Factory::createObj();  IN OTAPI.i file!</span>
<a name="l00665"></a>00665         <span class="comment">//</span>
<a name="l00666"></a>00666         <span class="comment">// That way, Java garbage cleanup will handle object after this.</span>
<a name="l00667"></a>00667         <span class="comment">// (Instead of leaking because it thinks C++ will clean it up.)</span>
<a name="l00668"></a>00668         <span class="comment">//</span>
<a name="l00669"></a>00669         <span class="comment">// Factory for Storable objects.   %newobject Factory::createObj();</span>
<a name="l00670"></a>00670         EXPORT      <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a> * <a class="code" href="class_o_t_d_b_1_1_storage.html#af62d7242fc913271e2fe6bb8a1f83058">CreateObject</a>(<a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82">StoredObjectType</a> eType);
<a name="l00671"></a>00671 
<a name="l00672"></a>00672         <span class="comment">// --------------------------</span>
<a name="l00673"></a>00673 
<a name="l00674"></a>00674         <span class="comment">// Factory for Storage itself.  %ignore this in OTAPI.i  (It&#39;s accessed through</span>
<a name="l00675"></a>00675         <span class="comment">// a namespace-level function, whereas this is for internal purposes.)</span>
<a name="l00676"></a>00676         <span class="comment">//</span>
<a name="l00677"></a>00677         EXPORT      <span class="keyword">static</span> <a class="code" href="class_o_t_d_b_1_1_storage.html">Storage</a> * <a class="code" href="class_o_t_d_b_1_1_storage.html#a199a7b1ff81c4b21313c56f87c335cf8">Create</a>(<a class="code" href="namespace_o_t_d_b.html#a01f7a249e866aac35580c7cf503a3223">StorageType</a> eStorageType, <a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5">PackType</a> ePackType); <span class="comment">// FACTORY</span>
<a name="l00678"></a>00678 
<a name="l00679"></a>00679         EXPORT      <a class="code" href="namespace_o_t_d_b.html#a01f7a249e866aac35580c7cf503a3223">StorageType</a> <a class="code" href="class_o_t_d_b_1_1_storage.html#adb711f92bb67369948e681e94ed9d4dd">GetType</a>() <span class="keyword">const</span>;
<a name="l00680"></a>00680     };
<a name="l00681"></a>00681 
<a name="l00682"></a>00682 
<a name="l00683"></a>00683     <span class="comment">// ********************************************************************</span>
<a name="l00684"></a>00684     <span class="comment">//</span>
<a name="l00685"></a>00685     <span class="comment">// OTDB Namespace PUBLIC INTERFACE</span>
<a name="l00686"></a>00686     <span class="comment">//</span>
<a name="l00687"></a>00687     <span class="comment">//</span>
<a name="l00688"></a>00688 
<a name="l00689"></a>00689 
<a name="l00690"></a>00690     EXPORT  <span class="keywordtype">bool</span> <a class="code" href="namespace_o_t_d_b.html#a346935608a31e0f724d839833e90e2f1">InitDefaultStorage</a>(<a class="code" href="namespace_o_t_d_b.html#a01f7a249e866aac35580c7cf503a3223">StorageType</a> eStoreType, <a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5">PackType</a> ePackType);
<a name="l00691"></a>00691 
<a name="l00692"></a>00692     <span class="comment">// Default Storage instance:</span>
<a name="l00693"></a>00693     EXPORT  Storage  * <a class="code" href="namespace_o_t_d_b.html#acd05e317915b73ee26869659969dad02">GetDefaultStorage</a>();
<a name="l00694"></a>00694 
<a name="l00695"></a>00695     <span class="comment">// %newobject Factory::createObj();</span>
<a name="l00696"></a>00696     EXPORT  Storage  * <a class="code" href="namespace_o_t_d_b.html#a3af778a359c13662533b61d7a61379ac">CreateStorageContext</a>(<a class="code" href="namespace_o_t_d_b.html#a01f7a249e866aac35580c7cf503a3223">StorageType</a> eStoreType, <a class="code" href="namespace_o_t_d_b.html#a0275877dfa1cfe22f9a66b87393cf1e5">PackType</a> ePackType=<a class="code" href="_o_t_storage_8hpp.html#aae47b801ed98c155ad4705c110987b25">OTDB_DEFAULT_PACKER</a>);
<a name="l00697"></a>00697 
<a name="l00698"></a>00698     EXPORT  Storable * <a class="code" href="namespace_o_t_d_b.html#a67b35ca5812604fb3e1eae2b659f66ee">CreateObject</a>(<a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82">StoredObjectType</a> eType);
<a name="l00699"></a>00699 
<a name="l00700"></a>00700     <span class="comment">// bool bSuccess = OTDB::StoreString(strInbox, &quot;inbox&quot;, &quot;lkjsdf908w345ljkvd&quot;);</span>
<a name="l00701"></a>00701     <span class="comment">// bool bSuccess = OTDB::StoreString(strMint,  &quot;mints&quot;, SERVER_ID, ASSET_ID);</span>
<a name="l00702"></a>00702     <span class="comment">// bool bSuccess = OTDB::StoreString(strPurse, &quot;purse&quot;, SERVER_ID, USER_ID, ASSET_ID);</span>
<a name="l00703"></a>00703 
<a name="l00704"></a>00704     <span class="comment">// BELOW FUNCTIONS use the DEFAULT Storage context for the OTDB Namespace</span>
<a name="l00705"></a>00705 
<a name="l00706"></a>00706     <span class="comment">// --------</span>
<a name="l00707"></a>00707     <span class="comment">// Check if the values are good.</span>
<a name="l00708"></a>00708     <span class="comment">//</span>
<a name="l00709"></a>00709     EXPORT  <span class="keywordtype">bool</span> <a class="code" href="namespace_o_t_d_b.html#a01ff8ff5fd0d16fbe4fc93e7c34b9cad">CheckStringsExistInOrder</a>(std::string &amp; strFolder, std::string &amp; oneStr, std::string &amp; twoStr, std::string &amp; threeStr, <span class="keyword">const</span> <span class="keywordtype">char</span> * szFuncName = NULL);
<a name="l00710"></a>00710 
<a name="l00711"></a>00711     <span class="comment">// --------</span>
<a name="l00712"></a>00712     <span class="comment">// See if the file is there.</span>
<a name="l00713"></a>00713     <span class="comment">//</span>
<a name="l00714"></a>00714     EXPORT  <span class="keywordtype">bool</span> <a class="code" href="namespace_o_t_d_b.html#a73e39a590dfb64f63065821c6bbcd4c6">Exists</a>(std::string strFolder,
<a name="l00715"></a>00715         std::string oneStr=<span class="stringliteral">&quot;&quot;</span>, std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00716"></a>00716 
<a name="l00717"></a>00717     EXPORT  int64_t <a class="code" href="namespace_o_t_d_b.html#a9d57d84c76a32ea66608223cb8346a70">FormPathString</a>(std::string &amp; strOutput,
<a name="l00718"></a>00718                                 std::string   strFolder,   std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00719"></a>00719                                 std::string   twoStr=<span class="stringliteral">&quot;&quot;</span>,   std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00720"></a>00720     <span class="comment">// --------</span>
<a name="l00721"></a>00721     <span class="comment">// Store/Retrieve a string.</span>
<a name="l00722"></a>00722     <span class="comment">//</span>
<a name="l00723"></a>00723     EXPORT  <span class="keywordtype">bool</span> <a class="code" href="namespace_o_t_d_b.html#a11df09d4ccb13f30d3ae3aa13ca74cd7">StoreString</a>(std::string strContents, std::string strFolder,
<a name="l00724"></a>00724         std::string oneStr=<span class="stringliteral">&quot;&quot;</span>, std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00725"></a>00725 
<a name="l00726"></a>00726     EXPORT  std::string <a class="code" href="namespace_o_t_d_b.html#aabad94efd92eafd24a9a9f59e2a23678">QueryString</a>(std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00727"></a>00727         std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00728"></a>00728 
<a name="l00729"></a>00729     EXPORT  <span class="keywordtype">bool</span> <a class="code" href="namespace_o_t_d_b.html#a7ec0a905bba2c1c8ba5b1e873e12eab4">StorePlainString</a>(std::string strContents, std::string strFolder,
<a name="l00730"></a>00730         std::string oneStr=<span class="stringliteral">&quot;&quot;</span>, std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00731"></a>00731 
<a name="l00732"></a>00732     EXPORT  std::string <a class="code" href="namespace_o_t_d_b.html#a921d6f538de00f4e4297c25cf679f00a">QueryPlainString</a>(std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00733"></a>00733         std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00734"></a>00734 
<a name="l00735"></a>00735     <span class="comment">// --------</span>
<a name="l00736"></a>00736     <span class="comment">// Store/Retrieve an object. (Storable.)</span>
<a name="l00737"></a>00737     <span class="comment">//</span>
<a name="l00738"></a>00738     EXPORT  <span class="keywordtype">bool</span> <a class="code" href="namespace_o_t_d_b.html#a394420b02f48d3ebdfebb75d92a4d6dd">StoreObject</a>(Storable &amp; theContents, std::string strFolder,
<a name="l00739"></a>00739         std::string oneStr=<span class="stringliteral">&quot;&quot;</span>, std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00740"></a>00740 
<a name="l00741"></a>00741     <span class="comment">// Use %newobject OTDB::Storage::Query();</span>
<a name="l00742"></a>00742     EXPORT  Storable * <a class="code" href="namespace_o_t_d_b.html#aaf0caee055f843a828e3bac094321886">QueryObject</a>(<a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82">StoredObjectType</a> theObjectType,
<a name="l00743"></a>00743         std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00744"></a>00744         std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00745"></a>00745     <span class="comment">// -----------------------------------------</span>
<a name="l00746"></a>00746     <span class="comment">// Store/Retrieve a Storable object inside an OTASCIIArmor object.</span>
<a name="l00747"></a>00747 
<a name="l00748"></a>00748     EXPORT  std::string <a class="code" href="namespace_o_t_d_b.html#a3c8a8d4af889b2aa3458aac4365aa784">EncodeObject</a>(Storable &amp; theContents);
<a name="l00749"></a>00749 
<a name="l00750"></a>00750     <span class="comment">// Use %newobject OTDB::Storage::DecodeObject();</span>
<a name="l00751"></a>00751     EXPORT  Storable * <a class="code" href="namespace_o_t_d_b.html#a3c1cc3076ede1a1b6d78d1fea7de8cea">DecodeObject</a>(<a class="code" href="namespace_o_t_d_b.html#abce432e500285dde333e6f76f6fbde82">StoredObjectType</a> theObjectType, std::string strInput);
<a name="l00752"></a>00752 
<a name="l00753"></a>00753     <span class="comment">// -----------------------------------------</span>
<a name="l00754"></a>00754     <span class="comment">// Erase any value based on its location.</span>
<a name="l00755"></a>00755 
<a name="l00756"></a>00756     EXPORT    <span class="keywordtype">bool</span> <a class="code" href="namespace_o_t_d_b.html#ae1b1867b56bcf7d31a5926bcafade0b0">EraseValueByKey</a>(std::string strFolder,
<a name="l00757"></a>00757         std::string oneStr=<span class="stringliteral">&quot;&quot;</span>, std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l00758"></a>00758 
<a name="l00759"></a>00759     <span class="comment">// ********************************************************************</span>
<a name="l00760"></a>00760     <span class="comment">/*</span>
<a name="l00761"></a>00761 <span class="comment">    typedef template&lt;class T&gt;</span>
<a name="l00762"></a>00762 <span class="comment">    T * OT_DYNAMIC_CAST(Storable * pObject)</span>
<a name="l00763"></a>00763 <span class="comment">    {</span>
<a name="l00764"></a>00764 <span class="comment">        return dynamic_cast&lt;T *&gt;(pObject);</span>
<a name="l00765"></a>00765 <span class="comment">    }</span>
<a name="l00766"></a>00766 <span class="comment">    template&lt;class T&gt;</span>
<a name="l00767"></a>00767 <span class="comment">    const T * OT_DYNAMIC_CONST_CAST(const Storable * pObject)</span>
<a name="l00768"></a>00768 <span class="comment">    {</span>
<a name="l00769"></a>00769 <span class="comment">        return dynamic_cast&lt;const T *&gt;(pObject);</span>
<a name="l00770"></a>00770 <span class="comment">    }</span>
<a name="l00771"></a>00771 <span class="comment">    */</span>
<a name="l00772"></a>00772 
<a name="l00773"></a>00773 <span class="preprocessor">#ifdef SWIG // swig version</span>
<a name="l00774"></a>00774 <span class="preprocessor"></span><span class="preprocessor">#define DECLARE_GET_ADD_REMOVE(name) \</span>
<a name="l00775"></a>00775 <span class="preprocessor">    protected: \</span>
<a name="l00776"></a>00776 <span class="preprocessor">    std::deque&lt; stlplus::simple_ptr_clone&lt;name&gt; &gt; list_##name##s; \</span>
<a name="l00777"></a>00777 <span class="preprocessor">public: \</span>
<a name="l00778"></a>00778 <span class="preprocessor">    size_t Get##name##Count(); \</span>
<a name="l00779"></a>00779 <span class="preprocessor">    name * Get##name(size_t nIndex); \</span>
<a name="l00780"></a>00780 <span class="preprocessor">    bool Remove##name(size_t nIndex##name); \</span>
<a name="l00781"></a>00781 <span class="preprocessor">    bool Add##name(name &amp; disownObject)</span>
<a name="l00782"></a>00782 <span class="preprocessor"></span>
<a name="l00783"></a>00783 <span class="preprocessor">#endif // SWIG</span>
<a name="l00784"></a>00784 <span class="preprocessor"></span><span class="preprocessor">#ifndef SWIG</span>
<a name="l00785"></a>00785 <span class="preprocessor"></span>
<a name="l00786"></a><a class="code" href="_o_t_storage_8hpp.html#a97e369784881ab2df2d076eae1bbdea3">00786</a> <span class="preprocessor">#define DECLARE_GET_ADD_REMOVE(name) \</span>
<a name="l00787"></a>00787 <span class="preprocessor">protected: \</span>
<a name="l00788"></a>00788 <span class="preprocessor">    std::deque&lt; stlplus::simple_ptr_clone&lt;name&gt; &gt; list_##name##s; \</span>
<a name="l00789"></a>00789 <span class="preprocessor">public: \</span>
<a name="l00790"></a>00790 <span class="preprocessor">    EXPORT  size_t Get##name##Count(); \</span>
<a name="l00791"></a>00791 <span class="preprocessor">    EXPORT  name * Get##name(size_t nIndex); \</span>
<a name="l00792"></a>00792 <span class="preprocessor">    EXPORT  bool Remove##name(size_t nIndex##name); \</span>
<a name="l00793"></a>00793 <span class="preprocessor">    EXPORT  bool Add##name(name &amp; disownObject)</span>
<a name="l00794"></a>00794 <span class="preprocessor"></span><span class="preprocessor">#endif // (not) SWIG</span>
<a name="l00795"></a>00795 <span class="preprocessor"></span>
<a name="l00796"></a>00796 
<a name="l00797"></a>00797     <span class="comment">// Serialized types...</span>
<a name="l00798"></a>00798     <span class="comment">//</span>
<a name="l00799"></a>00799     <span class="comment">// Here the entire hierarchy focuses on the OT data itself.</span>
<a name="l00800"></a>00800     <span class="comment">// Later, subclasses are made providing the final implementation,</span>
<a name="l00801"></a>00801     <span class="comment">// based on the packer type. (Same for buffers.)</span>
<a name="l00802"></a>00802 
<a name="l00803"></a><a class="code" href="class_o_t_d_b_1_1_o_t_d_b_string.html">00803</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_o_t_d_b_string.html">OTDBString</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>
<a name="l00804"></a>00804     {
<a name="l00805"></a>00805         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l00806"></a>00806         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through the factory.</span>
<a name="l00807"></a>00807     <span class="keyword">protected</span>:
<a name="l00808"></a><a class="code" href="class_o_t_d_b_1_1_o_t_d_b_string.html#a9044d42b985962d0d709df02b72c0675">00808</a>         <a class="code" href="class_o_t_d_b_1_1_o_t_d_b_string.html#a9044d42b985962d0d709df02b72c0675">OTDBString</a>() : <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;OTDBString&quot;</span>; }
<a name="l00809"></a><a class="code" href="class_o_t_d_b_1_1_o_t_d_b_string.html#adfb3fd7f1db517253db3732d9aa81a1b">00809</a>         <a class="code" href="class_o_t_d_b_1_1_o_t_d_b_string.html#adfb3fd7f1db517253db3732d9aa81a1b">OTDBString</a>(<span class="keyword">const</span> std::string&amp; rhs) : <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>(), <a class="code" href="class_o_t_d_b_1_1_o_t_d_b_string.html#af89e99e188d7cfb2d89f6d52a2612d84">m_string</a>(rhs) { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;OTDBString&quot;</span>; } <span class="comment">// This is an abstract base class...so will this call ever actually happen?</span>
<a name="l00810"></a>00810 
<a name="l00811"></a>00811     <span class="keyword">public</span>:
<a name="l00812"></a><a class="code" href="class_o_t_d_b_1_1_o_t_d_b_string.html#a44066668df2891edfe82117a8842ff81">00812</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_o_t_d_b_string.html#a44066668df2891edfe82117a8842ff81">~OTDBString</a>() { }
<a name="l00813"></a>00813 
<a name="l00814"></a><a class="code" href="class_o_t_d_b_1_1_o_t_d_b_string.html#af89e99e188d7cfb2d89f6d52a2612d84">00814</a>         std::string <a class="code" href="class_o_t_d_b_1_1_o_t_d_b_string.html#af89e99e188d7cfb2d89f6d52a2612d84">m_string</a>;
<a name="l00815"></a>00815 
<a name="l00816"></a>00816         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_o_t_d_b_string.html">OTDBString</a>)
<a name="l00817"></a>00817     };
<a name="l00818"></a>00818 
<a name="l00819"></a>00819     <span class="comment">// ------------------------------------------------</span>
<a name="l00820"></a>00820 
<a name="l00821"></a>00821 
<a name="l00822"></a><a class="code" href="class_o_t_d_b_1_1_blob.html">00822</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_blob.html">Blob</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>
<a name="l00823"></a>00823     {
<a name="l00824"></a>00824         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l00825"></a>00825         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through the factory.</span>
<a name="l00826"></a>00826     <span class="keyword">protected</span>:
<a name="l00827"></a><a class="code" href="class_o_t_d_b_1_1_blob.html#a7498f4bb5756b4abd4e72c7ab57a90b3">00827</a>         <a class="code" href="class_o_t_d_b_1_1_blob.html#a7498f4bb5756b4abd4e72c7ab57a90b3">Blob</a>() : <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;Blob&quot;</span>; }
<a name="l00828"></a>00828 
<a name="l00829"></a>00829     <span class="keyword">public</span>:
<a name="l00830"></a><a class="code" href="class_o_t_d_b_1_1_blob.html#a4836d72ae29eba9323c320b604cc0138">00830</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_blob.html#a4836d72ae29eba9323c320b604cc0138">~Blob</a>() { }
<a name="l00831"></a>00831 
<a name="l00832"></a><a class="code" href="class_o_t_d_b_1_1_blob.html#aef69e5e930344bf2124733230bd320d5">00832</a>         std::vector&lt;uint8_t&gt; <a class="code" href="class_o_t_d_b_1_1_blob.html#aef69e5e930344bf2124733230bd320d5">m_memBuffer</a>; <span class="comment">// Where the actual binary data is stored, before packing.</span>
<a name="l00833"></a>00833 
<a name="l00834"></a>00834         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_blob.html">Blob</a>)
<a name="l00835"></a>00835     };
<a name="l00836"></a>00836 
<a name="l00837"></a>00837     <span class="comment">// ------------------------------------------------</span>
<a name="l00838"></a>00838 
<a name="l00839"></a>00839 
<a name="l00840"></a>00840     <span class="comment">// The most useful generic data object... a map of strings, key/value pairs.</span>
<a name="l00841"></a>00841     <span class="comment">//</span>
<a name="l00842"></a><a class="code" href="class_o_t_d_b_1_1_string_map.html">00842</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_string_map.html">StringMap</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>
<a name="l00843"></a>00843     {
<a name="l00844"></a>00844         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l00845"></a>00845         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through the factory.</span>
<a name="l00846"></a>00846     <span class="keyword">protected</span>:
<a name="l00847"></a><a class="code" href="class_o_t_d_b_1_1_string_map.html#a1046b9aa4e651ee0e05d58197929fff5">00847</a>         <a class="code" href="class_o_t_d_b_1_1_string_map.html#a1046b9aa4e651ee0e05d58197929fff5">StringMap</a>() : <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;StringMap&quot;</span>; }
<a name="l00848"></a>00848 
<a name="l00849"></a>00849     <span class="keyword">public</span>:
<a name="l00850"></a><a class="code" href="class_o_t_d_b_1_1_string_map.html#af25e916df9cea6b339545063fc61936c">00850</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_string_map.html#af25e916df9cea6b339545063fc61936c">~StringMap</a>() { }
<a name="l00851"></a>00851 
<a name="l00852"></a><a class="code" href="class_o_t_d_b_1_1_string_map.html#a460f2e551430c65fef4130576985a0ce">00852</a>         std::map&lt;std::string, std::string&gt; <a class="code" href="class_o_t_d_b_1_1_string_map.html#a460f2e551430c65fef4130576985a0ce">the_map</a>;  <span class="comment">// all strings, key/value pairs.</span>
<a name="l00853"></a>00853 
<a name="l00854"></a><a class="code" href="class_o_t_d_b_1_1_string_map.html#a62d93725398feb9c58fe618b8798485a">00854</a>         <span class="keywordtype">void</span> <a class="code" href="class_o_t_d_b_1_1_string_map.html#a62d93725398feb9c58fe618b8798485a">SetValue</a>(<span class="keyword">const</span> std::string&amp; strKey, <span class="keyword">const</span> std::string&amp; strValue)
<a name="l00855"></a>00855         { std::map&lt;std::string, std::string&gt;::iterator ii = <a class="code" href="class_o_t_d_b_1_1_string_map.html#a460f2e551430c65fef4130576985a0ce">the_map</a>.find(strKey);
<a name="l00856"></a>00856         <span class="keywordflow">if</span> (ii != <a class="code" href="class_o_t_d_b_1_1_string_map.html#a460f2e551430c65fef4130576985a0ce">the_map</a>.end()) <a class="code" href="class_o_t_d_b_1_1_string_map.html#a460f2e551430c65fef4130576985a0ce">the_map</a>.erase(ii); <a class="code" href="class_o_t_d_b_1_1_string_map.html#a460f2e551430c65fef4130576985a0ce">the_map</a>[strKey] = strValue; }
<a name="l00857"></a>00857 
<a name="l00858"></a><a class="code" href="class_o_t_d_b_1_1_string_map.html#aeb661ea856279e108fa10677b3f63939">00858</a>         std::string <a class="code" href="class_o_t_d_b_1_1_string_map.html#aeb661ea856279e108fa10677b3f63939">GetValue</a>(<span class="keyword">const</span> std::string&amp; strKey)
<a name="l00859"></a>00859         { std::string ret_val(<span class="stringliteral">&quot;&quot;</span>); std::map&lt;std::string, std::string&gt;::iterator ii = <a class="code" href="class_o_t_d_b_1_1_string_map.html#a460f2e551430c65fef4130576985a0ce">the_map</a>.find(strKey);
<a name="l00860"></a>00860         <span class="keywordflow">if</span> (ii != <a class="code" href="class_o_t_d_b_1_1_string_map.html#a460f2e551430c65fef4130576985a0ce">the_map</a>.end()) ret_val = (*ii).second; <span class="keywordflow">return</span> ret_val; }
<a name="l00861"></a>00861 
<a name="l00862"></a>00862         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_string_map.html">StringMap</a>)
<a name="l00863"></a>00863     };
<a name="l00864"></a>00864 
<a name="l00865"></a>00865     <span class="comment">// ------------------------------------------------</span>
<a name="l00866"></a>00866 
<a name="l00867"></a><a class="code" href="class_o_t_d_b_1_1_displayable.html">00867</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>
<a name="l00868"></a>00868     {
<a name="l00869"></a>00869         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l00870"></a>00870         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through the factory.</span>
<a name="l00871"></a>00871     <span class="keyword">protected</span>:
<a name="l00872"></a><a class="code" href="class_o_t_d_b_1_1_displayable.html#a8ff480e9af9690dbd080e23c06fd7286">00872</a>         <a class="code" href="class_o_t_d_b_1_1_displayable.html#a8ff480e9af9690dbd080e23c06fd7286">Displayable</a>() : <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;Displayable&quot;</span>; }
<a name="l00873"></a>00873 
<a name="l00874"></a>00874     <span class="keyword">public</span>:
<a name="l00875"></a><a class="code" href="class_o_t_d_b_1_1_displayable.html#a6519c6fbd145b9214e864889754f5b4e">00875</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a6519c6fbd145b9214e864889754f5b4e">~Displayable</a>() { }
<a name="l00876"></a>00876 
<a name="l00877"></a><a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">00877</a>         std::string <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l00878"></a>00878 
<a name="l00879"></a>00879         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>)
<a name="l00880"></a>00880     };
<a name="l00881"></a>00881 
<a name="l00882"></a>00882     <span class="comment">// *************************************************</span>
<a name="l00883"></a>00883 
<a name="l00884"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html">00884</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_market_data.html">MarketData</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>
<a name="l00885"></a>00885     {
<a name="l00886"></a>00886         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l00887"></a>00887         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l00888"></a>00888     <span class="keyword">protected</span>:
<a name="l00889"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#ac23cf6a13f5b1b526454ded22c5dfda9">00889</a>         <a class="code" href="class_o_t_d_b_1_1_market_data.html#ac23cf6a13f5b1b526454ded22c5dfda9">MarketData</a>() : <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>(),
<a name="l00890"></a>00890             <a class="code" href="class_o_t_d_b_1_1_market_data.html#a76e9d00702cfa1284813a1c45fc9d91b">scale</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_market_data.html#ae4136bf50fadeb1cc3e4230add9aca7c">total_assets</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_market_data.html#ab60c0a4fbf6fca65c9040a52b57054ea">number_bids</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_market_data.html#a07d21103b5c195f9cb5b618a3eac88e7">last_sale_price</a>(<span class="stringliteral">&quot;0&quot;</span>),
<a name="l00891"></a>00891             <a class="code" href="class_o_t_d_b_1_1_market_data.html#a34e5138f9d4a2c77bfd646f4ecce6845">current_bid</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_market_data.html#aae01cd5fa908b576bc2309ff4bc28ff4">current_ask</a>(<span class="stringliteral">&quot;0&quot;</span>),
<a name="l00892"></a>00892             <a class="code" href="class_o_t_d_b_1_1_market_data.html#a823d19a06f9a9026590c3a16d03a4e42">volume_trades</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_market_data.html#a3c6706f11df7830779d6fc3de90cb719">volume_assets</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_market_data.html#adbf62c270d8a2a84994a0222773e3389">volume_currency</a>(<span class="stringliteral">&quot;0&quot;</span>),
<a name="l00893"></a>00893             <a class="code" href="class_o_t_d_b_1_1_market_data.html#a3cdc9f3b7135eab944aee513ca30e174">recent_highest_bid</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_market_data.html#a27c5acb35fb43aabd0e97f62b2717b31">recent_lowest_ask</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_market_data.html#ae19de6144aae0681f53573888b8daf30">last_sale_date</a>(<span class="stringliteral">&quot;0&quot;</span>)
<a name="l00894"></a>00894         { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;MarketData&quot;</span>; }
<a name="l00895"></a>00895 
<a name="l00896"></a>00896     <span class="keyword">public</span>:
<a name="l00897"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#a8e803d52be056ba9fcb9ecb882b3ee62">00897</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_market_data.html#a8e803d52be056ba9fcb9ecb882b3ee62">~MarketData</a>() { }
<a name="l00898"></a>00898 
<a name="l00899"></a>00899         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l00900"></a>00900 
<a name="l00901"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#a259cf0034349d580b465bd10aacd06ed">00901</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#a259cf0034349d580b465bd10aacd06ed">server_id</a>;
<a name="l00902"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#adbe791894d6afbfa49af07102e94b10c">00902</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#adbe791894d6afbfa49af07102e94b10c">market_id</a>;
<a name="l00903"></a>00903 
<a name="l00904"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#ad94bc54282a6acefbd34088f8ee5afa6">00904</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#ad94bc54282a6acefbd34088f8ee5afa6">asset_type_id</a>;
<a name="l00905"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#a1116aae82af6f197a038688704c2138f">00905</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#a1116aae82af6f197a038688704c2138f">currency_type_id</a>;
<a name="l00906"></a>00906 
<a name="l00907"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#a76e9d00702cfa1284813a1c45fc9d91b">00907</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#a76e9d00702cfa1284813a1c45fc9d91b">scale</a>;  <span class="comment">// the Market scale. (A trade in any particular asset is measured in X units of SCALE.)</span>
<a name="l00908"></a>00908         <span class="comment">// IOW, if the scale is 5000 on the gold market, that means &quot;3 units&quot; is 15000 gold</span>
<a name="l00909"></a>00909 
<a name="l00910"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#ae4136bf50fadeb1cc3e4230add9aca7c">00910</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#ae4136bf50fadeb1cc3e4230add9aca7c">total_assets</a>;       <span class="comment">// total amount of assets available on market for purchase.</span>
<a name="l00911"></a>00911 
<a name="l00912"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#ab60c0a4fbf6fca65c9040a52b57054ea">00912</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#ab60c0a4fbf6fca65c9040a52b57054ea">number_bids</a>;        <span class="comment">// number of bids that are currently on the market.</span>
<a name="l00913"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#afc912eddb01ab728e292c3bc88604467">00913</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#afc912eddb01ab728e292c3bc88604467">number_asks</a>;        <span class="comment">// number of asks that are currently on the market.</span>
<a name="l00914"></a>00914 
<a name="l00915"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#a07d21103b5c195f9cb5b618a3eac88e7">00915</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#a07d21103b5c195f9cb5b618a3eac88e7">last_sale_price</a>;    <span class="comment">// The price at which the most recent trade occurred on this market.</span>
<a name="l00916"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#a34e5138f9d4a2c77bfd646f4ecce6845">00916</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#a34e5138f9d4a2c77bfd646f4ecce6845">current_bid</a>;        <span class="comment">// The highest bid currently on the market.</span>
<a name="l00917"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#aae01cd5fa908b576bc2309ff4bc28ff4">00917</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#aae01cd5fa908b576bc2309ff4bc28ff4">current_ask</a>;        <span class="comment">// The lowest ask price currently available on the market.</span>
<a name="l00918"></a>00918 
<a name="l00919"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#a823d19a06f9a9026590c3a16d03a4e42">00919</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#a823d19a06f9a9026590c3a16d03a4e42">volume_trades</a>;      <span class="comment">// 24-hour period, number of trades.</span>
<a name="l00920"></a>00920 
<a name="l00921"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#a3c6706f11df7830779d6fc3de90cb719">00921</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#a3c6706f11df7830779d6fc3de90cb719">volume_assets</a>;      <span class="comment">// 24-hour volume, amount of assets traded.</span>
<a name="l00922"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#adbf62c270d8a2a84994a0222773e3389">00922</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#adbf62c270d8a2a84994a0222773e3389">volume_currency</a>;    <span class="comment">// 24-hour volume, amount of currency paid for assets traded.</span>
<a name="l00923"></a>00923 
<a name="l00924"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#a3cdc9f3b7135eab944aee513ca30e174">00924</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#a3cdc9f3b7135eab944aee513ca30e174">recent_highest_bid</a>; <span class="comment">// in a 24hour period, the highest bid to hit the market.</span>
<a name="l00925"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#a27c5acb35fb43aabd0e97f62b2717b31">00925</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#a27c5acb35fb43aabd0e97f62b2717b31">recent_lowest_ask</a>;  <span class="comment">// in a 24hour period, the lowest ask to hit the market.</span>
<a name="l00926"></a>00926 
<a name="l00927"></a><a class="code" href="class_o_t_d_b_1_1_market_data.html#ae19de6144aae0681f53573888b8daf30">00927</a>         std::string <a class="code" href="class_o_t_d_b_1_1_market_data.html#ae19de6144aae0681f53573888b8daf30">last_sale_date</a>;     <span class="comment">// (NEW FIELD) The date on which the most recent trade occurred on this market.</span>
<a name="l00928"></a>00928 
<a name="l00929"></a>00929         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_market_data.html">MarketData</a>)
<a name="l00930"></a>00930     };
<a name="l00931"></a>00931 
<a name="l00932"></a>00932     <span class="comment">// ------------------------------------------------------</span>
<a name="l00933"></a>00933 
<a name="l00934"></a><a class="code" href="class_o_t_d_b_1_1_market_list.html">00934</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_market_list.html">MarketList</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a> {
<a name="l00935"></a>00935         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l00936"></a>00936         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l00937"></a>00937     <span class="keyword">protected</span>:
<a name="l00938"></a><a class="code" href="class_o_t_d_b_1_1_market_list.html#acc0fe5416ac8162adf8b47b4b16f7d33">00938</a>         <a class="code" href="class_o_t_d_b_1_1_market_list.html#acc0fe5416ac8162adf8b47b4b16f7d33">MarketList</a>() : <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;MarketList&quot;</span>; }
<a name="l00939"></a>00939 
<a name="l00940"></a>00940     <span class="keyword">public</span>:
<a name="l00941"></a><a class="code" href="class_o_t_d_b_1_1_market_list.html#a04ad219e2dc3afc0b30cf46b9d3fa7bd">00941</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_market_list.html#a04ad219e2dc3afc0b30cf46b9d3fa7bd">~MarketList</a>() {}
<a name="l00942"></a>00942 
<a name="l00943"></a>00943         <a class="code" href="class_o_t_d_b_1_1_market_list.html#ab6150a29761246448711347ca8e7f03f">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_market_data.html">MarketData</a>);
<a name="l00944"></a>00944 
<a name="l00945"></a>00945         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_market_list.html">MarketList</a>)
<a name="l00946"></a>00946     };
<a name="l00947"></a>00947 
<a name="l00948"></a>00948 
<a name="l00949"></a>00949     <span class="comment">// ******************************************************</span>
<a name="l00950"></a>00950 
<a name="l00951"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_market.html">00951</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_offer_data_market.html">OfferDataMarket</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>
<a name="l00952"></a>00952     {
<a name="l00953"></a>00953         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l00954"></a>00954         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l00955"></a>00955     <span class="keyword">protected</span>:
<a name="l00956"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a54704ec5a4e1e85586f6773277cf3b73">00956</a>         <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a54704ec5a4e1e85586f6773277cf3b73">OfferDataMarket</a>() : <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>(),
<a name="l00957"></a>00957             <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a9204334216c536dbb899f1f99c121f9b">transaction_id</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a599d2dfd56c4232bbbb30d16987efb57">price_per_scale</a>(<span class="stringliteral">&quot;1&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a23ce62a0f8c04482ce8b9018bb9126aa">available_assets</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a62f4d67cf5675bd6f9ff6d602c199650">minimum_increment</a>(<span class="stringliteral">&quot;1&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a83cf18fff32be53bb5ac0b8e1b6b6f43">date</a>(<span class="stringliteral">&quot;0&quot;</span>)
<a name="l00958"></a>00958         { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;OfferDataMarket&quot;</span>; }
<a name="l00959"></a>00959 
<a name="l00960"></a>00960     <span class="keyword">public</span>:
<a name="l00961"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a65c02ba7fb94d3c3cb5040c344e73c77">00961</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a65c02ba7fb94d3c3cb5040c344e73c77">~OfferDataMarket</a>() { }
<a name="l00962"></a>00962 
<a name="l00963"></a>00963         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l00964"></a>00964 
<a name="l00965"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a9204334216c536dbb899f1f99c121f9b">00965</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a9204334216c536dbb899f1f99c121f9b">transaction_id</a>;
<a name="l00966"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a599d2dfd56c4232bbbb30d16987efb57">00966</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a599d2dfd56c4232bbbb30d16987efb57">price_per_scale</a>;
<a name="l00967"></a>00967 
<a name="l00968"></a>00968 <span class="comment">//      uint64_t total_assets;</span>
<a name="l00969"></a>00969 <span class="comment">//      uint64_t finished_so_far;</span>
<a name="l00970"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a23ce62a0f8c04482ce8b9018bb9126aa">00970</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a23ce62a0f8c04482ce8b9018bb9126aa">available_assets</a>;
<a name="l00971"></a>00971 
<a name="l00972"></a>00972         <span class="comment">// Each sale or purchase against (total_assets - finished_so_far) must be in minimum increments.</span>
<a name="l00973"></a>00973         <span class="comment">// Minimum Increment must be evenly divisible by scale.</span>
<a name="l00974"></a>00974         <span class="comment">// (This effectively becomes a &quot;FILL OR KILL&quot; order if set to the same value as total_assets. Also, MUST be 1</span>
<a name="l00975"></a>00975         <span class="comment">// or greater. CANNOT be zero. Enforce this at class level. You cannot sell something in minimum increments of 0.)</span>
<a name="l00976"></a>00976 
<a name="l00977"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a62f4d67cf5675bd6f9ff6d602c199650">00977</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a62f4d67cf5675bd6f9ff6d602c199650">minimum_increment</a>;
<a name="l00978"></a>00978 
<a name="l00979"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a83cf18fff32be53bb5ac0b8e1b6b6f43">00979</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a83cf18fff32be53bb5ac0b8e1b6b6f43">date</a>;  <span class="comment">// (NEW FIELD) The date this offer was added to the market.</span>
<a name="l00980"></a>00980 
<a name="l00981"></a>00981         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_offer_data_market.html">OfferDataMarket</a>)
<a name="l00982"></a>00982     };
<a name="l00983"></a>00983 
<a name="l00984"></a>00984     <span class="comment">// ------------------------------------------------------</span>
<a name="l00985"></a>00985 
<a name="l00986"></a><a class="code" href="class_o_t_d_b_1_1_bid_data.html">00986</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_bid_data.html">BidData</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html">OfferDataMarket</a>
<a name="l00987"></a>00987     {
<a name="l00988"></a>00988         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l00989"></a>00989         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l00990"></a>00990     <span class="keyword">protected</span>:
<a name="l00991"></a><a class="code" href="class_o_t_d_b_1_1_bid_data.html#ae71ef602c9772a7ea23172f3492de2c5">00991</a>         <a class="code" href="class_o_t_d_b_1_1_bid_data.html#ae71ef602c9772a7ea23172f3492de2c5">BidData</a>() : <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html">OfferDataMarket</a>()
<a name="l00992"></a>00992         { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;BidData&quot;</span>; }
<a name="l00993"></a>00993 
<a name="l00994"></a>00994     <span class="keyword">public</span>:
<a name="l00995"></a><a class="code" href="class_o_t_d_b_1_1_bid_data.html#a166f9a4cff16742e0800df69f0b532c9">00995</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_bid_data.html#a166f9a4cff16742e0800df69f0b532c9">~BidData</a>() { }
<a name="l00996"></a>00996 
<a name="l00997"></a>00997         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l00998"></a>00998 
<a name="l00999"></a>00999         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a9204334216c536dbb899f1f99c121f9b">OfferDataMarket::transaction_id</a>;
<a name="l01000"></a>01000         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a599d2dfd56c4232bbbb30d16987efb57">OfferDataMarket::price_per_scale</a>;
<a name="l01001"></a>01001         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a23ce62a0f8c04482ce8b9018bb9126aa">OfferDataMarket::available_assets</a>;
<a name="l01002"></a>01002         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a62f4d67cf5675bd6f9ff6d602c199650">OfferDataMarket::minimum_increment</a>;
<a name="l01003"></a>01003         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a83cf18fff32be53bb5ac0b8e1b6b6f43">OfferDataMarket::date</a>;
<a name="l01004"></a>01004 
<a name="l01005"></a>01005         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_bid_data.html">BidData</a>)
<a name="l01006"></a>01006     };
<a name="l01007"></a>01007 
<a name="l01008"></a>01008     <span class="comment">// ------------------------------------------------------</span>
<a name="l01009"></a>01009 
<a name="l01010"></a><a class="code" href="class_o_t_d_b_1_1_ask_data.html">01010</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_ask_data.html">AskData</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html">OfferDataMarket</a>
<a name="l01011"></a>01011     {
<a name="l01012"></a>01012         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01013"></a>01013         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01014"></a>01014     <span class="keyword">protected</span>:
<a name="l01015"></a><a class="code" href="class_o_t_d_b_1_1_ask_data.html#afb76fa0d13307f2f3064616e70375a15">01015</a>         <a class="code" href="class_o_t_d_b_1_1_ask_data.html#afb76fa0d13307f2f3064616e70375a15">AskData</a>() : <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html">OfferDataMarket</a>()
<a name="l01016"></a>01016         { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;AskData&quot;</span>; }
<a name="l01017"></a>01017 
<a name="l01018"></a>01018     <span class="keyword">public</span>:
<a name="l01019"></a><a class="code" href="class_o_t_d_b_1_1_ask_data.html#a20788656b41fd5c46cad7b6f964e6edb">01019</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_ask_data.html#a20788656b41fd5c46cad7b6f964e6edb">~AskData</a>() { }
<a name="l01020"></a>01020 
<a name="l01021"></a>01021         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01022"></a>01022 
<a name="l01023"></a>01023         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a9204334216c536dbb899f1f99c121f9b">OfferDataMarket::transaction_id</a>;
<a name="l01024"></a>01024         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a599d2dfd56c4232bbbb30d16987efb57">OfferDataMarket::price_per_scale</a>;
<a name="l01025"></a>01025         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a23ce62a0f8c04482ce8b9018bb9126aa">OfferDataMarket::available_assets</a>;
<a name="l01026"></a>01026         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a62f4d67cf5675bd6f9ff6d602c199650">OfferDataMarket::minimum_increment</a>;
<a name="l01027"></a>01027         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_market.html#a83cf18fff32be53bb5ac0b8e1b6b6f43">OfferDataMarket::date</a>;
<a name="l01028"></a>01028 
<a name="l01029"></a>01029         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_ask_data.html">AskData</a>)
<a name="l01030"></a>01030     };
<a name="l01031"></a>01031 
<a name="l01032"></a>01032     <span class="comment">// ------------------------------------------------------</span>
<a name="l01033"></a>01033 
<a name="l01034"></a><a class="code" href="class_o_t_d_b_1_1_offer_list_market.html">01034</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_offer_list_market.html">OfferListMarket</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a> {
<a name="l01035"></a>01035         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01036"></a>01036         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01037"></a>01037     <span class="keyword">protected</span>:
<a name="l01038"></a><a class="code" href="class_o_t_d_b_1_1_offer_list_market.html#a89bdcd9994ca63cf93d250c9c2b01641">01038</a>         <a class="code" href="class_o_t_d_b_1_1_offer_list_market.html#a89bdcd9994ca63cf93d250c9c2b01641">OfferListMarket</a>() : <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;OfferListMarket&quot;</span>; }
<a name="l01039"></a>01039 
<a name="l01040"></a>01040     <span class="keyword">public</span>:
<a name="l01041"></a><a class="code" href="class_o_t_d_b_1_1_offer_list_market.html#a3f5738fc0dd8563fc4f4b9e961bb1a1e">01041</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_offer_list_market.html#a3f5738fc0dd8563fc4f4b9e961bb1a1e">~OfferListMarket</a>() {}
<a name="l01042"></a>01042 
<a name="l01043"></a>01043         <a class="code" href="class_o_t_d_b_1_1_offer_list_market.html#aa7df34df8dba4f9f6099868c14ec9daa">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_bid_data.html">BidData</a>);
<a name="l01044"></a>01044         <a class="code" href="class_o_t_d_b_1_1_offer_list_market.html#aa7df34df8dba4f9f6099868c14ec9daa">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_ask_data.html">AskData</a>);
<a name="l01045"></a>01045 
<a name="l01046"></a>01046         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_offer_list_market.html">OfferListMarket</a>)
<a name="l01047"></a>01047     };
<a name="l01048"></a>01048 
<a name="l01049"></a>01049     <span class="comment">// ******************************************************</span>
<a name="l01050"></a>01050 
<a name="l01051"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_market.html">01051</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_trade_data_market.html">TradeDataMarket</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>
<a name="l01052"></a>01052     {
<a name="l01053"></a>01053         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01054"></a>01054         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01055"></a>01055     <span class="keyword">protected</span>:
<a name="l01056"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#a9de0e0647db5ce74e2202a45e9de2658">01056</a>         <a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#a9de0e0647db5ce74e2202a45e9de2658">TradeDataMarket</a>() : <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>(),
<a name="l01057"></a>01057             <a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#a05f595532ff4d68296d037278eb9667c">transaction_id</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#a37ffb91335f3f2a17ecfa977c33a87cd">date</a>(<span class="stringliteral">&quot;0&quot;</span>),
<a name="l01058"></a>01058             <a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#adf3ccb40b8b57663ece8864b72e50127">price</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#ac0ab38ef41c6ab1b1082902f8ab38aea">amount_sold</a>(<span class="stringliteral">&quot;0&quot;</span>)
<a name="l01059"></a>01059         { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;TradeDataMarket&quot;</span>; }
<a name="l01060"></a>01060 
<a name="l01061"></a>01061     <span class="keyword">public</span>:
<a name="l01062"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#a59ab0a63dff33e29d2a90afc970a3861">01062</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#a59ab0a63dff33e29d2a90afc970a3861">~TradeDataMarket</a>() { }
<a name="l01063"></a>01063 
<a name="l01064"></a>01064         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01065"></a>01065 
<a name="l01066"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#a05f595532ff4d68296d037278eb9667c">01066</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#a05f595532ff4d68296d037278eb9667c">transaction_id</a>; <span class="comment">// (transaction number for this trade.)</span>
<a name="l01067"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#a37ffb91335f3f2a17ecfa977c33a87cd">01067</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#a37ffb91335f3f2a17ecfa977c33a87cd">date</a>;               <span class="comment">// (The date of this trade&#39;s execution)</span>
<a name="l01068"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#adf3ccb40b8b57663ece8864b72e50127">01068</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#adf3ccb40b8b57663ece8864b72e50127">price</a>;              <span class="comment">// (The price this trade executed at.)</span>
<a name="l01069"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#ac0ab38ef41c6ab1b1082902f8ab38aea">01069</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_market.html#ac0ab38ef41c6ab1b1082902f8ab38aea">amount_sold</a>;        <span class="comment">// (Amount of asset sold for that price.)</span>
<a name="l01070"></a>01070 
<a name="l01071"></a>01071         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_trade_data_market.html">TradeDataMarket</a>)
<a name="l01072"></a>01072     };
<a name="l01073"></a>01073 
<a name="l01074"></a>01074     <span class="comment">// ------------------------------------------------------</span>
<a name="l01075"></a>01075 
<a name="l01076"></a><a class="code" href="class_o_t_d_b_1_1_trade_list_market.html">01076</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_trade_list_market.html">TradeListMarket</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a> {
<a name="l01077"></a>01077         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01078"></a>01078         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01079"></a>01079     <span class="keyword">protected</span>:
<a name="l01080"></a><a class="code" href="class_o_t_d_b_1_1_trade_list_market.html#ae6e5ddc0a639686e6faefd7c25c4fe9d">01080</a>         <a class="code" href="class_o_t_d_b_1_1_trade_list_market.html#ae6e5ddc0a639686e6faefd7c25c4fe9d">TradeListMarket</a>() : <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;TradeListMarket&quot;</span>; }
<a name="l01081"></a>01081 
<a name="l01082"></a>01082     <span class="keyword">public</span>:
<a name="l01083"></a><a class="code" href="class_o_t_d_b_1_1_trade_list_market.html#a54932186e41ab0050cfde68a3e2bb41b">01083</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_trade_list_market.html#a54932186e41ab0050cfde68a3e2bb41b">~TradeListMarket</a>() {}
<a name="l01084"></a>01084 
<a name="l01085"></a>01085         <a class="code" href="class_o_t_d_b_1_1_trade_list_market.html#ab7712f3831836a7be1f56dbf1a4b78d3">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_trade_data_market.html">TradeDataMarket</a>);
<a name="l01086"></a>01086 
<a name="l01087"></a>01087         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_trade_list_market.html">TradeListMarket</a>)
<a name="l01088"></a>01088     };
<a name="l01089"></a>01089 
<a name="l01090"></a>01090     <span class="comment">// ******************************************************</span>
<a name="l01091"></a>01091 
<a name="l01092"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html">01092</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html">OfferDataNym</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>
<a name="l01093"></a>01093     {
<a name="l01094"></a>01094         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01095"></a>01095         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01096"></a>01096     <span class="keyword">protected</span>:
<a name="l01097"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a47500d97d0a597d5f4fe1694de415c30">01097</a>         <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a47500d97d0a597d5f4fe1694de415c30">OfferDataNym</a>() : <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>(),
<a name="l01098"></a>01098             <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a80a04471908aef8021f63772e2fbad21">valid_from</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a3ab5cc1ff3567b40d5b4ccbf00003eb0">valid_to</a>(<span class="stringliteral">&quot;0&quot;</span>),
<a name="l01099"></a>01099             <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a4864d06c6713e383f12c00bd79bd4956">selling</a>(false), <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a3c3e3ed3c40bb91ae5d172c93873c35c">scale</a>(<span class="stringliteral">&quot;1&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a83d4f7597ad118a3232ebccce42b8735">price_per_scale</a>(<span class="stringliteral">&quot;1&quot;</span>),
<a name="l01100"></a>01100             <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#ab5b4cb920bf2211cae056c41aee47871">transaction_id</a>(<span class="stringliteral">&quot;0&quot;</span>),
<a name="l01101"></a>01101             <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#ab24b32937fd9ae98994e83bf7730bb70">total_assets</a>(<span class="stringliteral">&quot;1&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#acab7e0110c9737d49440fe5d62b16978">finished_so_far</a>(<span class="stringliteral">&quot;0&quot;</span>),
<a name="l01102"></a>01102             <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a5e3c257180f603de8b8b569550c5cc9c">minimum_increment</a>(<span class="stringliteral">&quot;1&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a888f474f564554f6a0d03cabd1f0ef3c">stop_price</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#aa25174f9820a0c6b5092e1a113eb1231">date</a>(<span class="stringliteral">&quot;0&quot;</span>)
<a name="l01103"></a>01103         { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;OfferDataNym&quot;</span>; }
<a name="l01104"></a>01104 
<a name="l01105"></a>01105     <span class="keyword">public</span>:
<a name="l01106"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a6d7f6f93c8f1f1f071f8484222230157">01106</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a6d7f6f93c8f1f1f071f8484222230157">~OfferDataNym</a>() { }
<a name="l01107"></a>01107 
<a name="l01108"></a>01108         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01109"></a>01109 
<a name="l01110"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a80a04471908aef8021f63772e2fbad21">01110</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a80a04471908aef8021f63772e2fbad21">valid_from</a>;
<a name="l01111"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a3ab5cc1ff3567b40d5b4ccbf00003eb0">01111</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a3ab5cc1ff3567b40d5b4ccbf00003eb0">valid_to</a>;
<a name="l01112"></a>01112 
<a name="l01113"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#ae1e0c74c7e547ed930cdf4a28ffeafe8">01113</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#ae1e0c74c7e547ed930cdf4a28ffeafe8">server_id</a>;
<a name="l01114"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#aad0735277c4348f983f632ad29dd0acf">01114</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#aad0735277c4348f983f632ad29dd0acf">asset_type_id</a>;      <span class="comment">// the asset type on offer.</span>
<a name="l01115"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a900d1d18875b50a9d0845615b9c97597">01115</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a900d1d18875b50a9d0845615b9c97597">asset_acct_id</a>;      <span class="comment">// the account where the asset is.</span>
<a name="l01116"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a1343a8d4cd9379f17782df3d3afe2a49">01116</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a1343a8d4cd9379f17782df3d3afe2a49">currency_type_id</a>;   <span class="comment">// the currency being used to purchase the asset.</span>
<a name="l01117"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#ae6a57a2226f59e4364de65f299f7c304">01117</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#ae6a57a2226f59e4364de65f299f7c304">currency_acct_id</a>;   <span class="comment">// the account where currency is.</span>
<a name="l01118"></a>01118 
<a name="l01119"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a4864d06c6713e383f12c00bd79bd4956">01119</a>         <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a4864d06c6713e383f12c00bd79bd4956">selling</a>;           <span class="comment">// true for ask, false for bid.</span>
<a name="l01120"></a>01120 
<a name="l01121"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a3c3e3ed3c40bb91ae5d172c93873c35c">01121</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a3c3e3ed3c40bb91ae5d172c93873c35c">scale</a>;  <span class="comment">// 1oz market? 100oz market? 10,000oz market? This determines size and granularity.</span>
<a name="l01122"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a83d4f7597ad118a3232ebccce42b8735">01122</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a83d4f7597ad118a3232ebccce42b8735">price_per_scale</a>;
<a name="l01123"></a>01123 
<a name="l01124"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#ab5b4cb920bf2211cae056c41aee47871">01124</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#ab5b4cb920bf2211cae056c41aee47871">transaction_id</a>;
<a name="l01125"></a>01125 
<a name="l01126"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#ab24b32937fd9ae98994e83bf7730bb70">01126</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#ab24b32937fd9ae98994e83bf7730bb70">total_assets</a>;
<a name="l01127"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#acab7e0110c9737d49440fe5d62b16978">01127</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#acab7e0110c9737d49440fe5d62b16978">finished_so_far</a>;
<a name="l01128"></a>01128 
<a name="l01129"></a>01129 
<a name="l01130"></a>01130         <span class="comment">// Each sale or purchase against (total_assets - finished_so_far) must be in minimum increments.</span>
<a name="l01131"></a>01131         <span class="comment">// Minimum Increment must be evenly divisible by scale.</span>
<a name="l01132"></a>01132         <span class="comment">// (This effectively becomes a &quot;FILL OR KILL&quot; order if set to the same value as total_assets. Also, MUST be 1</span>
<a name="l01133"></a>01133         <span class="comment">// or greater. CANNOT be zero. Enforce this at class level. You cannot sell something in minimum increments of 0.)</span>
<a name="l01134"></a>01134 
<a name="l01135"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a5e3c257180f603de8b8b569550c5cc9c">01135</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a5e3c257180f603de8b8b569550c5cc9c">minimum_increment</a>;
<a name="l01136"></a>01136 
<a name="l01137"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a80f286f49bce7b5cf030373996c86fa5">01137</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a80f286f49bce7b5cf030373996c86fa5">stop_sign</a>;  <span class="comment">// If this is a stop order, this will contain &#39;&lt;&#39; or &#39;&gt;&#39;.</span>
<a name="l01138"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a888f474f564554f6a0d03cabd1f0ef3c">01138</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#a888f474f564554f6a0d03cabd1f0ef3c">stop_price</a>; <span class="comment">// The price at which the stop order activates (less than X or greater than X, based on sign.)</span>
<a name="l01139"></a>01139 
<a name="l01140"></a><a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#aa25174f9820a0c6b5092e1a113eb1231">01140</a>         std::string <a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html#aa25174f9820a0c6b5092e1a113eb1231">date</a>;       <span class="comment">// (NEW FIELD) The date on which this offer was added to the market.</span>
<a name="l01141"></a>01141 
<a name="l01142"></a>01142         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html">OfferDataNym</a>)
<a name="l01143"></a>01143     };
<a name="l01144"></a>01144 
<a name="l01145"></a>01145     <span class="comment">// ------------------------------------------------------</span>
<a name="l01146"></a>01146 
<a name="l01147"></a><a class="code" href="class_o_t_d_b_1_1_offer_list_nym.html">01147</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_offer_list_nym.html">OfferListNym</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>
<a name="l01148"></a>01148     {
<a name="l01149"></a>01149         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01150"></a>01150         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01151"></a>01151     <span class="keyword">protected</span>:
<a name="l01152"></a><a class="code" href="class_o_t_d_b_1_1_offer_list_nym.html#ab36a42b2b9dd7fa064cf0f7993b9f2a7">01152</a>         <a class="code" href="class_o_t_d_b_1_1_offer_list_nym.html#ab36a42b2b9dd7fa064cf0f7993b9f2a7">OfferListNym</a>() : <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;OfferListNym&quot;</span>; }
<a name="l01153"></a>01153 
<a name="l01154"></a>01154     <span class="keyword">public</span>:
<a name="l01155"></a><a class="code" href="class_o_t_d_b_1_1_offer_list_nym.html#a93af3253cac9944518702f09a5160b1f">01155</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_offer_list_nym.html#a93af3253cac9944518702f09a5160b1f">~OfferListNym</a>() {}
<a name="l01156"></a>01156 
<a name="l01157"></a>01157         <a class="code" href="class_o_t_d_b_1_1_offer_list_nym.html#ac4693de7cc873d2f89cb24249823711b">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_offer_data_nym.html">OfferDataNym</a>);
<a name="l01158"></a>01158 
<a name="l01159"></a>01159         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_offer_list_nym.html">OfferListNym</a>)
<a name="l01160"></a>01160     };
<a name="l01161"></a>01161 
<a name="l01162"></a>01162     <span class="comment">// ******************************************************</span>
<a name="l01163"></a>01163 
<a name="l01164"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html">01164</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html">TradeDataNym</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>
<a name="l01165"></a>01165     {
<a name="l01166"></a>01166         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01167"></a>01167         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01168"></a>01168     <span class="keyword">protected</span>:
<a name="l01169"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#ac2dae7314e7fccdefe6aecdf547257aa">01169</a>         <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#ac2dae7314e7fccdefe6aecdf547257aa">TradeDataNym</a>() : <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>(),
<a name="l01170"></a>01170             <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#af0dff6aa9d349d3c1db793371479f5b0">transaction_id</a>(<span class="stringliteral">&quot;0&quot;</span>),
<a name="l01171"></a>01171             <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#a4b63388a4e4a5b41301e179b6e7b2959">completed_count</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#ab8aac05fb4457db454bb285419b46484">date</a>(<span class="stringliteral">&quot;0&quot;</span>),
<a name="l01172"></a>01172             <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#a7be3a27c6e1a914dbc8bd8cbde4e7e5c">price</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#acf848f886e84b5ac326d9eaabb8b06ba">amount_sold</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#adc1568e5e6d073cc39b1143197079de7">updated_id</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#a4e628be7c68588a5100f7da1f9db40c5">offer_price</a>(<span class="stringliteral">&quot;0&quot;</span>),
<a name="l01173"></a>01173             <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#a422a8af72d297339f7dab0c54c165616">finished_so_far</a>(<span class="stringliteral">&quot;0&quot;</span>), <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#aa42687f4cda7472c1d8c8515f4fd2e4c">currency_paid</a>(<span class="stringliteral">&quot;0&quot;</span>)
<a name="l01174"></a>01174         { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;TradeDataNym&quot;</span>; }
<a name="l01175"></a>01175 
<a name="l01176"></a>01176     <span class="keyword">public</span>:
<a name="l01177"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#aedb8e8386eda625a6b3e221a35064639">01177</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#aedb8e8386eda625a6b3e221a35064639">~TradeDataNym</a>() { }
<a name="l01178"></a>01178 
<a name="l01179"></a>01179         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01180"></a>01180 
<a name="l01181"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#af0dff6aa9d349d3c1db793371479f5b0">01181</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#af0dff6aa9d349d3c1db793371479f5b0">transaction_id</a>; <span class="comment">// (transaction number for original offer.)</span>
<a name="l01182"></a>01182 
<a name="l01183"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#a4b63388a4e4a5b41301e179b6e7b2959">01183</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#a4b63388a4e4a5b41301e179b6e7b2959">completed_count</a>;    <span class="comment">// (How many trades have processed for the associated offer? We keep count for each trade.)</span>
<a name="l01184"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#ab8aac05fb4457db454bb285419b46484">01184</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#ab8aac05fb4457db454bb285419b46484">date</a>;               <span class="comment">// (The date of this trade&#39;s execution)</span>
<a name="l01185"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#a7be3a27c6e1a914dbc8bd8cbde4e7e5c">01185</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#a7be3a27c6e1a914dbc8bd8cbde4e7e5c">price</a>;              <span class="comment">// (The price this trade executed at.)</span>
<a name="l01186"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#acf848f886e84b5ac326d9eaabb8b06ba">01186</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#acf848f886e84b5ac326d9eaabb8b06ba">amount_sold</a>;        <span class="comment">// (Amount of asset sold for that price.)</span>
<a name="l01187"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#adc1568e5e6d073cc39b1143197079de7">01187</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#adc1568e5e6d073cc39b1143197079de7">updated_id</a>;         <span class="comment">// NEW FIELD (Transaction ID for trade receipt.)</span>
<a name="l01188"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#a4e628be7c68588a5100f7da1f9db40c5">01188</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#a4e628be7c68588a5100f7da1f9db40c5">offer_price</a>;        <span class="comment">// NEW FIELD (price limit on the original offer.)</span>
<a name="l01189"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#a422a8af72d297339f7dab0c54c165616">01189</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#a422a8af72d297339f7dab0c54c165616">finished_so_far</a>;    <span class="comment">// NEW FIELD (total amount sold across all trades.)</span>
<a name="l01190"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#aa65d5cebf3f08e820a9742816720646a">01190</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#aa65d5cebf3f08e820a9742816720646a">asset_id</a>;           <span class="comment">// NEW FIELD asset ID for trade</span>
<a name="l01191"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#ae76da6793153234a99d921ba31f43e19">01191</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#ae76da6793153234a99d921ba31f43e19">currency_id</a>;        <span class="comment">// NEW FIELD currency ID for trade</span>
<a name="l01192"></a><a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#aa42687f4cda7472c1d8c8515f4fd2e4c">01192</a>         std::string <a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html#aa42687f4cda7472c1d8c8515f4fd2e4c">currency_paid</a>;      <span class="comment">// NEW FIELD currency paid for trade</span>
<a name="l01193"></a>01193 
<a name="l01194"></a>01194         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html">TradeDataNym</a>)
<a name="l01195"></a>01195     };
<a name="l01196"></a>01196 
<a name="l01197"></a>01197     <span class="comment">// ------------------------------------------------------</span>
<a name="l01198"></a>01198 
<a name="l01199"></a><a class="code" href="class_o_t_d_b_1_1_trade_list_nym.html">01199</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_trade_list_nym.html">TradeListNym</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a> {
<a name="l01200"></a>01200         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01201"></a>01201         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01202"></a>01202     <span class="keyword">protected</span>:
<a name="l01203"></a><a class="code" href="class_o_t_d_b_1_1_trade_list_nym.html#a9cc5d30b02d8314a0f7b752d9114a63f">01203</a>         <a class="code" href="class_o_t_d_b_1_1_trade_list_nym.html#a9cc5d30b02d8314a0f7b752d9114a63f">TradeListNym</a>() : <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;TradeListNym&quot;</span>; }
<a name="l01204"></a>01204 
<a name="l01205"></a>01205     <span class="keyword">public</span>:
<a name="l01206"></a><a class="code" href="class_o_t_d_b_1_1_trade_list_nym.html#a817990172a00931083e4a21a1c7222bb">01206</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_trade_list_nym.html#a817990172a00931083e4a21a1c7222bb">~TradeListNym</a>() {}
<a name="l01207"></a>01207 
<a name="l01208"></a>01208         <a class="code" href="class_o_t_d_b_1_1_trade_list_nym.html#a53f77f81a602d23f98adff6078e4b9d2">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_trade_data_nym.html">TradeDataNym</a>);
<a name="l01209"></a>01209 
<a name="l01210"></a>01210         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_trade_list_nym.html">TradeListNym</a>)
<a name="l01211"></a>01211     };
<a name="l01212"></a>01212 
<a name="l01213"></a>01213     <span class="comment">// *************************************************</span>
<a name="l01214"></a>01214 
<a name="l01215"></a>01215     <span class="comment">// ACCOUNT (GUI local storage about my own accounts, in my wallet.)</span>
<a name="l01216"></a>01216 
<a name="l01217"></a><a class="code" href="class_o_t_d_b_1_1_acct.html">01217</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_acct.html">Acct</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>
<a name="l01218"></a>01218     {
<a name="l01219"></a>01219         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01220"></a>01220         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01221"></a>01221     <span class="keyword">protected</span>:
<a name="l01222"></a><a class="code" href="class_o_t_d_b_1_1_acct.html#a723a3c7da4357b2c1176fc9a64de1d1f">01222</a>         <a class="code" href="class_o_t_d_b_1_1_acct.html#a723a3c7da4357b2c1176fc9a64de1d1f">Acct</a>() : <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;Acct&quot;</span>; }
<a name="l01223"></a>01223 
<a name="l01224"></a>01224     <span class="keyword">public</span>:
<a name="l01225"></a><a class="code" href="class_o_t_d_b_1_1_acct.html#ac1a1953d136aa9df40b5e064805d8063">01225</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_acct.html#ac1a1953d136aa9df40b5e064805d8063">~Acct</a>() { }
<a name="l01226"></a>01226 
<a name="l01227"></a>01227         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01228"></a>01228 
<a name="l01229"></a><a class="code" href="class_o_t_d_b_1_1_acct.html#ab742bb154c11a734064037d3575505ec">01229</a>         std::string <a class="code" href="class_o_t_d_b_1_1_acct.html#ab742bb154c11a734064037d3575505ec">acct_id</a>;
<a name="l01230"></a><a class="code" href="class_o_t_d_b_1_1_acct.html#a7fab0d9da3f90dfeb89fac3c3ce823b4">01230</a>         std::string <a class="code" href="class_o_t_d_b_1_1_acct.html#a7fab0d9da3f90dfeb89fac3c3ce823b4">server_id</a>;
<a name="l01231"></a>01231 
<a name="l01232"></a>01232         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_acct.html">Acct</a>)
<a name="l01233"></a>01233     };
<a name="l01234"></a>01234 
<a name="l01235"></a>01235     <span class="comment">// ----------------------------</span>
<a name="l01236"></a>01236 
<a name="l01237"></a><a class="code" href="class_o_t_d_b_1_1_bitcoin_acct.html">01237</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_bitcoin_acct.html">BitcoinAcct</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_acct.html">Acct</a>
<a name="l01238"></a>01238     {
<a name="l01239"></a>01239         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01240"></a>01240         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01241"></a>01241     <span class="keyword">protected</span>:
<a name="l01242"></a><a class="code" href="class_o_t_d_b_1_1_bitcoin_acct.html#ab900a966d4ad566baca1070e5f763c7b">01242</a>         <a class="code" href="class_o_t_d_b_1_1_bitcoin_acct.html#ab900a966d4ad566baca1070e5f763c7b">BitcoinAcct</a>() : <a class="code" href="class_o_t_d_b_1_1_acct.html">Acct</a>() {  <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;BitcoinAcct&quot;</span>; }
<a name="l01243"></a>01243 
<a name="l01244"></a>01244     <span class="keyword">public</span>:
<a name="l01245"></a><a class="code" href="class_o_t_d_b_1_1_bitcoin_acct.html#a3b5c5bb9f6855b98a9594f2e22961c4b">01245</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_bitcoin_acct.html#a3b5c5bb9f6855b98a9594f2e22961c4b">~BitcoinAcct</a>() { }
<a name="l01246"></a>01246 
<a name="l01247"></a>01247         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01248"></a>01248 
<a name="l01249"></a>01249         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_acct.html#ab742bb154c11a734064037d3575505ec">Acct::acct_id</a>;
<a name="l01250"></a>01250         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_acct.html#a7fab0d9da3f90dfeb89fac3c3ce823b4">Acct::server_id</a>;
<a name="l01251"></a>01251 
<a name="l01252"></a><a class="code" href="class_o_t_d_b_1_1_bitcoin_acct.html#acccadf7edb30144f2c3e8a49fea9d2bf">01252</a>         std::string <a class="code" href="class_o_t_d_b_1_1_bitcoin_acct.html#acccadf7edb30144f2c3e8a49fea9d2bf">bitcoin_acct_name</a>;
<a name="l01253"></a>01253 
<a name="l01254"></a>01254         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_bitcoin_acct.html">BitcoinAcct</a>)
<a name="l01255"></a>01255     };
<a name="l01256"></a>01256 
<a name="l01257"></a>01257     <span class="comment">// **************************************************</span>
<a name="l01258"></a>01258 
<a name="l01259"></a>01259     <span class="comment">// SERVER (GUI local storage about servers.)</span>
<a name="l01260"></a>01260 
<a name="l01261"></a><a class="code" href="class_o_t_d_b_1_1_server_info.html">01261</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_server_info.html">ServerInfo</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>
<a name="l01262"></a>01262     {
<a name="l01263"></a>01263         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01264"></a>01264         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01265"></a>01265     <span class="keyword">protected</span>:
<a name="l01266"></a><a class="code" href="class_o_t_d_b_1_1_server_info.html#a8d1978d8054fc3ca200e411d5b95d665">01266</a>         <a class="code" href="class_o_t_d_b_1_1_server_info.html#a8d1978d8054fc3ca200e411d5b95d665">ServerInfo</a>() : <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;ServerInfo&quot;</span>; }
<a name="l01267"></a>01267 
<a name="l01268"></a>01268     <span class="keyword">public</span>:
<a name="l01269"></a><a class="code" href="class_o_t_d_b_1_1_server_info.html#aee024c839eb2053bc4f34ead6a33f050">01269</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_server_info.html#aee024c839eb2053bc4f34ead6a33f050">~ServerInfo</a>() { }
<a name="l01270"></a>01270 
<a name="l01271"></a>01271         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01272"></a>01272 
<a name="l01273"></a><a class="code" href="class_o_t_d_b_1_1_server_info.html#a280203f678889a8f054b1a32e856f774">01273</a>         std::string <a class="code" href="class_o_t_d_b_1_1_server_info.html#a280203f678889a8f054b1a32e856f774">server_id</a>;
<a name="l01274"></a><a class="code" href="class_o_t_d_b_1_1_server_info.html#a866f685d834b26d37d23c2c26278e7c9">01274</a>         std::string <a class="code" href="class_o_t_d_b_1_1_server_info.html#a866f685d834b26d37d23c2c26278e7c9">server_type</a>;
<a name="l01275"></a>01275 
<a name="l01276"></a>01276         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_server_info.html">ServerInfo</a>)
<a name="l01277"></a>01277     };
<a name="l01278"></a>01278 
<a name="l01279"></a>01279     <span class="comment">// ----------------------------</span>
<a name="l01280"></a>01280 
<a name="l01281"></a><a class="code" href="class_o_t_d_b_1_1_server.html">01281</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_server.html">Server</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_server_info.html">ServerInfo</a>
<a name="l01282"></a>01282     {
<a name="l01283"></a>01283         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01284"></a>01284         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01285"></a>01285     <span class="keyword">protected</span>:
<a name="l01286"></a><a class="code" href="class_o_t_d_b_1_1_server.html#a425959093d3fe54e49682e841881fd06">01286</a>         <a class="code" href="class_o_t_d_b_1_1_server.html#a425959093d3fe54e49682e841881fd06">Server</a>() : <a class="code" href="class_o_t_d_b_1_1_server_info.html">ServerInfo</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;Server&quot;</span>; }
<a name="l01287"></a>01287 
<a name="l01288"></a>01288     <span class="keyword">public</span>:
<a name="l01289"></a><a class="code" href="class_o_t_d_b_1_1_server.html#ae569871ccc2abe496b3072a9af40a0a8">01289</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_server.html#ae569871ccc2abe496b3072a9af40a0a8">~Server</a>() { }
<a name="l01290"></a>01290 
<a name="l01291"></a>01291         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01292"></a>01292 
<a name="l01293"></a>01293         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server_info.html#a280203f678889a8f054b1a32e856f774">ServerInfo::server_id</a>;   <span class="comment">// in base class</span>
<a name="l01294"></a>01294         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server_info.html#a866f685d834b26d37d23c2c26278e7c9">ServerInfo::server_type</a>; <span class="comment">// in base class</span>
<a name="l01295"></a>01295 
<a name="l01296"></a><a class="code" href="class_o_t_d_b_1_1_server.html#aecdc34780f0a20f8d64edf334f7dd6ee">01296</a>         std::string <a class="code" href="class_o_t_d_b_1_1_server.html#aecdc34780f0a20f8d64edf334f7dd6ee">server_host</a>;
<a name="l01297"></a><a class="code" href="class_o_t_d_b_1_1_server.html#a3e51547b0ab2679823abed561625b111">01297</a>         std::string <a class="code" href="class_o_t_d_b_1_1_server.html#a3e51547b0ab2679823abed561625b111">server_port</a>;
<a name="l01298"></a>01298 
<a name="l01299"></a>01299         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_server.html">Server</a>)
<a name="l01300"></a>01300     };
<a name="l01301"></a>01301 
<a name="l01302"></a>01302     <span class="comment">// ----------------------------</span>
<a name="l01303"></a>01303 
<a name="l01304"></a><a class="code" href="class_o_t_d_b_1_1_bitcoin_server.html">01304</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_bitcoin_server.html">BitcoinServer</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_server.html">Server</a>
<a name="l01305"></a>01305     {
<a name="l01306"></a>01306         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01307"></a>01307         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01308"></a>01308     <span class="keyword">protected</span>:
<a name="l01309"></a><a class="code" href="class_o_t_d_b_1_1_bitcoin_server.html#a1ba4a959163b72585e8f31493b25ccc6">01309</a>         <a class="code" href="class_o_t_d_b_1_1_bitcoin_server.html#a1ba4a959163b72585e8f31493b25ccc6">BitcoinServer</a>() : <a class="code" href="class_o_t_d_b_1_1_server.html">Server</a>() {  <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;BitcoinServer&quot;</span>;  }
<a name="l01310"></a>01310 
<a name="l01311"></a>01311     <span class="keyword">public</span>:
<a name="l01312"></a><a class="code" href="class_o_t_d_b_1_1_bitcoin_server.html#a8458f2792b10c33482ff71b8fb2e9eca">01312</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_bitcoin_server.html#a8458f2792b10c33482ff71b8fb2e9eca">~BitcoinServer</a>() {  }
<a name="l01313"></a>01313 
<a name="l01314"></a>01314         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01315"></a>01315 
<a name="l01316"></a>01316         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server_info.html#a280203f678889a8f054b1a32e856f774">ServerInfo::server_id</a>;   <span class="comment">// in base class</span>
<a name="l01317"></a>01317         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server_info.html#a866f685d834b26d37d23c2c26278e7c9">ServerInfo::server_type</a>; <span class="comment">// in base class</span>
<a name="l01318"></a>01318 
<a name="l01319"></a>01319         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server.html#aecdc34780f0a20f8d64edf334f7dd6ee">Server::server_host</a>;   <span class="comment">// in base class</span>
<a name="l01320"></a>01320         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server.html#a3e51547b0ab2679823abed561625b111">Server::server_port</a>; <span class="comment">// in base class</span>
<a name="l01321"></a>01321 
<a name="l01322"></a><a class="code" href="class_o_t_d_b_1_1_bitcoin_server.html#ab1b8256ee6d165d473bed6804bebbb6d">01322</a>         std::string <a class="code" href="class_o_t_d_b_1_1_bitcoin_server.html#ab1b8256ee6d165d473bed6804bebbb6d">bitcoin_username</a>;
<a name="l01323"></a><a class="code" href="class_o_t_d_b_1_1_bitcoin_server.html#a6247ea881813e6b52eff010e4ee40720">01323</a>         std::string <a class="code" href="class_o_t_d_b_1_1_bitcoin_server.html#a6247ea881813e6b52eff010e4ee40720">bitcoin_password</a>;
<a name="l01324"></a>01324 
<a name="l01325"></a>01325         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_bitcoin_server.html">BitcoinServer</a>)
<a name="l01326"></a>01326     };
<a name="l01327"></a>01327 
<a name="l01328"></a>01328     <span class="comment">// ----------------------------</span>
<a name="l01329"></a>01329 
<a name="l01330"></a><a class="code" href="class_o_t_d_b_1_1_ripple_server.html">01330</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_ripple_server.html">RippleServer</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_server.html">Server</a>
<a name="l01331"></a>01331     {
<a name="l01332"></a>01332         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01333"></a>01333         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01334"></a>01334     <span class="keyword">protected</span>:
<a name="l01335"></a><a class="code" href="class_o_t_d_b_1_1_ripple_server.html#aa056a4028d0b2724a058aa3d8901b866">01335</a>         <a class="code" href="class_o_t_d_b_1_1_ripple_server.html#aa056a4028d0b2724a058aa3d8901b866">RippleServer</a>() : <a class="code" href="class_o_t_d_b_1_1_server.html">Server</a>() {  <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;RippleServer&quot;</span>;  }
<a name="l01336"></a>01336 
<a name="l01337"></a>01337     <span class="keyword">public</span>:
<a name="l01338"></a><a class="code" href="class_o_t_d_b_1_1_ripple_server.html#aa5da7b416b34573cdd61f8448e6da7ef">01338</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_ripple_server.html#aa5da7b416b34573cdd61f8448e6da7ef">~RippleServer</a>() {  }
<a name="l01339"></a>01339 
<a name="l01340"></a>01340         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01341"></a>01341 
<a name="l01342"></a>01342         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server_info.html#a280203f678889a8f054b1a32e856f774">ServerInfo::server_id</a>;   <span class="comment">// in base class</span>
<a name="l01343"></a>01343         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server_info.html#a866f685d834b26d37d23c2c26278e7c9">ServerInfo::server_type</a>; <span class="comment">// in base class</span>
<a name="l01344"></a>01344 
<a name="l01345"></a>01345         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server.html#aecdc34780f0a20f8d64edf334f7dd6ee">Server::server_host</a>;   <span class="comment">// in base class</span>
<a name="l01346"></a>01346         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server.html#a3e51547b0ab2679823abed561625b111">Server::server_port</a>; <span class="comment">// in base class</span>
<a name="l01347"></a>01347 
<a name="l01348"></a><a class="code" href="class_o_t_d_b_1_1_ripple_server.html#ac090efee2ca5e7442f898b45b6980e9b">01348</a>         std::string <a class="code" href="class_o_t_d_b_1_1_ripple_server.html#ac090efee2ca5e7442f898b45b6980e9b">ripple_username</a>;
<a name="l01349"></a><a class="code" href="class_o_t_d_b_1_1_ripple_server.html#aa74654f84551feef14264267053b2cc1">01349</a>         std::string <a class="code" href="class_o_t_d_b_1_1_ripple_server.html#aa74654f84551feef14264267053b2cc1">ripple_password</a>;
<a name="l01350"></a>01350 
<a name="l01351"></a><a class="code" href="class_o_t_d_b_1_1_ripple_server.html#a8ecf0674faa04802e1256c4d4c8dc7b6">01351</a>         std::string <a class="code" href="class_o_t_d_b_1_1_ripple_server.html#a8ecf0674faa04802e1256c4d4c8dc7b6">namefield_id</a>;
<a name="l01352"></a><a class="code" href="class_o_t_d_b_1_1_ripple_server.html#ae8bbabb3bb1c44528cf355388dc1f781">01352</a>         std::string <a class="code" href="class_o_t_d_b_1_1_ripple_server.html#ae8bbabb3bb1c44528cf355388dc1f781">passfield_id</a>;
<a name="l01353"></a>01353 
<a name="l01354"></a>01354         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_ripple_server.html">RippleServer</a>)
<a name="l01355"></a>01355     };
<a name="l01356"></a>01356 
<a name="l01357"></a>01357     <span class="comment">// ----------------------------</span>
<a name="l01358"></a>01358 
<a name="l01359"></a><a class="code" href="class_o_t_d_b_1_1_loom_server.html">01359</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_loom_server.html">LoomServer</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_server.html">Server</a>
<a name="l01360"></a>01360     {
<a name="l01361"></a>01361         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01362"></a>01362         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01363"></a>01363     <span class="keyword">protected</span>:
<a name="l01364"></a><a class="code" href="class_o_t_d_b_1_1_loom_server.html#a7e3489c0a583e9bcb7f16f519f6db9d9">01364</a>         <a class="code" href="class_o_t_d_b_1_1_loom_server.html#a7e3489c0a583e9bcb7f16f519f6db9d9">LoomServer</a>() : <a class="code" href="class_o_t_d_b_1_1_server.html">Server</a>() {  <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;LoomServer&quot;</span>;  }
<a name="l01365"></a>01365 
<a name="l01366"></a>01366     <span class="keyword">public</span>:
<a name="l01367"></a><a class="code" href="class_o_t_d_b_1_1_loom_server.html#ad2d975adcdfa64a42d98391128fdce5f">01367</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_loom_server.html#ad2d975adcdfa64a42d98391128fdce5f">~LoomServer</a>() {  }
<a name="l01368"></a>01368 
<a name="l01369"></a>01369         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01370"></a>01370 
<a name="l01371"></a>01371         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server_info.html#a280203f678889a8f054b1a32e856f774">ServerInfo::server_id</a>;   <span class="comment">// in base class</span>
<a name="l01372"></a>01372         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server_info.html#a866f685d834b26d37d23c2c26278e7c9">ServerInfo::server_type</a>; <span class="comment">// in base class</span>
<a name="l01373"></a>01373 
<a name="l01374"></a>01374         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server.html#aecdc34780f0a20f8d64edf334f7dd6ee">Server::server_host</a>;   <span class="comment">// in base class</span>
<a name="l01375"></a>01375         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_server.html#a3e51547b0ab2679823abed561625b111">Server::server_port</a>; <span class="comment">// in base class</span>
<a name="l01376"></a>01376 
<a name="l01377"></a><a class="code" href="class_o_t_d_b_1_1_loom_server.html#a3a28be866a915defebbc96388f8f925c">01377</a>         std::string <a class="code" href="class_o_t_d_b_1_1_loom_server.html#a3a28be866a915defebbc96388f8f925c">loom_username</a>;
<a name="l01378"></a>01378 
<a name="l01379"></a><a class="code" href="class_o_t_d_b_1_1_loom_server.html#a43c081423b226d26c8ebac8c97966825">01379</a>         std::string <a class="code" href="class_o_t_d_b_1_1_loom_server.html#a43c081423b226d26c8ebac8c97966825">namefield_id</a>;
<a name="l01380"></a>01380 
<a name="l01381"></a>01381         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_loom_server.html">LoomServer</a>)
<a name="l01382"></a>01382     };
<a name="l01383"></a>01383 
<a name="l01384"></a>01384     <span class="comment">// ----------------------------</span>
<a name="l01385"></a>01385 
<a name="l01386"></a><a class="code" href="class_o_t_d_b_1_1_contact_nym.html">01386</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_contact_nym.html">ContactNym</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>
<a name="l01387"></a>01387     {
<a name="l01388"></a>01388         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01389"></a>01389         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01390"></a>01390     <span class="keyword">protected</span>:
<a name="l01391"></a><a class="code" href="class_o_t_d_b_1_1_contact_nym.html#a6370687c034f130a107284da30c2ee27">01391</a>         <a class="code" href="class_o_t_d_b_1_1_contact_nym.html#a6370687c034f130a107284da30c2ee27">ContactNym</a>() : <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>() {  <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;ContactNym&quot;</span>; }
<a name="l01392"></a>01392 
<a name="l01393"></a>01393     <span class="keyword">public</span>:
<a name="l01394"></a>01394         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_contact_nym.html#ad27c014be4727030160064b9a338c994">~ContactNym</a>();
<a name="l01395"></a>01395 
<a name="l01396"></a>01396         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01397"></a>01397 
<a name="l01398"></a><a class="code" href="class_o_t_d_b_1_1_contact_nym.html#a2771fd9e6ae437d4d24c3de78c7f3c77">01398</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact_nym.html#a2771fd9e6ae437d4d24c3de78c7f3c77">nym_type</a>;
<a name="l01399"></a><a class="code" href="class_o_t_d_b_1_1_contact_nym.html#a744fe8608e2d76720fbb971a50704552">01399</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact_nym.html#a744fe8608e2d76720fbb971a50704552">nym_id</a>;
<a name="l01400"></a><a class="code" href="class_o_t_d_b_1_1_contact_nym.html#a5d80d1e347c983407f6df9a61dcf718f">01400</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact_nym.html#a5d80d1e347c983407f6df9a61dcf718f">public_key</a>;
<a name="l01401"></a><a class="code" href="class_o_t_d_b_1_1_contact_nym.html#abd40f46f10aa2fa7ef88271a09e6579a">01401</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact_nym.html#abd40f46f10aa2fa7ef88271a09e6579a">memo</a>;
<a name="l01402"></a>01402 
<a name="l01403"></a>01403         <a class="code" href="class_o_t_d_b_1_1_contact_nym.html#a8a3d1ccec36370cecebc3c326d05f9d8">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_server_info.html">ServerInfo</a>);
<a name="l01404"></a>01404 
<a name="l01405"></a>01405         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_contact_nym.html">ContactNym</a>)
<a name="l01406"></a>01406     };
<a name="l01407"></a>01407 
<a name="l01408"></a>01408 
<a name="l01409"></a>01409     <span class="comment">// ------------------------------------------------</span>
<a name="l01410"></a>01410 
<a name="l01411"></a><a class="code" href="class_o_t_d_b_1_1_wallet_data.html">01411</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_wallet_data.html">WalletData</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>
<a name="l01412"></a>01412     {
<a name="l01413"></a>01413         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01414"></a>01414         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01415"></a>01415     <span class="keyword">protected</span>:
<a name="l01416"></a><a class="code" href="class_o_t_d_b_1_1_wallet_data.html#ad79a02648a3e232e77c1d1278bb773a0">01416</a>         <a class="code" href="class_o_t_d_b_1_1_wallet_data.html#ad79a02648a3e232e77c1d1278bb773a0">WalletData</a>() : <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;WalletData&quot;</span>; }
<a name="l01417"></a>01417 
<a name="l01418"></a>01418     <span class="keyword">public</span>:
<a name="l01419"></a><a class="code" href="class_o_t_d_b_1_1_wallet_data.html#adc1361553a4b8f369727313daeff9cda">01419</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_wallet_data.html#adc1361553a4b8f369727313daeff9cda">~WalletData</a>() {  std::cout &lt;&lt; <span class="stringliteral">&quot;WalletData destructor&quot;</span> &lt;&lt; std::endl; }
<a name="l01420"></a>01420 
<a name="l01421"></a>01421         <span class="comment">// List of Bitcoin servers</span>
<a name="l01422"></a>01422         <span class="comment">// List of Bitcoin accounts</span>
<a name="l01423"></a>01423         <span class="comment">// Loom, etc.</span>
<a name="l01424"></a>01424 
<a name="l01425"></a>01425         <a class="code" href="class_o_t_d_b_1_1_wallet_data.html#a4fda924d7aa148e111cd368a4beb5da2">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_bitcoin_server.html">BitcoinServer</a>);
<a name="l01426"></a>01426         <a class="code" href="class_o_t_d_b_1_1_wallet_data.html#a4fda924d7aa148e111cd368a4beb5da2">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_bitcoin_acct.html">BitcoinAcct</a>);
<a name="l01427"></a>01427 
<a name="l01428"></a>01428         <a class="code" href="class_o_t_d_b_1_1_wallet_data.html#a4fda924d7aa148e111cd368a4beb5da2">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_ripple_server.html">RippleServer</a>);
<a name="l01429"></a>01429         <a class="code" href="class_o_t_d_b_1_1_wallet_data.html#a4fda924d7aa148e111cd368a4beb5da2">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_loom_server.html">LoomServer</a>);
<a name="l01430"></a>01430 
<a name="l01431"></a>01431         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_wallet_data.html">WalletData</a>)
<a name="l01432"></a>01432     };
<a name="l01433"></a>01433 
<a name="l01434"></a>01434     <span class="comment">// ----------------------------</span>
<a name="l01435"></a>01435 
<a name="l01436"></a><a class="code" href="class_o_t_d_b_1_1_contact_acct.html">01436</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_contact_acct.html">ContactAcct</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a> {
<a name="l01437"></a>01437         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01438"></a>01438         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01439"></a>01439     <span class="keyword">protected</span>:
<a name="l01440"></a><a class="code" href="class_o_t_d_b_1_1_contact_acct.html#a028a3499b58f5405aab17e1b0978048f">01440</a>         <a class="code" href="class_o_t_d_b_1_1_contact_acct.html#a028a3499b58f5405aab17e1b0978048f">ContactAcct</a>() : <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;ContactAcct&quot;</span>; }
<a name="l01441"></a>01441 
<a name="l01442"></a>01442     <span class="keyword">public</span>:
<a name="l01443"></a><a class="code" href="class_o_t_d_b_1_1_contact_acct.html#ad35c18ce3382c3f017497dad59df68bc">01443</a>         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_contact_acct.html#ad35c18ce3382c3f017497dad59df68bc">~ContactAcct</a>() { }
<a name="l01444"></a>01444 
<a name="l01445"></a>01445         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01446"></a>01446 
<a name="l01447"></a><a class="code" href="class_o_t_d_b_1_1_contact_acct.html#a6d51922d9cd40eedcf8a54d8f0d3082a">01447</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact_acct.html#a6d51922d9cd40eedcf8a54d8f0d3082a">server_type</a>;
<a name="l01448"></a><a class="code" href="class_o_t_d_b_1_1_contact_acct.html#ac797f4ea2a4e20d2e89ede1898a1ca45">01448</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact_acct.html#ac797f4ea2a4e20d2e89ede1898a1ca45">server_id</a>;
<a name="l01449"></a><a class="code" href="class_o_t_d_b_1_1_contact_acct.html#a298d0e8373a9ff9a6b24081cd4452648">01449</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact_acct.html#a298d0e8373a9ff9a6b24081cd4452648">asset_type_id</a>;
<a name="l01450"></a><a class="code" href="class_o_t_d_b_1_1_contact_acct.html#ad6065bf9062d84a0d508596512034f35">01450</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact_acct.html#ad6065bf9062d84a0d508596512034f35">acct_id</a>;
<a name="l01451"></a><a class="code" href="class_o_t_d_b_1_1_contact_acct.html#a0b0403be00fa99d4a1931cb130893675">01451</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact_acct.html#a0b0403be00fa99d4a1931cb130893675">nym_id</a>;
<a name="l01452"></a><a class="code" href="class_o_t_d_b_1_1_contact_acct.html#a5d795a94eb9ba11482e11e6947522f84">01452</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact_acct.html#a5d795a94eb9ba11482e11e6947522f84">memo</a>;
<a name="l01453"></a><a class="code" href="class_o_t_d_b_1_1_contact_acct.html#a28fd2323a01d392ed21187f48b574505">01453</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact_acct.html#a28fd2323a01d392ed21187f48b574505">public_key</a>;
<a name="l01454"></a>01454 
<a name="l01455"></a>01455         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_contact_acct.html">ContactAcct</a>)
<a name="l01456"></a>01456     };
<a name="l01457"></a>01457 
<a name="l01458"></a>01458     <span class="comment">// ----------------------------</span>
<a name="l01459"></a>01459 
<a name="l01460"></a>01460 
<a name="l01461"></a><a class="code" href="class_o_t_d_b_1_1_contact.html">01461</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_contact.html">Contact</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a> {
<a name="l01462"></a>01462         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01463"></a>01463         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01464"></a>01464     <span class="keyword">protected</span>:
<a name="l01465"></a><a class="code" href="class_o_t_d_b_1_1_contact.html#ac6d82377b010585e6cf890e91a9c0ed0">01465</a>         <a class="code" href="class_o_t_d_b_1_1_contact.html#ac6d82377b010585e6cf890e91a9c0ed0">Contact</a>() : <a class="code" href="class_o_t_d_b_1_1_displayable.html">Displayable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;Contact&quot;</span>; }
<a name="l01466"></a>01466 
<a name="l01467"></a>01467     <span class="keyword">public</span>:
<a name="l01468"></a>01468         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_contact.html#a381948577056f83029900e1e2c176e25">~Contact</a>();
<a name="l01469"></a>01469 
<a name="l01470"></a>01470         <span class="keyword">using</span> <a class="code" href="class_o_t_d_b_1_1_displayable.html#a209514488a072b8f54b2417d8f90ce7e">Displayable::gui_label</a>;  <span class="comment">// The label that appears in the GUI</span>
<a name="l01471"></a>01471 
<a name="l01472"></a><a class="code" href="class_o_t_d_b_1_1_contact.html#a14c84002e92a4734d5895e27488e9fd0">01472</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact.html#a14c84002e92a4734d5895e27488e9fd0">contact_id</a>;
<a name="l01473"></a><a class="code" href="class_o_t_d_b_1_1_contact.html#a2c1c474c432dde90162df073b53a1519">01473</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact.html#a2c1c474c432dde90162df073b53a1519">email</a>;
<a name="l01474"></a><a class="code" href="class_o_t_d_b_1_1_contact.html#af55ee1f411ab521f890ee18b97ab2000">01474</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact.html#af55ee1f411ab521f890ee18b97ab2000">memo</a>;
<a name="l01475"></a><a class="code" href="class_o_t_d_b_1_1_contact.html#a684067c11ecaf84a97cbf2302eeac8c2">01475</a>         std::string <a class="code" href="class_o_t_d_b_1_1_contact.html#a684067c11ecaf84a97cbf2302eeac8c2">public_key</a>;
<a name="l01476"></a>01476 
<a name="l01477"></a>01477         <a class="code" href="class_o_t_d_b_1_1_contact.html#a6f4edd106ac4aed4e37c1989d25e4c18">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_contact_nym.html">ContactNym</a>);
<a name="l01478"></a>01478         <a class="code" href="class_o_t_d_b_1_1_contact.html#a6f4edd106ac4aed4e37c1989d25e4c18">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_contact_acct.html">ContactAcct</a>);
<a name="l01479"></a>01479 
<a name="l01480"></a>01480         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_contact.html">Contact</a>)
<a name="l01481"></a>01481     };
<a name="l01482"></a>01482 
<a name="l01483"></a>01483     <span class="comment">// ----------------------------</span>
<a name="l01484"></a>01484 
<a name="l01485"></a><a class="code" href="class_o_t_d_b_1_1_address_book.html">01485</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_address_book.html">AddressBook</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a> {
<a name="l01486"></a>01486         <span class="comment">// You never actually get an instance of this, only its subclasses.</span>
<a name="l01487"></a>01487         <span class="comment">// Therefore, I don&#39;t allow you to access the constructor except through factory.</span>
<a name="l01488"></a>01488     <span class="keyword">protected</span>:
<a name="l01489"></a><a class="code" href="class_o_t_d_b_1_1_address_book.html#a92b57e956bec7aa3f2fe9747fe2a1549">01489</a>         <a class="code" href="class_o_t_d_b_1_1_address_book.html#a92b57e956bec7aa3f2fe9747fe2a1549">AddressBook</a>() : <a class="code" href="class_o_t_d_b_1_1_storable.html">Storable</a>() { <a class="code" href="class_o_t_d_b_1_1_storable.html#a121e5800d8d48511fee18867eb911ec1">m_Type</a> = <span class="stringliteral">&quot;AddressBook&quot;</span>; }
<a name="l01490"></a>01490 
<a name="l01491"></a>01491     <span class="keyword">public</span>:
<a name="l01492"></a>01492         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_address_book.html#a662f71b14e5963206f157fb968f95631">~AddressBook</a>();
<a name="l01493"></a>01493 
<a name="l01494"></a>01494         <a class="code" href="class_o_t_d_b_1_1_address_book.html#a0e95e02dc7923e95490a0cf5913eeea8">DECLARE_GET_ADD_REMOVE</a>(<a class="code" href="class_o_t_d_b_1_1_contact.html">Contact</a>);
<a name="l01495"></a>01495 
<a name="l01496"></a>01496         <a class="code" href="_o_t_storage_8hpp.html#ab122ac60dbdb7b8e45a777d5abfefc7b">DEFINE_OT_DYNAMIC_CAST</a>(<a class="code" href="class_o_t_d_b_1_1_address_book.html">AddressBook</a>)
<a name="l01497"></a>01497     };
<a name="l01498"></a>01498 } <span class="comment">// Namespace OTDB</span>
<a name="l01499"></a>01499 
<a name="l01500"></a>01500 
<a name="l01501"></a>01501 <span class="preprocessor">#ifndef SWIG</span>
<a name="l01502"></a>01502 <span class="preprocessor"></span>
<a name="l01503"></a>01503 
<a name="l01504"></a>01504 <span class="comment">// StorageFS -- FILE-SYSTEM Storage Context</span>
<a name="l01505"></a>01505 <span class="comment">//</span>
<a name="l01506"></a>01506 <span class="comment">//</span>
<a name="l01507"></a>01507 <span class="keyword">namespace </span>OTDB
<a name="l01508"></a>01508 {
<a name="l01509"></a>01509     <span class="comment">// StorageFS means &quot;Storage on Filesystem.&quot;</span>
<a name="l01510"></a>01510     <span class="comment">//</span>
<a name="l01511"></a>01511     <span class="comment">// This is the first subclass of OTDB::Storage -- but it won&#39;t be the last!</span>
<a name="l01512"></a>01512     <span class="comment">//</span>
<a name="l01513"></a><a class="code" href="class_o_t_d_b_1_1_storage_f_s.html">01513</a>     <span class="keyword">class </span><a class="code" href="class_o_t_d_b_1_1_storage_f_s.html">StorageFS</a> : <span class="keyword">public</span> <a class="code" href="class_o_t_d_b_1_1_storage.html">Storage</a>
<a name="l01514"></a>01514     {
<a name="l01515"></a>01515     <span class="keyword">private</span>:
<a name="l01516"></a>01516         std::string m_strDataPath;
<a name="l01517"></a>01517 
<a name="l01518"></a>01518     <span class="keyword">protected</span>:
<a name="l01519"></a>01519         <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#ae838926716cab2de10e456f6dcb116df">StorageFS</a>();<span class="comment">// You have to use the factory to instantiate (so it can create the Packer also.)</span>
<a name="l01520"></a>01520         <span class="comment">// But from there, however you Init, Store, Query, etc is entirely up to you.</span>
<a name="l01521"></a>01521 
<a name="l01522"></a>01522         <span class="comment">// Confirms if a file exists.  If it exists at path; return length.</span>
<a name="l01523"></a>01523         int64_t <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a593e12612f1dd78a44d4da99f6d74dcb">ConstructAndConfirmPath</a>(std::string &amp; strOutput,
<a name="l01524"></a>01524             <span class="keyword">const</span> std::string strFolder, <span class="keyword">const</span> std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l01525"></a>01525             <span class="keyword">const</span> std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">const</span> std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l01526"></a>01526 
<a name="l01527"></a>01527         <span class="comment">// Verifies whether path exists AND creates folders where necessary.</span>
<a name="l01528"></a>01528         int64_t <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a6a26c3eb9f3134be5f02c1006febdf80">ConstructAndCreatePath</a>(std::string &amp; strOutput,
<a name="l01529"></a>01529             <span class="keyword">const</span> std::string strFolder, <span class="keyword">const</span> std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l01530"></a>01530             <span class="keyword">const</span> std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">const</span> std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l01531"></a>01531 
<a name="l01532"></a>01532     <span class="keyword">private</span>:
<a name="l01533"></a>01533 
<a name="l01534"></a>01534         int64_t ConstructAndConfirmPathImp(
<a name="l01535"></a>01535             <span class="keyword">const</span> <span class="keywordtype">bool</span> bMakePath,
<a name="l01536"></a>01536                   std::string &amp; strOutput,
<a name="l01537"></a>01537             <span class="keyword">const</span> std::string zeroStr,
<a name="l01538"></a>01538             <span class="keyword">const</span> std::string oneStr,
<a name="l01539"></a>01539             <span class="keyword">const</span> std::string twoStr,
<a name="l01540"></a>01540             <span class="keyword">const</span> std::string threeStr
<a name="l01541"></a>01541             );
<a name="l01542"></a>01542 
<a name="l01543"></a>01543     <span class="keyword">protected</span>:
<a name="l01544"></a>01544 
<a name="l01545"></a>01545         <span class="comment">// **********************************************************</span>
<a name="l01546"></a>01546         <span class="comment">// If you wish to make your own subclass of OTDB::Storage, then use StorageFS as an example.</span>
<a name="l01547"></a>01547         <span class="comment">// The below 6 methods are the only overrides you need to copy.</span>
<a name="l01548"></a>01548         <span class="comment">//</span>
<a name="l01549"></a>01549         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a52ded0e61a8a7d406e68bf18d456efb2">onStorePackedBuffer</a>(<a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a> &amp; theBuffer, std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l01550"></a>01550             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l01551"></a>01551 
<a name="l01552"></a>01552         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a7c679a563b548e82aee5bdae24c3ac2d">onQueryPackedBuffer</a>(<a class="code" href="class_o_t_d_b_1_1_packed_buffer.html">PackedBuffer</a> &amp; theBuffer, std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l01553"></a>01553             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l01554"></a>01554 
<a name="l01555"></a>01555         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a77f0a0c25ca8ce25ca70e00a3b912d15">onStorePlainString</a>(std::string &amp; theBuffer, std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l01556"></a>01556             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l01557"></a>01557 
<a name="l01558"></a>01558         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a03197bea7b28bd4c5b982644da28073c">onQueryPlainString</a>(std::string &amp; theBuffer, std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l01559"></a>01559             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l01560"></a>01560 
<a name="l01561"></a>01561         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a94b4467ee281198cc19700c433dc254f">onEraseValueByKey</a>(std::string strFolder, std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l01562"></a>01562             std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l01563"></a>01563 
<a name="l01564"></a>01564         <span class="comment">// -----------------------------------------------------</span>
<a name="l01565"></a>01565 
<a name="l01566"></a>01566     <span class="keyword">public</span>:
<a name="l01567"></a>01567         <span class="comment">//virtual bool Init_Basic(OTString strWalletFilename);  // OTLog::Path must be first set to use this command</span>
<a name="l01568"></a>01568 
<a name="l01569"></a>01569         <span class="comment">//virtual bool Init(std::string oneStr=&quot;&quot;, std::string twoStr=&quot;&quot;, std::string threeStr=&quot;&quot;,</span>
<a name="l01570"></a>01570         <span class="comment">//  std::string fourStr=&quot;&quot;, std::string fiveStr=&quot;&quot;, std::string sixStr=&quot;&quot;);</span>
<a name="l01571"></a>01571 
<a name="l01572"></a>01572         <span class="comment">// -----------------------------------------</span>
<a name="l01573"></a>01573         <span class="comment">// See if the file is there.</span>
<a name="l01574"></a>01574         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#ad210595e14260cf53166520cafddc377">Exists</a>(std::string strFolder,
<a name="l01575"></a>01575             std::string oneStr=<span class="stringliteral">&quot;&quot;</span>, std::string twoStr=<span class="stringliteral">&quot;&quot;</span>, std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l01576"></a>01576 
<a name="l01577"></a>01577         <span class="keyword">virtual</span> int64_t <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a7f36cf30a1f0c7a70b0f09ff3c9002ac">FormPathString</a>(std::string &amp; strOutput,
<a name="l01578"></a>01578                                     std::string   strFolder,   std::string oneStr=<span class="stringliteral">&quot;&quot;</span>,
<a name="l01579"></a>01579                                     std::string   twoStr=<span class="stringliteral">&quot;&quot;</span>,   std::string threeStr=<span class="stringliteral">&quot;&quot;</span>);
<a name="l01580"></a>01580 
<a name="l01581"></a>01581         <span class="comment">// **********************************************************</span>
<a name="l01582"></a>01582 
<a name="l01583"></a><a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a910a6f26c84bcda090bfa203c5058055">01583</a>         <span class="keyword">static</span> <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html">StorageFS</a> * <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a910a6f26c84bcda090bfa203c5058055">Instantiate</a>() { <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#ae838926716cab2de10e456f6dcb116df">StorageFS</a>; }
<a name="l01584"></a>01584 
<a name="l01585"></a>01585         <span class="keyword">virtual</span> <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a23a2e0d1e00117b4142e953ddd70ca8a">~StorageFS</a>();
<a name="l01586"></a>01586 
<a name="l01587"></a>01587         <span class="comment">// -----------------------------------------</span>
<a name="l01588"></a>01588         <span class="comment">// lower level calls.</span>
<a name="l01589"></a>01589 
<a name="l01590"></a>01590         <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a8afb78d85f06a2c44fec6de23670b152">ConfirmOrCreateFolder</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * szFolderName, <span class="keyword">struct</span> stat *pst=NULL); <span class="comment">// local to data_folder</span>
<a name="l01591"></a>01591         <span class="keywordtype">bool</span> <a class="code" href="class_o_t_d_b_1_1_storage_f_s.html#a4e376566e5617285d77cc00a6eb8d5ed">ConfirmFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * szFileName, <span class="keyword">struct</span> stat *pst=NULL); <span class="comment">// local to data_folder</span>
<a name="l01592"></a>01592 
<a name="l01593"></a>01593         <span class="comment">/*</span>
<a name="l01594"></a>01594 <span class="comment">        IN BASE CLASS:</span>
<a name="l01595"></a>01595 <span class="comment"></span>
<a name="l01596"></a>01596 <span class="comment">        // -----------------------------------------</span>
<a name="l01597"></a>01597 <span class="comment">        // Store/Retrieve a string.</span>
<a name="l01598"></a>01598 <span class="comment"></span>
<a name="l01599"></a>01599 <span class="comment">        bool StoreString(std::string strContents, std::string strFolder,</span>
<a name="l01600"></a>01600 <span class="comment">        std::string oneStr=&quot;&quot;, std::string twoStr=&quot;&quot;, std::string threeStr=&quot;&quot;);</span>
<a name="l01601"></a>01601 <span class="comment"></span>
<a name="l01602"></a>01602 <span class="comment">        std::string QueryString(std::string strFolder, std::string oneStr=&quot;&quot;,</span>
<a name="l01603"></a>01603 <span class="comment">        std::string twoStr=&quot;&quot;, std::string threeStr=&quot;&quot;);</span>
<a name="l01604"></a>01604 <span class="comment"></span>
<a name="l01605"></a>01605 <span class="comment">        bool StorePlainString(std::string strContents, std::string strFolder,</span>
<a name="l01606"></a>01606 <span class="comment">        std::string oneStr=&quot;&quot;, std::string twoStr=&quot;&quot;, std::string threeStr=&quot;&quot;);</span>
<a name="l01607"></a>01607 <span class="comment"></span>
<a name="l01608"></a>01608 <span class="comment">        std::string QueryPlainString(std::string strFolder, std::string oneStr=&quot;&quot;,</span>
<a name="l01609"></a>01609 <span class="comment">        std::string twoStr=&quot;&quot;, std::string threeStr=&quot;&quot;);</span>
<a name="l01610"></a>01610 <span class="comment"></span>
<a name="l01611"></a>01611 <span class="comment">        // -----------------------------------------</span>
<a name="l01612"></a>01612 <span class="comment">        // Store/Retrieve an object. (Storable.)</span>
<a name="l01613"></a>01613 <span class="comment"></span>
<a name="l01614"></a>01614 <span class="comment">        bool StoreObject(Storable &amp; theContents, std::string strFolder,</span>
<a name="l01615"></a>01615 <span class="comment">        std::string oneStr=&quot;&quot;, std::string twoStr=&quot;&quot;, std::string threeStr=&quot;&quot;);</span>
<a name="l01616"></a>01616 <span class="comment"></span>
<a name="l01617"></a>01617 <span class="comment">        // Use %newobject OTDB::Storage::Query();</span>
<a name="l01618"></a>01618 <span class="comment">        Storable * QueryObject(StoredObjectType theObjectType,</span>
<a name="l01619"></a>01619 <span class="comment">        std::string strFolder, std::string oneStr=&quot;&quot;,</span>
<a name="l01620"></a>01620 <span class="comment">        std::string twoStr=&quot;&quot;, std::string threeStr=&quot;&quot;);</span>
<a name="l01621"></a>01621 <span class="comment">        */</span>
<a name="l01622"></a>01622     };
<a name="l01623"></a>01623 
<a name="l01624"></a>01624     <span class="comment">// Other storage subclasses may go here, for storing in SQL lite,</span>
<a name="l01625"></a>01625     <span class="comment">// or couchDB, mongoDB, distributed DB, etc...</span>
<a name="l01626"></a>01626 
<a name="l01627"></a>01627     <span class="comment">// class StorageCouchDB</span>
<a name="l01628"></a>01628     <span class="comment">// class CloudMagic</span>
<a name="l01629"></a>01629     <span class="comment">// class SQL-LITE</span>
<a name="l01630"></a>01630     <span class="comment">//</span>
<a name="l01631"></a>01631     <span class="comment">// Etc.</span>
<a name="l01632"></a>01632 
<a name="l01633"></a>01633     <span class="comment">// Also, coders using the API should be able to subclass Storage in their own language via SWIG.</span>
<a name="l01634"></a>01634 
<a name="l01635"></a>01635 } <span class="comment">// namespace OTDB</span>
<a name="l01636"></a>01636 
<a name="l01637"></a>01637 
<a name="l01638"></a>01638 <span class="comment">// IStorable-derived types...</span>
<a name="l01639"></a>01639 <span class="comment">//</span>
<a name="l01640"></a>01640 <span class="comment">//</span>
<a name="l01641"></a>01641 <span class="comment">// BELOW are the SUBCLASSES of the storable objects that actually get INSTANTIATED,</span>
<a name="l01642"></a>01642 <span class="comment">// based on WHICH PACKER is being used.</span>
<a name="l01643"></a>01643 
<a name="l01644"></a>01644 <span class="comment">// If you are adding a new DATA OBJECT, then you probably want to add lines below</span>
<a name="l01645"></a>01645 <span class="comment">// for EACH of the different packer types (MsgPack, Protocol Buffers, JSON, etc.)</span>
<a name="l01646"></a>01646 <span class="comment">//</span>
<a name="l01647"></a>01647 
<a name="l01648"></a><a class="code" href="_o_t_storage_8hpp.html#ac0e222d44b6240fc4a1a9c8d18200500">01648</a> <span class="preprocessor">#define OT_USING_ISTORABLE_HOOKS \</span>
<a name="l01649"></a>01649 <span class="preprocessor">    using IStorable::hookBeforePack; \</span>
<a name="l01650"></a>01650 <span class="preprocessor">    using IStorable::hookAfterUnpack</span>
<a name="l01651"></a>01651 <span class="preprocessor"></span>
<a name="l01652"></a>01652 
<a name="l01653"></a>01653 <span class="preprocessor">#endif // (not) SWIG</span>
<a name="l01654"></a>01654 <span class="preprocessor"></span>
<a name="l01655"></a>01655 
<a name="l01656"></a>01656 <span class="preprocessor">#if __clang__</span>
<a name="l01657"></a>01657 <span class="preprocessor"></span><span class="preprocessor">#pragma clang diagnostic pop</span>
<a name="l01658"></a>01658 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l01659"></a>01659 <span class="preprocessor"></span>
<a name="l01660"></a>01660 
<a name="l01661"></a>01661 <span class="preprocessor">#endif // __OT_STORAGE_HPP__</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_o_t_storage_8hpp.html">OTStorage.hpp</a>      </li>

    <li class="footer">Generated on Wed May 21 2014 11:26:00 for Open-Transactions by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
