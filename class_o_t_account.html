<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Open-Transactions: OTAccount Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open-Transactions
   &#160;<span id="projectnumber">master/1066fb4910a63ee3f7de8e0807fee3eb663b66c7</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_o_t_account.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">OTAccount Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="OTAccount" --><!-- doxytag: inherits="OTTransactionType" -->
<p><code>#include &lt;<a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for OTAccount:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_o_t_account.png" usemap="#OTAccount_map" alt=""/>
  <map id="OTAccount_map" name="OTAccount_map">
<area href="class_o_t_transaction_type.html" alt="OTTransactionType" shape="rect" coords="0,56,123,80"/>
<area href="class_o_t_contract.html" alt="OTContract" shape="rect" coords="0,0,123,24"/>
</map>
 </div></div>

<p><a href="class_o_t_account-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784">AccountType</a> { <br/>
&#160;&#160;<a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a26badf67d094e9474ab98546bb2a143a">simple</a>, 
<a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a170fa7885ccfa40da7ae333ea2ae494a">issuer</a>, 
<a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ae1f1a5a7da2a20f9e1a72486fae08993">basket</a>, 
<a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a5aacd60653d044eb340bdc1f884b29df">basketsub</a>, 
<br/>
&#160;&#160;<a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ac26b7618425e99bc68d34bbb9f3397f9">mint</a>, 
<a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784af5353f9044efbb7be7cfed6051db188a">voucher</a>, 
<a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ac791c14e3cfeb43e698255e47d3db13a">stash</a>, 
<a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a4f22d4d318e139061ac2c48f80091dd7">err_acct</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#aea147dd5991690f6a6f9e2500cf39872">MarkForDeletion</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a5ea37408e560bfe75c93b96e2f335883">IsMarkedForDeletion</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a9a3c4e0a90a5f0f837c7f4acda8d4a10">IsInternalServerAcct</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a09c686a0e9c922fa9013c76b13ae08c1">IsOwnedByUser</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a5220879a45ced1282f16d42a7f8cb538">IsOwnedByEntity</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a9241b179f9ad1d191beeb21fb2acfff5">IsAllowedToGoNegative</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#adff29ae9ced4feb6c8de8cc597b58c4a">IsIssuer</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#aebc55498c44bb77c36919b4811fef151">IsStashAcct</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT const int64_t &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a73931a0df419239cef7bf1ca0dd18cb3">GetStashTransNum</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#ad548d31380128cfb5093a8e1bf4f2c73">SetStashTransNum</a> (const int64_t &amp;lTransNum)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a1d880803b4fdfae9399201fc893dec04">OTAccount</a> (const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theUserID, const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theAccountID, const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theServerID, const <a class="el" href="class_o_t_string.html">OTString</a> &amp;name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#afd52a71e7d3f85becdf3392f8442ab50">OTAccount</a> (const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theUserID, const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theAccountID, const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theServerID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#aca33578755138fee32bd8cd13d70d3f5">InitAccount</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a4e89adb580ad1ad48e65fb378ecc6a66">~OTAccount</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a42075c7af766cee85070a02e0521dd2e">Release</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a5f3450036cb4d2eb0eb3bb848b050455">Release_Account</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a0812c2a794b7e99371c7368b20ab0018">GenerateNewAccount</a> (const <a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;theServer, const <a class="el" href="class_o_t_message.html">OTMessage</a> &amp;theMessage, const <a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784">AccountType</a> eAcctType=<a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a26badf67d094e9474ab98546bb2a143a">simple</a>, int64_t lStashTransNum=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT <a class="el" href="class_o_t_ledger.html">OTLedger</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a9d961058556c3a8381b082d3a0b5f7e7">LoadInbox</a> (<a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;theNym)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT <a class="el" href="class_o_t_ledger.html">OTLedger</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a5a00679ce53bc6744dc4ec09c2915b3a">LoadOutbox</a> (<a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;theNym)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a81e503e95310da5ac9c2003cb00d6d2e">SaveInbox</a> (<a class="el" href="class_o_t_ledger.html">OTLedger</a> &amp;theBox, <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> *pHash=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#ad8c1a43eff592d7cd7af20fcd2eac468">SaveOutbox</a> (<a class="el" href="class_o_t_ledger.html">OTLedger</a> &amp;theBox, <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> *pHash=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a3b933b8c929e071a68ec4a29ad5797d6">GetAssetTypeID</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a77fbaae9496caec7cd899721971a89c0">GetBalance</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a893c8f197912e9270495f960804b7a5f">Debit</a> (const int64_t &amp;lAmount)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a9ae37832775933112ad874a9a9110c8b">Credit</a> (const int64_t &amp;lAmount)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a73c89c2d411eb7b88326baf87802f238">VerifyOwner</a> (const <a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;theCandidate) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a4b6aa9e72c2ad3e395f9fe6cea00dd4d">VerifyOwnerByID</a> (const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theNymID) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a4b7e2c2774e3c70d1646f0121bc2ff3c">LoadContract</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#adaba3f4ce60f7ac88f883c0543d9ddb0">SaveAccount</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a5dbacb0d5aedf326fedbbef405662dc3">SaveContractWallet</a> (std::ofstream &amp;ofs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#ad8a025d531477078382405e568966687">SaveContractWallet</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;strContents) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#ac7811202ffe1bd326810bcab5d6120a5">DisplayStatistics</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;strContents) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a9bca7cef30843ef95a7920426fbee11d">SetInboxHash</a> (const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theInput)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#aa0e90e3692031e59bff0cd5296dfbe0e">GetInboxHash</a> (<a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theOutput)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a37e8a6757dafab17aab31022e0bfa4d8">SetOutboxHash</a> (const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theInput)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#af5ff8a85bb964fd1cdb811b383bb0d11">GetOutboxHash</a> (<a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theOutput)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT char const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a15dbf34beb7f8e38c6719120770bc852">GetTypeString</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT <a class="el" href="class_o_t_account.html">OTAccount</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a67320767550f65babfeebee7beff2c34">GenerateNewAccount</a> (const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theUserID, const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theServerID, const <a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;theServerNym, const <a class="el" href="class_o_t_message.html">OTMessage</a> &amp;theMessage, const <a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784">AccountType</a> eAcctType=<a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a26badf67d094e9474ab98546bb2a143a">simple</a>, int64_t lStashTransNum=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT <a class="el" href="class_o_t_account.html">OTAccount</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a6574057f6e3415546d3a9f7d7e445e4f">LoadExistingAccount</a> (const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theAccountID, const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theServerID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT char const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a1c9fba753b80261a9af720217fd5517d">_GetTypeString</a> (<a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784">AccountType</a> theType)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a63548a6300675ad32978649a7c98e50c">ProcessXMLNode</a> (<a class="el" href="namespaceirr_1_1io.html#a1628edbb9d5d53f18c82d2a92b0ad27e">irr::io::IrrXMLReader</a> *&amp;xml)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#ae0e529a1640f9448e4b86e16582f139a">UpdateContents</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a1b5c81c256263005eea2677236fd30f2">OTAccount</a> (const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theUserID, const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theServerID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a25d6207e61d002ad27146304f2b6926b">OTAccount</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784">AccountType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#aa8ba47ebedb439a362f8c368dfc8322e">m_AcctAssetTypeID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">m_BalanceDate</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">m_lStashTransNum</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a6b245a0598afde4fba3fda33b6cba04f">m_bMarkForDeletion</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#af12daedcc5ad5c8b9ec8d20bf9ac18c6">m_InboxHash</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#ac35fa18ed93fe71ebb761170249a0188">m_OutboxHash</a></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_transaction_type.html">OTTransactionType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_account.html#a50cdde745e8606b4c07fd2ca1a18251f">OTTransactionType::TransactionFactory</a> (<a class="el" href="class_o_t_string.html">OTString</a> strInput)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00146">146</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="aadaf6bd4178672bdbc783c6f06313784"></a><!-- doxytag: member="OTAccount::AccountType" ref="aadaf6bd4178672bdbc783c6f06313784" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784">OTAccount::AccountType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aadaf6bd4178672bdbc783c6f06313784a26badf67d094e9474ab98546bb2a143a"></a><!-- doxytag: member="simple" ref="aadaf6bd4178672bdbc783c6f06313784a26badf67d094e9474ab98546bb2a143a" args="" -->simple</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aadaf6bd4178672bdbc783c6f06313784a170fa7885ccfa40da7ae333ea2ae494a"></a><!-- doxytag: member="issuer" ref="aadaf6bd4178672bdbc783c6f06313784a170fa7885ccfa40da7ae333ea2ae494a" args="" -->issuer</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aadaf6bd4178672bdbc783c6f06313784ae1f1a5a7da2a20f9e1a72486fae08993"></a><!-- doxytag: member="basket" ref="aadaf6bd4178672bdbc783c6f06313784ae1f1a5a7da2a20f9e1a72486fae08993" args="" -->basket</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aadaf6bd4178672bdbc783c6f06313784a5aacd60653d044eb340bdc1f884b29df"></a><!-- doxytag: member="basketsub" ref="aadaf6bd4178672bdbc783c6f06313784a5aacd60653d044eb340bdc1f884b29df" args="" -->basketsub</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aadaf6bd4178672bdbc783c6f06313784ac26b7618425e99bc68d34bbb9f3397f9"></a><!-- doxytag: member="mint" ref="aadaf6bd4178672bdbc783c6f06313784ac26b7618425e99bc68d34bbb9f3397f9" args="" -->mint</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aadaf6bd4178672bdbc783c6f06313784af5353f9044efbb7be7cfed6051db188a"></a><!-- doxytag: member="voucher" ref="aadaf6bd4178672bdbc783c6f06313784af5353f9044efbb7be7cfed6051db188a" args="" -->voucher</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aadaf6bd4178672bdbc783c6f06313784ac791c14e3cfeb43e698255e47d3db13a"></a><!-- doxytag: member="stash" ref="aadaf6bd4178672bdbc783c6f06313784ac791c14e3cfeb43e698255e47d3db13a" args="" -->stash</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aadaf6bd4178672bdbc783c6f06313784a4f22d4d318e139061ac2c48f80091dd7"></a><!-- doxytag: member="err_acct" ref="aadaf6bd4178672bdbc783c6f06313784a4f22d4d318e139061ac2c48f80091dd7" args="" -->err_acct</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00154">154</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a26badf67d094e9474ab98546bb2a143a">simple</a>,     <span class="comment">// used by users</span>
        <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a170fa7885ccfa40da7ae333ea2ae494a">issuer</a>,     <span class="comment">// used by issuers  (these can only go negative.)</span>
        <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ae1f1a5a7da2a20f9e1a72486fae08993">basket</a>,     <span class="comment">// issuer acct used by basket currencies (these can only go negative)</span>
        <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a5aacd60653d044eb340bdc1f884b29df">basketsub</a>,  <span class="comment">// used by the server (to store backing reserves for basket sub-accounts)</span>
        <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ac26b7618425e99bc68d34bbb9f3397f9">mint</a>,       <span class="comment">// used by mints (to store backing reserves for cash)</span>
        <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784af5353f9044efbb7be7cfed6051db188a">voucher</a>,    <span class="comment">// used by the server (to store backing reserves for vouchers)</span>
        <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ac791c14e3cfeb43e698255e47d3db13a">stash</a>,      <span class="comment">// used by the server (to store backing reserves for stashes, for smart contracts.)</span>
        <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a4f22d4d318e139061ac2c48f80091dd7">err_acct</a>
    };  <span class="comment">// If you add any types to this list, update the list of strings at the top of the .CPP file.</span>
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1b5c81c256263005eea2677236fd30f2"></a><!-- doxytag: member="OTAccount::OTAccount" ref="a1b5c81c256263005eea2677236fd30f2" args="(const OTIdentifier &amp;theUserID, const OTIdentifier &amp;theServerID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_account.html#a1b5c81c256263005eea2677236fd30f2">OTAccount::OTAccount</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theUserID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theServerID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00445">445</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">: ot_super(), <a class="code" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">m_lStashTransNum</a>(0), <a class="code" href="class_o_t_account.html#a6b245a0598afde4fba3fda33b6cba04f">m_bMarkForDeletion</a>(<span class="keyword">false</span>)
{
    <a class="code" href="class_o_t_account.html#aca33578755138fee32bd8cd13d70d3f5">InitAccount</a>();

    <a class="code" href="class_o_t_transaction_type.html#a7bf07ca057376707a33b7a44447a4334">SetUserID</a>(theUserID);
    <a class="code" href="class_o_t_transaction_type.html#a95c29dde80e19aa9b24c4e92f29a766e">SetRealServerID</a>(theServerID);
    <a class="code" href="class_o_t_transaction_type.html#aae055609a4aa9b78567621209bc3fea1">SetPurportedServerID</a>(theServerID);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a25d6207e61d002ad27146304f2b6926b"></a><!-- doxytag: member="OTAccount::OTAccount" ref="a25d6207e61d002ad27146304f2b6926b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_account.html#a1b5c81c256263005eea2677236fd30f2">OTAccount::OTAccount</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00465">465</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                     : ot_super(), <a class="code" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">m_lStashTransNum</a>(0), <a class="code" href="class_o_t_account.html#a6b245a0598afde4fba3fda33b6cba04f">m_bMarkForDeletion</a>(<span class="keyword">false</span>)
{
    <a class="code" href="class_o_t_account.html#aca33578755138fee32bd8cd13d70d3f5">InitAccount</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1d880803b4fdfae9399201fc893dec04"></a><!-- doxytag: member="OTAccount::OTAccount" ref="a1d880803b4fdfae9399201fc893dec04" args="(const OTIdentifier &amp;theUserID, const OTIdentifier &amp;theAccountID, const OTIdentifier &amp;theServerID, const OTString &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_account.html#a1b5c81c256263005eea2677236fd30f2">OTAccount::OTAccount</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theUserID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theAccountID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theServerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00471">471</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">: ot_super (theUserID, theAccountID, theServerID), <a class="code" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">m_lStashTransNum</a>(0), <a class="code" href="class_o_t_account.html#a6b245a0598afde4fba3fda33b6cba04f">m_bMarkForDeletion</a>(<span class="keyword">false</span>)
{
    <a class="code" href="class_o_t_account.html#aca33578755138fee32bd8cd13d70d3f5">InitAccount</a>();

    <a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a> = name;
}
</pre></div>
</div>
</div>
<a class="anchor" id="afd52a71e7d3f85becdf3392f8442ab50"></a><!-- doxytag: member="OTAccount::OTAccount" ref="afd52a71e7d3f85becdf3392f8442ab50" args="(const OTIdentifier &amp;theUserID, const OTIdentifier &amp;theAccountID, const OTIdentifier &amp;theServerID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_account.html#a1b5c81c256263005eea2677236fd30f2">OTAccount::OTAccount</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theUserID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theAccountID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theServerID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00480">480</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">: ot_super (theUserID, theAccountID, theServerID), <a class="code" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">m_lStashTransNum</a>(0), <a class="code" href="class_o_t_account.html#a6b245a0598afde4fba3fda33b6cba04f">m_bMarkForDeletion</a>(<span class="keyword">false</span>)
{
    <a class="code" href="class_o_t_account.html#aca33578755138fee32bd8cd13d70d3f5">InitAccount</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4e89adb580ad1ad48e65fb378ecc6a66"></a><!-- doxytag: member="OTAccount::~OTAccount" ref="a4e89adb580ad1ad48e65fb378ecc6a66" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_account.html#a4e89adb580ad1ad48e65fb378ecc6a66">OTAccount::~OTAccount</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l01199">1199</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_account.html#a5f3450036cb4d2eb0eb3bb848b050455">Release_Account</a>();
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a1c9fba753b80261a9af720217fd5517d"></a><!-- doxytag: member="OTAccount::_GetTypeString" ref="a1c9fba753b80261a9af720217fd5517d" args="(AccountType theType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char const * <a class="el" href="class_o_t_account.html#a1c9fba753b80261a9af720217fd5517d">OTAccount::_GetTypeString</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784">AccountType</a>&#160;</td>
          <td class="paramname"><em>theType</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00175">175</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                          {
    int32_t nType = <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span> (theType);
    <span class="keywordflow">return</span> <a class="code" href="_o_t_account_8cpp.html#a26fff90a622c312ec2140eb6ae9f819c">__TypeStrings</a>[nType];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9ae37832775933112ad874a9a9110c8b"></a><!-- doxytag: member="OTAccount::Credit" ref="a9ae37832775933112ad874a9a9110c8b" args="(const int64_t &amp;lAmount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a9ae37832775933112ad874a9a9110c8b">OTAccount::Credit</a> </td>
          <td>(</td>
          <td class="paramtype">const int64_t &amp;&#160;</td>
          <td class="paramname"><em>lAmount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00402">402</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">/* // TODO: Decide whether or not to allow negative Debits and negative Credits. (Currrently allowed.)</span>
<span class="comment">     if (lAmount &lt; 0)</span>
<span class="comment">     return false;</span>
<span class="comment">     */</span>

    int64_t lOldBalance = atol(<a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());

    int64_t lNewBalance = lOldBalance + lAmount;  <span class="comment">// The PLUS here is the big difference between Debit and Credit.</span>

    <span class="comment">// If the balance gets too big, it may flip to negative due to us using int64_t int32_t.</span>
    <span class="comment">// We&#39;ll maybe explicitly check that it&#39;s not negative in order to prevent that. TODO.</span>
<span class="comment">//  if (lNewBalance &gt; 0 || (OTAccount::simple != m_AcctType))</span>
<span class="comment">//  {</span>
<span class="comment">//      m_BalanceAmount.Format(&quot;%lld&quot;, lNewBalance);</span>
<span class="comment">//      return true;</span>
<span class="comment">//  }</span>

    <span class="comment">// This is where issuer accounts get a pass. They just go negative.</span>
    <span class="keywordflow">if</span> ((lNewBalance &lt; 0)               &amp;&amp;  <span class="comment">// IF the new balance is less than zero...</span>
        ! <a class="code" href="class_o_t_account.html#a9241b179f9ad1d191beeb21fb2acfff5">IsAllowedToGoNegative</a>()       &amp;&amp;  <span class="comment">// AND it&#39;s a normal account... (not an issuer)</span>
        (lNewBalance &lt; lOldBalance))        <span class="comment">// AND the new balance is even less than the old balance...</span>
        <span class="keywordflow">return</span> <span class="keyword">false</span>;                       <span class="comment">// THEN FAIL. The &quot;new less than old&quot; requirement is recent,</span>
    <span class="keywordflow">else</span>                                    <span class="comment">// and it means that we now allow &lt;0 credits on normal accounts,</span>
    {                                       <span class="comment">// AS LONG AS the result is a HIGHER BALANCE  :-)</span>
        <a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%lld&quot;</span>, lNewBalance);

        <span class="keyword">const</span> <a class="code" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a> tDate = <a class="code" href="_o_t_common_8hpp.html#a1163606b2546b160d50c5f0a5afe479a">OTTimeGetCurrentTime</a>(); <span class="comment">// Today, now.</span>
        <a class="code" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">m_BalanceDate</a>.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%d&quot;</span>, tDate);

        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a893c8f197912e9270495f960804b7a5f"></a><!-- doxytag: member="OTAccount::Debit" ref="a893c8f197912e9270495f960804b7a5f" args="(const int64_t &amp;lAmount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a893c8f197912e9270495f960804b7a5f">OTAccount::Debit</a> </td>
          <td>(</td>
          <td class="paramtype">const int64_t &amp;&#160;</td>
          <td class="paramname"><em>lAmount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00372">372</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">/* // TODO: Decide whether or not to allow negative Debits and negative Credits.</span>
<span class="comment">      // (Currrently allowed -- a negative cheque is the same thing as an invoice.)</span>
<span class="comment">    if (lAmount &lt; 0)</span>
<span class="comment">        return false;</span>
<span class="comment">     */</span>

    int64_t lOldBalance = atol(<a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());

    int64_t lNewBalance = lOldBalance - lAmount;    <span class="comment">// The MINUS here is the big difference between Debit and Credit</span>

    <span class="comment">// This is where issuer accounts get a pass. They just go negative.</span>
    <span class="keywordflow">if</span> ((lNewBalance &lt; 0)               &amp;&amp;  <span class="comment">// IF the new balance is less than zero...</span>
        ! <a class="code" href="class_o_t_account.html#a9241b179f9ad1d191beeb21fb2acfff5">IsAllowedToGoNegative</a>()       &amp;&amp;  <span class="comment">// AND it&#39;s a normal account... (not an issuer)</span>
        (lNewBalance &lt; lOldBalance))        <span class="comment">// AND the new balance is even less than the old balance...</span>
        <span class="keywordflow">return</span> <span class="keyword">false</span>;                       <span class="comment">// THEN FAIL. The &quot;new less than old&quot; requirement is recent,</span>
    <span class="keywordflow">else</span>                                    <span class="comment">// and it means that we now allow &lt;0 debits on normal accounts,</span>
    {                                       <span class="comment">// AS LONG AS the result is a HIGHER BALANCE  :-)</span>
        <a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%lld&quot;</span>, lNewBalance);

        <span class="keyword">const</span> <a class="code" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a> tDate = <a class="code" href="_o_t_common_8hpp.html#a1163606b2546b160d50c5f0a5afe479a">OTTimeGetCurrentTime</a>(); <span class="comment">// Today, now.</span>
        <a class="code" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">m_BalanceDate</a>.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%d&quot;</span>, tDate);

        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac7811202ffe1bd326810bcab5d6120a5"></a><!-- doxytag: member="OTAccount::DisplayStatistics" ref="ac7811202ffe1bd326810bcab5d6120a5" args="(OTString &amp;strContents) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#ac7811202ffe1bd326810bcab5d6120a5">OTAccount::DisplayStatistics</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strContents</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#ae2082c4f9dea1ffa54023c31c37b00f7">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00776">776</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a>  strAccountID(<a class="code" href="class_o_t_transaction_type.html#aa51ed7e1bb8d701f3ed0641d6b1cde9a">GetPurportedAccountID</a>()), strServerID(<a class="code" href="class_o_t_transaction_type.html#a59fc08d52ef5bc0ea546da7a56e86fa5">GetPurportedServerID</a>()),
                    strUserID(<a class="code" href="class_o_t_transaction_type.html#a845d76c16f6f5f3f4bc9ac04393ca3c0">GetUserID</a>()), strAssetTypeID(<a class="code" href="class_o_t_account.html#aa8ba47ebedb439a362f8c368dfc8322e">m_AcctAssetTypeID</a>);

    <a class="code" href="class_o_t_string.html">OTString</a> strAcctType;
    <a class="code" href="_o_t_account_8cpp.html#adbf6b54bb757da316d21d8aa72ef72fe">TranslateAccountTypeToString</a>(<a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a>, strAcctType);

    strContents.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(
                            <span class="stringliteral">&quot; Asset Account (%s) Name: %s\n&quot;</span>
                            <span class="stringliteral">&quot; Last retrieved Balance: %s  on date: %s\n&quot;</span>
                            <span class="stringliteral">&quot; accountID: %s\n&quot;</span>
                            <span class="stringliteral">&quot; userID: %s\n&quot;</span>
                            <span class="stringliteral">&quot; serverID: %s\n&quot;</span>
                            <span class="stringliteral">&quot; assetTypeID: %s\n&quot;</span>
                            <span class="stringliteral">&quot;\n&quot;</span>,
                            strAcctType.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                            <a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                            <a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                            <a class="code" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">m_BalanceDate</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                            strAccountID.Get(),
                            strUserID.Get(),
                            strServerID.Get(),
                            strAssetTypeID.Get());

    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a67320767550f65babfeebee7beff2c34"></a><!-- doxytag: member="OTAccount::GenerateNewAccount" ref="a67320767550f65babfeebee7beff2c34" args="(const OTIdentifier &amp;theUserID, const OTIdentifier &amp;theServerID, const OTPseudonym &amp;theServerNym, const OTMessage &amp;theMessage, const AccountType eAcctType=simple, int64_t lStashTransNum=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_account.html">OTAccount</a> * <a class="el" href="class_o_t_account.html#a67320767550f65babfeebee7beff2c34">OTAccount::GenerateNewAccount</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theUserID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theServerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;&#160;</td>
          <td class="paramname"><em>theServerNym</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_message.html">OTMessage</a> &amp;&#160;</td>
          <td class="paramname"><em>theMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784">AccountType</a>&#160;</td>
          <td class="paramname"><em>eAcctType</em> = <code><a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a26badf67d094e9474ab98546bb2a143a">simple</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>lStashTransNum</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00564">564</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_account.html">OTAccount</a> * pAccount = <span class="keyword">new</span> <a class="code" href="class_o_t_account.html#a25d6207e61d002ad27146304f2b6926b">OTAccount</a>(theUserID, theServerID);

    <span class="keywordflow">if</span> (pAccount)
    {
        <span class="keywordflow">if</span> (pAccount-&gt;<a class="code" href="class_o_t_account.html#a67320767550f65babfeebee7beff2c34">GenerateNewAccount</a>(theServerNym, theMessage, eAcctType,
                                         lStashTransNum)) <span class="comment">// This is only for stash accounts.</span>
            <span class="keywordflow">return</span> pAccount;
        <span class="keywordflow">else</span>
        {
            <span class="keyword">delete</span> pAccount;
            pAccount = NULL;
        }
    }

    <span class="keywordflow">return</span> NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0812c2a794b7e99371c7368b20ab0018"></a><!-- doxytag: member="OTAccount::GenerateNewAccount" ref="a0812c2a794b7e99371c7368b20ab0018" args="(const OTPseudonym &amp;theServer, const OTMessage &amp;theMessage, const AccountType eAcctType=simple, int64_t lStashTransNum=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a67320767550f65babfeebee7beff2c34">OTAccount::GenerateNewAccount</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;&#160;</td>
          <td class="paramname"><em>theServer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_message.html">OTMessage</a> &amp;&#160;</td>
          <td class="paramname"><em>theMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784">AccountType</a>&#160;</td>
          <td class="paramname"><em>eAcctType</em> = <code><a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a26badf67d094e9474ab98546bb2a143a">simple</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>lStashTransNum</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00595">595</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <span class="keywordtype">char</span> *szFunc = <span class="stringliteral">&quot;OTAccount::GenerateNewAccount&quot;</span>;
    <span class="comment">// -----------------------------------------------</span>
    <span class="comment">// First we generate a secure random number into a binary object...</span>
    <span class="comment">//</span>
    <a class="code" href="class_o_t_payload.html">OTPayload</a> thePayload;

    <span class="keywordflow">if</span> (<span class="keyword">false</span> == thePayload.<a class="code" href="class_o_t_data.html#aa4b4bd29833edcce5ddd0f51c5cdbb3c">Randomize</a>(100)) <span class="comment">// todo hardcoding. Plus: is 100 bytes of random a little much here?</span>
    {
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Failed trying to acquire random numbers.\n&quot;</span>, szFunc);
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
    <span class="comment">// --------------------------------------------------</span>
    <span class="comment">//</span>
    <span class="comment">// Next we calculate that binary object into a message digest (an OTIdentifier).</span>
    <span class="comment">//</span>
    <a class="code" href="class_o_t_identifier.html">OTIdentifier</a> newID;
    <span class="keywordflow">if</span> (!newID.<a class="code" href="class_o_t_identifier.html#ac50b356cf5d5d04c08eaf568d07bcc46">CalculateDigest</a>(thePayload))
    {
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error generating new account ID.\n&quot;</span>, szFunc);
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
    <span class="comment">// --------------------------------------------------</span>
    <span class="comment">//</span>
    <span class="comment">// Next we get that digest (which is a binary hash number)</span>
    <span class="comment">// and extract a human-readable standard string format of that hash,</span>
    <span class="comment">// into an OTString.</span>
    <span class="comment">//</span>
    <a class="code" href="class_o_t_string.html">OTString</a> strID(newID);

    <a class="code" href="class_o_t_transaction_type.html#ab9c7df06d15e6dbeb53b3b3d87c13c83">SetRealAccountID</a>(newID);        <span class="comment">// Set the account number based on what we just generated.</span>
    <a class="code" href="class_o_t_transaction_type.html#a80e0cd6a62cb0749526db848a3551bfe">SetPurportedAccountID</a>(newID);   <span class="comment">// Might as well set them both. (Safe here to do so, for once.)</span>

    <a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(strID); <span class="comment">// So it&#39;s not blank. The user can always change it.</span>

    <span class="comment">// Next we create the full path filename for the account using the ID.</span>
    <span class="comment">//</span>
    <a class="code" href="class_o_t_contract.html#ab1e11693a38a1673037b1f29c9d84010">m_strFoldername</a> = <a class="code" href="class_o_t_folders.html#af86d08d57db82ead3572074bccfb53ef">OTFolders::Account</a>().<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>();
    <a class="code" href="class_o_t_contract.html#ab7ab1f1fe7ff7e52f2c126404a8f4f92">m_strFilename</a> = strID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>();

    <span class="comment">// Then we try to load it, in order to make sure that it doesn&#39;t already exist.</span>
    <span class="comment">// --------------------------------------------------------------------</span>

    <span class="keywordflow">if</span> (<a class="code" href="namespace_o_t_d_b.html#a73e39a590dfb64f63065821c6bbcd4c6">OTDB::Exists</a>(<a class="code" href="class_o_t_contract.html#ab1e11693a38a1673037b1f29c9d84010">m_strFoldername</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_contract.html#ab7ab1f1fe7ff7e52f2c126404a8f4f92">m_strFilename</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()))
    {
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Account already exists: %s\n&quot;</span>, szFunc,
                      <a class="code" href="class_o_t_contract.html#ab7ab1f1fe7ff7e52f2c126404a8f4f92">m_strFilename</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <span class="comment">// --------------------------------------------------------------------</span>

    <span class="comment">// Set up the various important starting values of the account.</span>
    <a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a> = eAcctType; <span class="comment">// account type defaults to OTAccount::simple. But there are also issuer accts...</span>

    <span class="comment">// --------------------------------------------------------------------</span>

    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_account.html#a9a3c4e0a90a5f0f837c7f4acda8d4a10">IsInternalServerAcct</a>())  <span class="comment">// basket, basketsub, mint, voucher, and stash accounts are all &quot;owned&quot; by the server.</span>
    {
        theServer.<a class="code" href="class_o_t_pseudonym.html#a1775c7aedd0dd25b2faf3f78dcccabe7">GetIdentifier</a>(<a class="code" href="class_o_t_transaction_type.html#ac37a16cc9755d8c0524d3155d4a3011a">m_AcctUserID</a>);
    }
    <span class="keywordflow">else</span>
    {
        <a class="code" href="class_o_t_transaction_type.html#ac37a16cc9755d8c0524d3155d4a3011a">m_AcctUserID</a>.<a class="code" href="class_o_t_identifier.html#ae29aa1245d3831a207aabc9b8a493bfc">SetString</a>(theMessage.<a class="code" href="class_o_t_message.html#a61b38b159dbb516bb3f4f382b936238a">m_strNymID</a>);
    }

    <span class="comment">// --------------------------------------------------------------------</span>
    <a class="code" href="class_o_t_account.html#aa8ba47ebedb439a362f8c368dfc8322e">m_AcctAssetTypeID</a>.<a class="code" href="class_o_t_identifier.html#ae29aa1245d3831a207aabc9b8a493bfc">SetString</a>(theMessage.<a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>);

    <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(3, <span class="stringliteral">&quot;%s: Creating new account, type:\n%s\n&quot;</span>, szFunc,
                   theMessage.<a class="code" href="class_o_t_message.html#a7cbf8c19d4be37bc2f67a8b8df7e701f">m_strAssetID</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());

    <a class="code" href="class_o_t_identifier.html">OTIdentifier</a> SERVER_ID(theMessage.<a class="code" href="class_o_t_message.html#ae5304f18eb276ecd0c5370aa41817926">m_strServerID</a>);
    <a class="code" href="class_o_t_transaction_type.html#a95c29dde80e19aa9b24c4e92f29a766e">SetRealServerID</a>(SERVER_ID);         <span class="comment">// todo this assumes the serverID on the message is correct. It&#39;s vetted, but still...</span>
    <a class="code" href="class_o_t_transaction_type.html#aae055609a4aa9b78567621209bc3fea1">SetPurportedServerID</a>(SERVER_ID);

    <span class="keyword">const</span> <a class="code" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a> tDate = <a class="code" href="_o_t_common_8hpp.html#a1163606b2546b160d50c5f0a5afe479a">OTTimeGetCurrentTime</a>(); <span class="comment">// Today, now.</span>
    <a class="code" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">m_BalanceDate</a>.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%d&quot;</span>, tDate);

    <a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(<span class="stringliteral">&quot;0&quot;</span>);

    <span class="comment">// --------------------------------------------------------------------</span>

    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_account.html#aebc55498c44bb77c36919b4811fef151">IsStashAcct</a>())
    {
        <a class="code" href="_o_t_assert_8hpp.html#a033b133f48e61f2b227c52ad2be0c882">OT_ASSERT_MSG</a>(lStashTransNum &gt; 0,
                      <span class="stringliteral">&quot;You created a stash account, but with a zero-or-negative transaction number for its cron item.&quot;</span>);
        <a class="code" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">m_lStashTransNum</a>    = lStashTransNum;
    }

    <span class="comment">// --------------------------------------------------------------------</span>

    <span class="comment">// Sign the Account (so we know that we did)... Otherwise someone could put a fake</span>
    <span class="comment">// account file on the server if the code wasn&#39;t designed to verify the signature on the</span>
    <span class="comment">// account.</span>
    <a class="code" href="class_o_t_contract.html#abd60037fe655ee8cae9a3ece5d1e2ea6">SignContract</a>(theServer);
    <a class="code" href="class_o_t_contract.html#a363ae430d4fd9256ab8364dbafb95444">SaveContract</a>();

    <span class="comment">// Save the Account to storage (based on its ID.)</span>
    <a class="code" href="class_o_t_account.html#adaba3f4ce60f7ac88f883c0543d9ddb0">SaveAccount</a>();

    <span class="comment">// Don&#39;t know why I had this here. Putting SaveAccount() instead.</span>
<span class="comment">//  OTString strFilename(m_strFilename);</span>
<span class="comment">//  SaveContract(strFilename.Get()); // Saves the account to a specific filename</span>

    <span class="comment">// No need to create the inbox and outbox ledgers...they will be created automatically</span>
    <span class="comment">// if they do not exist when they are needed.</span>

    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3b933b8c929e071a68ec4a29ad5797d6"></a><!-- doxytag: member="OTAccount::GetAssetTypeID" ref="a3b933b8c929e071a68ec4a29ad5797d6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp; <a class="el" href="class_o_t_account.html#a3b933b8c929e071a68ec4a29ad5797d6">OTAccount::GetAssetTypeID</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00438">438</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="class_o_t_account.html#aa8ba47ebedb439a362f8c368dfc8322e">m_AcctAssetTypeID</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a77fbaae9496caec7cd899721971a89c0"></a><!-- doxytag: member="OTAccount::GetBalance" ref="a77fbaae9496caec7cd899721971a89c0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="class_o_t_account.html#a77fbaae9496caec7cd899721971a89c0">OTAccount::GetBalance</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00710">710</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
        <span class="keywordflow">return</span> atol(<a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());

    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa0e90e3692031e59bff0cd5296dfbe0e"></a><!-- doxytag: member="OTAccount::GetInboxHash" ref="aa0e90e3692031e59bff0cd5296dfbe0e" args="(OTIdentifier &amp;theOutput)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#aa0e90e3692031e59bff0cd5296dfbe0e">OTAccount::GetInboxHash</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00285">285</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    theOutput.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();

    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_account.html#af12daedcc5ad5c8b9ec8d20bf9ac18c6">m_InboxHash</a>.<a class="code" href="class_o_t_data.html#a947528765516223eb03bee7745eb8c07">IsEmpty</a>())
    {
        theOutput = <a class="code" href="class_o_t_account.html#af12daedcc5ad5c8b9ec8d20bf9ac18c6">m_InboxHash</a>;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }

    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code" href="class_o_t_transaction_type.html#a845d76c16f6f5f3f4bc9ac04393ca3c0">GetUserID</a>().<a class="code" href="class_o_t_data.html#a947528765516223eb03bee7745eb8c07">IsEmpty</a>() &amp;&amp;
            !<a class="code" href="class_o_t_transaction_type.html#ac9b118b7db7ea538d6931dee6c2f34e2">GetRealAccountID</a>().<a class="code" href="class_o_t_data.html#a947528765516223eb03bee7745eb8c07">IsEmpty</a>() &amp;&amp;
            !<a class="code" href="class_o_t_transaction_type.html#a6a6c7517c09f0abacc72c1ec84d937ed">GetRealServerID</a>().<a class="code" href="class_o_t_data.html#a947528765516223eb03bee7745eb8c07">IsEmpty</a>()
            )
    {
        <a class="code" href="class_o_t_ledger.html">OTLedger</a> theInbox(<a class="code" href="class_o_t_transaction_type.html#a845d76c16f6f5f3f4bc9ac04393ca3c0">GetUserID</a>(), <a class="code" href="class_o_t_transaction_type.html#ac9b118b7db7ea538d6931dee6c2f34e2">GetRealAccountID</a>(), <a class="code" href="class_o_t_transaction_type.html#a6a6c7517c09f0abacc72c1ec84d937ed">GetRealServerID</a>());

        <span class="keywordflow">if</span> (theInbox.LoadInbox() &amp;&amp; theInbox.CalculateInboxHash(theOutput))
        {
            <a class="code" href="class_o_t_account.html#a9bca7cef30843ef95a7920426fbee11d">SetInboxHash</a>(theOutput);
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
    }

    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af5ff8a85bb964fd1cdb811b383bb0d11"></a><!-- doxytag: member="OTAccount::GetOutboxHash" ref="af5ff8a85bb964fd1cdb811b383bb0d11" args="(OTIdentifier &amp;theOutput)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#af5ff8a85bb964fd1cdb811b383bb0d11">OTAccount::GetOutboxHash</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00319">319</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    theOutput.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();

    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_account.html#ac35fa18ed93fe71ebb761170249a0188">m_OutboxHash</a>.<a class="code" href="class_o_t_data.html#a947528765516223eb03bee7745eb8c07">IsEmpty</a>())
    {
        theOutput = <a class="code" href="class_o_t_account.html#ac35fa18ed93fe71ebb761170249a0188">m_OutboxHash</a>;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_transaction_type.html#a845d76c16f6f5f3f4bc9ac04393ca3c0">GetUserID</a>().<a class="code" href="class_o_t_data.html#a947528765516223eb03bee7745eb8c07">IsEmpty</a>() &amp;&amp;
             !<a class="code" href="class_o_t_transaction_type.html#ac9b118b7db7ea538d6931dee6c2f34e2">GetRealAccountID</a>().<a class="code" href="class_o_t_data.html#a947528765516223eb03bee7745eb8c07">IsEmpty</a>() &amp;&amp;
             !<a class="code" href="class_o_t_transaction_type.html#a6a6c7517c09f0abacc72c1ec84d937ed">GetRealServerID</a>().<a class="code" href="class_o_t_data.html#a947528765516223eb03bee7745eb8c07">IsEmpty</a>()
             )
    {
        <a class="code" href="class_o_t_ledger.html">OTLedger</a> theOutbox(<a class="code" href="class_o_t_transaction_type.html#a845d76c16f6f5f3f4bc9ac04393ca3c0">GetUserID</a>(), <a class="code" href="class_o_t_transaction_type.html#ac9b118b7db7ea538d6931dee6c2f34e2">GetRealAccountID</a>(), <a class="code" href="class_o_t_transaction_type.html#a6a6c7517c09f0abacc72c1ec84d937ed">GetRealServerID</a>());

        <span class="keywordflow">if</span> (theOutbox.LoadOutbox() &amp;&amp; theOutbox.CalculateOutboxHash(theOutput))
        {
            <a class="code" href="class_o_t_account.html#a37e8a6757dafab17aab31022e0bfa4d8">SetOutboxHash</a>(theOutput);
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
    }

    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a73931a0df419239cef7bf1ca0dd18cb3"></a><!-- doxytag: member="OTAccount::GetStashTransNum" ref="a73931a0df419239cef7bf1ca0dd18cb3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT const int64_t&amp; <a class="el" href="class_o_t_account.html#a73931a0df419239cef7bf1ca0dd18cb3">OTAccount::GetStashTransNum</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00203">203</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">m_lStashTransNum</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a15dbf34beb7f8e38c6719120770bc852"></a><!-- doxytag: member="OTAccount::GetTypeString" ref="a15dbf34beb7f8e38c6719120770bc852" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT char const* <a class="el" href="class_o_t_account.html#a15dbf34beb7f8e38c6719120770bc852">OTAccount::GetTypeString</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00262">262</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_o_t_account.html#a1c9fba753b80261a9af720217fd5517d">OTAccount::_GetTypeString</a>(<a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a>); }
</pre></div>
</div>
</div>
<a class="anchor" id="aca33578755138fee32bd8cd13d70d3f5"></a><!-- doxytag: member="OTAccount::InitAccount" ref="aca33578755138fee32bd8cd13d70d3f5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_account.html#aca33578755138fee32bd8cd13d70d3f5">OTAccount::InitAccount</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00456">456</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_contract.html#ac523dac7d72b72e54b1ebb5b3a3b21cc">m_strContractType</a>   = <span class="stringliteral">&quot;ACCOUNT&quot;</span>;

    <a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a>          = <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a26badf67d094e9474ab98546bb2a143a">OTAccount::simple</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9241b179f9ad1d191beeb21fb2acfff5"></a><!-- doxytag: member="OTAccount::IsAllowedToGoNegative" ref="a9241b179f9ad1d191beeb21fb2acfff5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a9241b179f9ad1d191beeb21fb2acfff5">OTAccount::IsAllowedToGoNegative</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l01154">1154</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> bReturnVal = <span class="keyword">false</span>;

    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a>)
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a170fa7885ccfa40da7ae333ea2ae494a">OTAccount::issuer</a>:     <span class="comment">// issuer acct controlled by a user</span>
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ae1f1a5a7da2a20f9e1a72486fae08993">OTAccount::basket</a>:     <span class="comment">// basket issuer acct controlled by the server (for a basket currency)</span>
            bReturnVal = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a26badf67d094e9474ab98546bb2a143a">OTAccount::simple</a>:     <span class="comment">// user asset acct</span>
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a5aacd60653d044eb340bdc1f884b29df">OTAccount::basketsub</a>:  <span class="comment">// internal server acct for storing reserves for basket sub currencies</span>
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ac26b7618425e99bc68d34bbb9f3397f9">OTAccount::mint</a>:       <span class="comment">// internal server acct for storing reserves for cash withdrawals</span>
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784af5353f9044efbb7be7cfed6051db188a">OTAccount::voucher</a>:    <span class="comment">// internal server acct for storing reserves for vouchers (like cashier&#39;s cheques)</span>
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ac791c14e3cfeb43e698255e47d3db13a">OTAccount::stash</a>:      <span class="comment">// internal server acct for storing reserves for smart contract stashes. (Money stashed IN the contract.)</span>
            bReturnVal = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTAccount::IsAllowedToGoNegative: Unknown account type.\n&quot;</span>);
            bReturnVal = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
    }

    <span class="keywordflow">return</span> bReturnVal;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9a3c4e0a90a5f0f837c7f4acda8d4a10"></a><!-- doxytag: member="OTAccount::IsInternalServerAcct" ref="a9a3c4e0a90a5f0f837c7f4acda8d4a10" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a9a3c4e0a90a5f0f837c7f4acda8d4a10">OTAccount::IsInternalServerAcct</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l01088">1088</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> bReturnVal = <span class="keyword">false</span>;

    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a>)
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a26badf67d094e9474ab98546bb2a143a">OTAccount::simple</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a170fa7885ccfa40da7ae333ea2ae494a">OTAccount::issuer</a>:
            bReturnVal = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ae1f1a5a7da2a20f9e1a72486fae08993">OTAccount::basket</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a5aacd60653d044eb340bdc1f884b29df">OTAccount::basketsub</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ac26b7618425e99bc68d34bbb9f3397f9">OTAccount::mint</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784af5353f9044efbb7be7cfed6051db188a">OTAccount::voucher</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ac791c14e3cfeb43e698255e47d3db13a">OTAccount::stash</a>:
            bReturnVal = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTAccount::IsInternalServerAcct: Unknown account type.\n&quot;</span>);
            bReturnVal = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
    }

    <span class="keywordflow">return</span> bReturnVal;
}
</pre></div>
</div>
</div>
<a class="anchor" id="adff29ae9ced4feb6c8de8cc597b58c4a"></a><!-- doxytag: member="OTAccount::IsIssuer" ref="adff29ae9ced4feb6c8de8cc597b58c4a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#adff29ae9ced4feb6c8de8cc597b58c4a">OTAccount::IsIssuer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l01148">1148</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (<a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a170fa7885ccfa40da7ae333ea2ae494a">OTAccount::issuer</a> == <a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5ea37408e560bfe75c93b96e2f335883"></a><!-- doxytag: member="OTAccount::IsMarkedForDeletion" ref="a5ea37408e560bfe75c93b96e2f335883" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a5ea37408e560bfe75c93b96e2f335883">OTAccount::IsMarkedForDeletion</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00189">189</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_o_t_account.html#a6b245a0598afde4fba3fda33b6cba04f">m_bMarkForDeletion</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a5220879a45ced1282f16d42a7f8cb538"></a><!-- doxytag: member="OTAccount::IsOwnedByEntity" ref="a5220879a45ced1282f16d42a7f8cb538" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a5220879a45ced1282f16d42a7f8cb538">OTAccount::IsOwnedByEntity</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l01142">1142</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a09c686a0e9c922fa9013c76b13ae08c1"></a><!-- doxytag: member="OTAccount::IsOwnedByUser" ref="a09c686a0e9c922fa9013c76b13ae08c1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a09c686a0e9c922fa9013c76b13ae08c1">OTAccount::IsOwnedByUser</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l01115">1115</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> bReturnVal = <span class="keyword">false</span>;

    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a>)
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a26badf67d094e9474ab98546bb2a143a">OTAccount::simple</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a170fa7885ccfa40da7ae333ea2ae494a">OTAccount::issuer</a>:
            bReturnVal = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ae1f1a5a7da2a20f9e1a72486fae08993">OTAccount::basket</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a5aacd60653d044eb340bdc1f884b29df">OTAccount::basketsub</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ac26b7618425e99bc68d34bbb9f3397f9">OTAccount::mint</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784af5353f9044efbb7be7cfed6051db188a">OTAccount::voucher</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ac791c14e3cfeb43e698255e47d3db13a">OTAccount::stash</a>:
            bReturnVal = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTAccount::IsOwnedByUser: Unknown account type.\n&quot;</span>);
            bReturnVal = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
    }

    <span class="keywordflow">return</span> bReturnVal;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aebc55498c44bb77c36919b4811fef151"></a><!-- doxytag: member="OTAccount::IsStashAcct" ref="aebc55498c44bb77c36919b4811fef151" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT bool <a class="el" href="class_o_t_account.html#aebc55498c44bb77c36919b4811fef151">OTAccount::IsStashAcct</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00201">201</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> (<a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a> == <a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784ac791c14e3cfeb43e698255e47d3db13a">stash</a>); }
</pre></div>
</div>
</div>
<a class="anchor" id="a4b7e2c2774e3c70d1646f0121bc2ff3c"></a><!-- doxytag: member="OTAccount::LoadContract" ref="a4b7e2c2774e3c70d1646f0121bc2ff3c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a4b7e2c2774e3c70d1646f0121bc2ff3c">OTAccount::LoadContract</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a1432a5e924d021a9dc39320d3b8e7b90">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00353">353</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_string.html">OTString</a> strID;
    <a class="code" href="class_o_t_contract.html#acf77d2db6da3904aa8b03e7b87c02e4e">GetIdentifier</a>(strID);

    <span class="keywordflow">return</span> <a class="code" href="class_o_t_account.html#a4b7e2c2774e3c70d1646f0121bc2ff3c">OTContract::LoadContract</a>(<a class="code" href="class_o_t_folders.html#af86d08d57db82ead3572074bccfb53ef">OTFolders::Account</a>().Get(), strID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6574057f6e3415546d3a9f7d7e445e4f"></a><!-- doxytag: member="OTAccount::LoadExistingAccount" ref="a6574057f6e3415546d3a9f7d7e445e4f" args="(const OTIdentifier &amp;theAccountID, const OTIdentifier &amp;theServerID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_account.html">OTAccount</a> * <a class="el" href="class_o_t_account.html#a6574057f6e3415546d3a9f7d7e445e4f">OTAccount::LoadExistingAccount</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theAccountID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theServerID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00514">514</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> bFolderAlreadyExist=<span class="keyword">false</span>, bFolderIsNew=<span class="keyword">false</span>;

    <a class="code" href="class_o_t_string.html">OTString</a> strDataFolder = <span class="stringliteral">&quot;&quot;</span>, strAccountPath = <span class="stringliteral">&quot;&quot;</span>;
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_data_folder.html#a3cc847ac0fc0e30eb0f37dc8ecc9cec3">OTDataFolder::Get</a>(strDataFolder)) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; };
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_paths.html#a26bb1a6f9db38f290fdf98ff601b2a5a">OTPaths::AppendFolder</a>(strAccountPath,strDataFolder,<a class="code" href="class_o_t_folders.html#af86d08d57db82ead3572074bccfb53ef">OTFolders::Account</a>())) { <a class="code" href="_o_t_assert_8hpp.html#a1ae1def3bdc59b89b0d96240d3c5c321">OT_FAIL</a>; };

    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_paths.html#a7178a5f18d9816e0d5aef470e2841354">OTPaths::ConfirmCreateFolder</a>(strAccountPath,bFolderAlreadyExist,bFolderIsNew))
    {
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;Unable to find or create accounts folder: %s\n&quot;</span>, <a class="code" href="class_o_t_folders.html#af86d08d57db82ead3572074bccfb53ef">OTFolders::Account</a>().Get());
        <span class="keywordflow">return</span> NULL;
    }

    <a class="code" href="class_o_t_account.html">OTAccount</a> * pAccount = <span class="keyword">new</span> <a class="code" href="class_o_t_account.html#a25d6207e61d002ad27146304f2b6926b">OTAccount</a>();

    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != pAccount);

    pAccount-&gt;<a class="code" href="class_o_t_transaction_type.html#ab9c7df06d15e6dbeb53b3b3d87c13c83">SetRealAccountID</a>(theAccountID);
    pAccount-&gt;<a class="code" href="class_o_t_transaction_type.html#a95c29dde80e19aa9b24c4e92f29a766e">SetRealServerID</a>(theServerID);

    <a class="code" href="class_o_t_string.html">OTString</a> strAcctID(theAccountID);

    pAccount-&gt;<a class="code" href="class_o_t_contract.html#ab1e11693a38a1673037b1f29c9d84010">m_strFoldername</a>   = <a class="code" href="class_o_t_folders.html#af86d08d57db82ead3572074bccfb53ef">OTFolders::Account</a>().<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>();
    pAccount-&gt;<a class="code" href="class_o_t_contract.html#ab7ab1f1fe7ff7e52f2c126404a8f4f92">m_strFilename</a>     = strAcctID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>();

    <span class="comment">// --------------------------------------------------------------------</span>

    <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="namespace_o_t_d_b.html#a73e39a590dfb64f63065821c6bbcd4c6">OTDB::Exists</a>(pAccount-&gt;<a class="code" href="class_o_t_contract.html#ab1e11693a38a1673037b1f29c9d84010">m_strFoldername</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), pAccount-&gt;<a class="code" href="class_o_t_contract.html#ab7ab1f1fe7ff7e52f2c126404a8f4f92">m_strFilename</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>()))
    {
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(2, <span class="stringliteral">&quot;OTAccount::LoadExistingAccount: File does not exist: %s%s%s\n&quot;</span>,
                       pAccount-&gt;<a class="code" href="class_o_t_contract.html#ab1e11693a38a1673037b1f29c9d84010">m_strFoldername</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_log.html#a42d3c91ff84ecae0690e34efb4619a77">OTLog::PathSeparator</a>(), pAccount-&gt;<a class="code" href="class_o_t_contract.html#ab7ab1f1fe7ff7e52f2c126404a8f4f92">m_strFilename</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="keywordflow">return</span> NULL;
    }

    <span class="comment">// --------------------------------------------------------------------</span>

    <span class="keywordflow">if</span> (pAccount-&gt;<a class="code" href="class_o_t_account.html#a4b7e2c2774e3c70d1646f0121bc2ff3c">LoadContract</a>() &amp;&amp; pAccount-&gt;<a class="code" href="class_o_t_transaction_type.html#a7799050eb71875ffd069024250854392">VerifyContractID</a>())
        <span class="keywordflow">return</span> pAccount;
    <span class="keywordflow">else</span>
    {
        <span class="keyword">delete</span> pAccount;
        pAccount = NULL;
    }

    <span class="keywordflow">return</span> NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9d961058556c3a8381b082d3a0b5f7e7"></a><!-- doxytag: member="OTAccount::LoadInbox" ref="a9d961058556c3a8381b082d3a0b5f7e7" args="(OTPseudonym &amp;theNym)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_ledger.html">OTLedger</a> * <a class="el" href="class_o_t_account.html#a9d961058556c3a8381b082d3a0b5f7e7">OTAccount::LoadInbox</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;&#160;</td>
          <td class="paramname"><em>theNym</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00182">182</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_ledger.html">OTLedger</a> * pBox = <span class="keyword">new</span> <a class="code" href="class_o_t_ledger.html">OTLedger</a>(<a class="code" href="class_o_t_transaction_type.html#a845d76c16f6f5f3f4bc9ac04393ca3c0">GetUserID</a>(), <a class="code" href="class_o_t_transaction_type.html#ac9b118b7db7ea538d6931dee6c2f34e2">GetRealAccountID</a>(), <a class="code" href="class_o_t_transaction_type.html#a6a6c7517c09f0abacc72c1ec84d937ed">GetRealServerID</a>());
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != pBox);

    <span class="keywordflow">if</span> (pBox-&gt;<a class="code" href="class_o_t_ledger.html#a383560406c46ae01bc5992c4928b45b6">LoadInbox</a>() &amp;&amp; pBox-&gt;<a class="code" href="class_o_t_ledger.html#a3511c200c6eaa50c6cf249c8995fcb7e">VerifyAccount</a>(theNym))
    {
        <span class="keywordflow">return</span> pBox;
    }
    <span class="keywordflow">else</span>
    {
        <a class="code" href="class_o_t_string.html">OTString</a> strUserID(<a class="code" href="class_o_t_transaction_type.html#a845d76c16f6f5f3f4bc9ac04393ca3c0">GetUserID</a>()), strAcctID(<a class="code" href="class_o_t_transaction_type.html#ac9b118b7db7ea538d6931dee6c2f34e2">GetRealAccountID</a>());

        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(2, <span class="stringliteral">&quot;Unable to load or verify inbox:\n%s\n For user:\n%s\n&quot;</span>,
                       strAcctID.Get(), strUserID.Get());
    }

    <span class="keywordflow">return</span> NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5a00679ce53bc6744dc4ec09c2915b3a"></a><!-- doxytag: member="OTAccount::LoadOutbox" ref="a5a00679ce53bc6744dc4ec09c2915b3a" args="(OTPseudonym &amp;theNym)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_ledger.html">OTLedger</a> * <a class="el" href="class_o_t_account.html#a5a00679ce53bc6744dc4ec09c2915b3a">OTAccount::LoadOutbox</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;&#160;</td>
          <td class="paramname"><em>theNym</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00204">204</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_ledger.html">OTLedger</a> * pBox = <span class="keyword">new</span> <a class="code" href="class_o_t_ledger.html">OTLedger</a>(<a class="code" href="class_o_t_transaction_type.html#a845d76c16f6f5f3f4bc9ac04393ca3c0">GetUserID</a>(), <a class="code" href="class_o_t_transaction_type.html#ac9b118b7db7ea538d6931dee6c2f34e2">GetRealAccountID</a>(), <a class="code" href="class_o_t_transaction_type.html#a6a6c7517c09f0abacc72c1ec84d937ed">GetRealServerID</a>());
    <a class="code" href="_o_t_assert_8hpp.html#a74ecab0c6a7b0a9a546bb545160e23b3">OT_ASSERT</a>(NULL != pBox);

    <span class="keywordflow">if</span> (pBox-&gt;<a class="code" href="class_o_t_ledger.html#afa28a4e35a57fa01a8062b608102ddf4">LoadOutbox</a>() &amp;&amp; pBox-&gt;<a class="code" href="class_o_t_ledger.html#a3511c200c6eaa50c6cf249c8995fcb7e">VerifyAccount</a>(theNym))
    {
        <span class="keywordflow">return</span> pBox;
    }
    <span class="keywordflow">else</span>
    {
        <a class="code" href="class_o_t_string.html">OTString</a> strUserID(<a class="code" href="class_o_t_transaction_type.html#a845d76c16f6f5f3f4bc9ac04393ca3c0">GetUserID</a>()), strAcctID(<a class="code" href="class_o_t_transaction_type.html#ac9b118b7db7ea538d6931dee6c2f34e2">GetRealAccountID</a>());

        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(2, <span class="stringliteral">&quot;Unable to load or verify outbox:\n%s\n For user:\n%s\n&quot;</span>,
                       strAcctID.Get(), strUserID.Get());
    }

    <span class="keywordflow">return</span> NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aea147dd5991690f6a6f9e2500cf39872"></a><!-- doxytag: member="OTAccount::MarkForDeletion" ref="aea147dd5991690f6a6f9e2500cf39872" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_account.html#aea147dd5991690f6a6f9e2500cf39872">OTAccount::MarkForDeletion</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00188">188</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <a class="code" href="class_o_t_account.html#a6b245a0598afde4fba3fda33b6cba04f">m_bMarkForDeletion</a> = <span class="keyword">true</span>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a63548a6300675ad32978649a7c98e50c"></a><!-- doxytag: member="OTAccount::ProcessXMLNode" ref="a63548a6300675ad32978649a7c98e50c" args="(irr::io::IrrXMLReader *&amp;xml)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t <a class="el" href="class_o_t_account.html#a63548a6300675ad32978649a7c98e50c">OTAccount::ProcessXMLNode</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceirr_1_1io.html#a1628edbb9d5d53f18c82d2a92b0ad27e">irr::io::IrrXMLReader</a> *&amp;&#160;</td>
          <td class="paramname"><em>xml</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a48611c37c8e8e7d9125238bda2b77978">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00922">922</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    int32_t nReturnVal = 0;

    <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strNodeName(xml-&gt;getNodeName());

    <span class="comment">// Here we call the parent class first.</span>
    <span class="comment">// If the node is found there, or there is some error,</span>
    <span class="comment">// then we just return either way.  But if it comes back</span>
    <span class="comment">// as &#39;0&#39;, then nothing happened, and we&#39;ll continue executing.</span>
    <span class="comment">//</span>
    <span class="comment">// -- Note you can choose not to call the parent if</span>
    <span class="comment">// you don&#39;t want to use any of those xml tags.</span>
    <span class="comment">// As I do below, in the case of OTAccount.</span>
    <span class="comment">//if (nReturnVal = OTTransactionType::ProcessXMLNode(xml))</span>
    <span class="comment">//  return nReturnVal;</span>

    <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;assetAccount&quot;</span>))
    {
        <a class="code" href="class_o_t_string.html">OTString</a> strAcctType;

        <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a>    = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;version&quot;</span>);
        strAcctType     = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;type&quot;</span>);

        <span class="keywordflow">if</span> (!strAcctType.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTAccount::ProcessXMLNode: Failed: Empty assetAccount &#39;type&#39; attribute.\n&quot;</span>);
            <span class="keywordflow">return</span> (-1);
        }

        <a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a> = <a class="code" href="_o_t_account_8cpp.html#a3e4b035adc28d181f6434297af2f0431">TranslateAccountTypeStringToEnum</a>(strAcctType);

        <span class="keywordflow">if</span> (<a class="code" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784a4f22d4d318e139061ac2c48f80091dd7">OTAccount::err_acct</a> == <a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a>)
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTAccount::ProcessXMLNode: Failed: assetAccount &#39;type&#39; attribute contains unknown value.\n&quot;</span>);
            <span class="keywordflow">return</span> (-1);
        }

        <span class="comment">// -------------------------------------------------</span>
        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strAcctAssetType = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;assetTypeID&quot;</span>);

        <span class="keywordflow">if</span> (strAcctAssetType.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_account.html#aa8ba47ebedb439a362f8c368dfc8322e">m_AcctAssetTypeID</a>.<a class="code" href="class_o_t_identifier.html#ae29aa1245d3831a207aabc9b8a493bfc">SetString</a>(strAcctAssetType);
        <span class="comment">// -------------------------------------------------</span>

        <a class="code" href="class_o_t_string.html">OTString</a>    strAccountID(xml-&gt;getAttributeValue(<span class="stringliteral">&quot;accountID&quot;</span>)),
        strServerID(xml-&gt;getAttributeValue(<span class="stringliteral">&quot;serverID&quot;</span>)),
        strAcctUserID(xml-&gt;getAttributeValue(<span class="stringliteral">&quot;userID&quot;</span>));

        <a class="code" href="class_o_t_identifier.html">OTIdentifier</a>    ACCOUNT_ID(strAccountID),
                        SERVER_ID(strServerID),
                        USER_ID(strAcctUserID);

        <a class="code" href="class_o_t_transaction_type.html#a80e0cd6a62cb0749526db848a3551bfe">SetPurportedAccountID</a>(ACCOUNT_ID);
        <a class="code" href="class_o_t_transaction_type.html#aae055609a4aa9b78567621209bc3fea1">SetPurportedServerID</a>(SERVER_ID);
        <a class="code" href="class_o_t_transaction_type.html#a7bf07ca057376707a33b7a44447a4334">SetUserID</a>(USER_ID);

        <a class="code" href="class_o_t_string.html">OTString</a> strAssetTypeID(<a class="code" href="class_o_t_account.html#aa8ba47ebedb439a362f8c368dfc8322e">m_AcctAssetTypeID</a>);
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(3,
                       <span class="comment">//   &quot;\n===&gt; Loading XML for Account into memory structures...&quot;</span>
                       <span class="stringliteral">&quot;\n\nAccount Type: %s\nAccountID: %s\nUserID: %s\n&quot;</span>
                       <span class="stringliteral">&quot;AssetTypeID: %s\nServerID: %s\n&quot;</span>,
                       strAcctType.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), strAccountID.Get(), strAcctUserID.Get(),
                       strAssetTypeID.Get(), strServerID.Get());

        nReturnVal = 1;
    }

    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;inboxHash&quot;</span>))
    {
        <span class="comment">// -------------------------------------------------</span>
        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strHash  = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;value&quot;</span>);
        <span class="keywordflow">if</span> (strHash.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_account.html#af12daedcc5ad5c8b9ec8d20bf9ac18c6">m_InboxHash</a>.<a class="code" href="class_o_t_identifier.html#ae29aa1245d3831a207aabc9b8a493bfc">SetString</a>(strHash);
        <span class="comment">// -------------------------------------------------</span>
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(3, <span class="stringliteral">&quot;Account inboxHash: %s\n&quot;</span>, strHash.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="comment">// -------------------------------------------------</span>
        nReturnVal = 1;
    }

    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;outboxHash&quot;</span>))
    {
        <span class="comment">// -------------------------------------------------</span>
        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strHash  = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;value&quot;</span>);
        <span class="keywordflow">if</span> (strHash.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_account.html#ac35fa18ed93fe71ebb761170249a0188">m_OutboxHash</a>.<a class="code" href="class_o_t_identifier.html#ae29aa1245d3831a207aabc9b8a493bfc">SetString</a>(strHash);
        <span class="comment">// -------------------------------------------------</span>
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(3, <span class="stringliteral">&quot;Account outboxHash: %s\n&quot;</span>, strHash.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="comment">// -------------------------------------------------</span>
        nReturnVal = 1;
    }

    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;MARKED_FOR_DELETION&quot;</span>))
    {
        <a class="code" href="class_o_t_account.html#a6b245a0598afde4fba3fda33b6cba04f">m_bMarkForDeletion</a> = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(3, <span class="stringliteral">&quot;This asset account has been MARKED_FOR_DELETION (at some point prior.)\n&quot;</span>);

        nReturnVal = 1;
    }

    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;balance&quot;</span>))
    {
        <a class="code" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">m_BalanceDate</a>   = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;date&quot;</span>);
        <a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;amount&quot;</span>);

        <span class="comment">// I convert to integer / int64_t and back to string.</span>
        <span class="comment">// (Just an easy way to keep the data clean.)</span>

        int32_t nDate       = atoi(<a class="code" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">m_BalanceDate</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        int64_t lAmount = atol(<a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());

        <a class="code" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">m_BalanceDate</a>.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%d&quot;</span>, nDate);
        <a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#af1c861f21033a1d583b3cb12f952422e">Format</a>(<span class="stringliteral">&quot;%lld&quot;</span>, lAmount);

<span class="comment">//      OTLog::vOutput(1, &quot;\nBALANCE  --  %s\n&quot;,</span>
<span class="comment">//                     m_BalanceAmount.Get());</span>
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(3, <span class="stringliteral">&quot;\nBALANCE  --  %s\nDATE     --  %s\n&quot;</span>,
                       <a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">m_BalanceDate</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());

        nReturnVal = 1;
    }

    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;stashinfo&quot;</span>))
    {
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_account.html#aebc55498c44bb77c36919b4811fef151">IsStashAcct</a>())
        {
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTAccount::ProcessXMLNode: Error: Encountered stashinfo tag while loading NON-STASH account. \n&quot;</span>);
            <span class="keywordflow">return</span> (-1);
        }
        <span class="comment">// ------------------------------------------------------------------------</span>
        int64_t lTransNum = 0;
        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a>  strStashTransNum    = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;cronItemNum&quot;</span>);
        <span class="keywordflow">if</span> (!strStashTransNum.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() || ((lTransNum = atol(strStashTransNum.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>())) &lt;= 0))
        {
            <a class="code" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">m_lStashTransNum</a> = 0;
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTAccount::ProcessXMLNode: Error: Bad transaction number for supposed corresponding cron item: %lld \n&quot;</span>,
                         lTransNum);
            <span class="keywordflow">return</span> (-1);
        }
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">m_lStashTransNum</a> = lTransNum;

        <span class="comment">// ------------------------------</span>

        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(3, <span class="stringliteral">&quot;\nSTASH INFO:   CronItemNum     --  %lld\n&quot;</span>, <a class="code" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">m_lStashTransNum</a>);

        nReturnVal = 1;
    }

    <span class="keywordflow">return</span> nReturnVal;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a42075c7af766cee85070a02e0521dd2e"></a><!-- doxytag: member="OTAccount::Release" ref="a42075c7af766cee85070a02e0521dd2e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_account.html#a42075c7af766cee85070a02e0521dd2e">OTAccount::Release</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_transaction_type.html#aeec55f5abb43646745a532bf10aece24">OTTransactionType</a>.</p>

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l01191">1191</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_account.html#a5f3450036cb4d2eb0eb3bb848b050455">Release_Account</a>();
    <span class="comment">// -----------------------------</span>
    <a class="code" href="class_o_t_transaction_type.html#aeec55f5abb43646745a532bf10aece24">ot_super::Release</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5f3450036cb4d2eb0eb3bb848b050455"></a><!-- doxytag: member="OTAccount::Release_Account" ref="a5f3450036cb4d2eb0eb3bb848b050455" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_account.html#a5f3450036cb4d2eb0eb3bb848b050455">OTAccount::Release_Account</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l01181">1181</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">m_BalanceDate</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
    <a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();

    <a class="code" href="class_o_t_account.html#af12daedcc5ad5c8b9ec8d20bf9ac18c6">m_InboxHash</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <a class="code" href="class_o_t_account.html#ac35fa18ed93fe71ebb761170249a0188">m_OutboxHash</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="adaba3f4ce60f7ac88f883c0543d9ddb0"></a><!-- doxytag: member="OTAccount::SaveAccount" ref="adaba3f4ce60f7ac88f883c0543d9ddb0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#adaba3f4ce60f7ac88f883c0543d9ddb0">OTAccount::SaveAccount</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00362">362</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_string.html">OTString</a> strID;
    <a class="code" href="class_o_t_contract.html#acf77d2db6da3904aa8b03e7b87c02e4e">GetIdentifier</a>(strID);

    <span class="keywordflow">return</span> <a class="code" href="class_o_t_contract.html#a363ae430d4fd9256ab8364dbafb95444">SaveContract</a>(<a class="code" href="class_o_t_folders.html#af86d08d57db82ead3572074bccfb53ef">OTFolders::Account</a>().Get(), strID.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5dbacb0d5aedf326fedbbef405662dc3"></a><!-- doxytag: member="OTAccount::SaveContractWallet" ref="a5dbacb0d5aedf326fedbbef405662dc3" args="(std::ofstream &amp;ofs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a5dbacb0d5aedf326fedbbef405662dc3">OTAccount::SaveContractWallet</a> </td>
          <td>(</td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>ofs</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_transaction_type.html#abd60f993ccc74387236943cd4209f72e">OTTransactionType</a>.</p>

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00840">840</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_string.html">OTString</a> strOutput;

    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_account.html#a5dbacb0d5aedf326fedbbef405662dc3">SaveContractWallet</a>(strOutput))
    {
        ofs &lt;&lt; strOutput.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>();
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }

    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad8a025d531477078382405e568966687"></a><!-- doxytag: member="OTAccount::SaveContractWallet" ref="ad8a025d531477078382405e568966687" args="(OTString &amp;strContents) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a5dbacb0d5aedf326fedbbef405662dc3">OTAccount::SaveContractWallet</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strContents</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a3a96fe4485355ac3c9a3863fc283f33e">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00805">805</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a>  strAccountID(<a class="code" href="class_o_t_transaction_type.html#aa51ed7e1bb8d701f3ed0641d6b1cde9a">GetPurportedAccountID</a>()),
                    strServerID(<a class="code" href="class_o_t_transaction_type.html#a59fc08d52ef5bc0ea546da7a56e86fa5">GetPurportedServerID</a>()),
                    strUserID(<a class="code" href="class_o_t_transaction_type.html#a845d76c16f6f5f3f4bc9ac04393ca3c0">GetUserID</a>()),
                    strAssetTypeID(<a class="code" href="class_o_t_account.html#aa8ba47ebedb439a362f8c368dfc8322e">m_AcctAssetTypeID</a>);

    <a class="code" href="class_o_t_string.html">OTString</a> strAcctType;
    <a class="code" href="_o_t_account_8cpp.html#adbf6b54bb757da316d21d8aa72ef72fe">TranslateAccountTypeToString</a>(<a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a>, strAcctType);

    <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> ascName;

    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>()) <span class="comment">// name is in the clear in memory, and base64 in storage.</span>
    {
        ascName.<a class="code" href="class_o_t_a_s_c_i_i_armor.html#ad898bd63a4c37a97f64acfa7514409cc">SetString</a>(<a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>, <span class="keyword">false</span>); <span class="comment">// linebreaks == false</span>
    }

    strContents.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;!-- Last retrieved balance: %s on date: %s --&gt;\n&quot;</span>
                            <span class="stringliteral">&quot;&lt;!-- Account type: %s --&gt;&lt;assetAccount name=\&quot;%s\&quot;\n&quot;</span>
                            <span class="stringliteral">&quot; accountID=\&quot;%s\&quot;\n&quot;</span>
                            <span class="stringliteral">&quot; userID=\&quot;%s\&quot;\n&quot;</span>
                            <span class="stringliteral">&quot; serverID=\&quot;%s\&quot; /&gt;\n&quot;</span>
                            <span class="stringliteral">&quot;&lt;!-- assetTypeID: %s --&gt;\n\n&quot;</span>,
                            <a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                            <a class="code" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">m_BalanceDate</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                            strAcctType.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                            <a class="code" href="class_o_t_contract.html#af86a3a124ae977b30bfd3f5cd14d1f9f">m_strName</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() ? ascName.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>() : <span class="stringliteral">&quot;&quot;</span>,
                            strAccountID.Get(),
                            strUserID.Get(),
                            strServerID.Get(),
                            strAssetTypeID.Get());
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a81e503e95310da5ac9c2003cb00d6d2e"></a><!-- doxytag: member="OTAccount::SaveInbox" ref="a81e503e95310da5ac9c2003cb00d6d2e" args="(OTLedger &amp;theBox, OTIdentifier *pHash=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a81e503e95310da5ac9c2003cb00d6d2e">OTAccount::SaveInbox</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_ledger.html">OTLedger</a> &amp;&#160;</td>
          <td class="paramname"><em>theBox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> *&#160;</td>
          <td class="paramname"><em>pHash</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00227">227</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_transaction_type.html#acaf49d28c09b71943a0bfb0801d23017">IsSameAccount</a>(theBox))
    {
        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a>  strAcctID(<a class="code" href="class_o_t_transaction_type.html#ac9b118b7db7ea538d6931dee6c2f34e2">GetRealAccountID</a>()),              strServerID(<a class="code" href="class_o_t_transaction_type.html#a6a6c7517c09f0abacc72c1ec84d937ed">GetRealServerID</a>()),
                        strBoxAcctID(theBox.<a class="code" href="class_o_t_transaction_type.html#ac9b118b7db7ea538d6931dee6c2f34e2">GetRealAccountID</a>()),    strBoxSvrID(theBox.<a class="code" href="class_o_t_transaction_type.html#a6a6c7517c09f0abacc72c1ec84d937ed">GetRealServerID</a>());
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTAccount::SaveInbox: ERROR: The ledger passed in, isn&#39;t even for this account!\n&quot;</span>
                      <span class="stringliteral">&quot;   Acct ID: %s\n  Other ID: %s\n Server ID: %s\n Other ID: %s\n&quot;</span>,
                      strAcctID.Get(), strBoxAcctID.Get(), strServerID.Get(), strBoxSvrID.Get());
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <a class="code" href="class_o_t_identifier.html">OTIdentifier</a> theHash; <span class="comment">// Use pHash.</span>
    <span class="keywordflow">if</span> (NULL == pHash)
        pHash = &amp;theHash;
    <span class="comment">// ------------------------------------------</span>
    <span class="keywordtype">bool</span> bSuccess = theBox.<a class="code" href="class_o_t_ledger.html#a53d47cbd97a874f205dcfb1df75eba40">SaveInbox</a>(pHash);

    <span class="keywordflow">if</span> (bSuccess)
        this-&gt;<a class="code" href="class_o_t_account.html#a9bca7cef30843ef95a7920426fbee11d">SetInboxHash</a>(*pHash);

    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad8c1a43eff592d7cd7af20fcd2eac468"></a><!-- doxytag: member="OTAccount::SaveOutbox" ref="ad8c1a43eff592d7cd7af20fcd2eac468" args="(OTLedger &amp;theBox, OTIdentifier *pHash=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#ad8c1a43eff592d7cd7af20fcd2eac468">OTAccount::SaveOutbox</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_ledger.html">OTLedger</a> &amp;&#160;</td>
          <td class="paramname"><em>theBox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> *&#160;</td>
          <td class="paramname"><em>pHash</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00254">254</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_transaction_type.html#acaf49d28c09b71943a0bfb0801d23017">IsSameAccount</a>(theBox))
    {
        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a>  strAcctID(<a class="code" href="class_o_t_transaction_type.html#ac9b118b7db7ea538d6931dee6c2f34e2">GetRealAccountID</a>()),              strServerID(<a class="code" href="class_o_t_transaction_type.html#a6a6c7517c09f0abacc72c1ec84d937ed">GetRealServerID</a>()),
                        strBoxAcctID(theBox.<a class="code" href="class_o_t_transaction_type.html#ac9b118b7db7ea538d6931dee6c2f34e2">GetRealAccountID</a>()),    strBoxSvrID(theBox.<a class="code" href="class_o_t_transaction_type.html#a6a6c7517c09f0abacc72c1ec84d937ed">GetRealServerID</a>());
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTAccount::SaveOutbox: ERROR: The ledger passed in, isn&#39;t even for this account!\n&quot;</span>
                      <span class="stringliteral">&quot;   Acct ID: %s\n  Other ID: %s\n Server ID: %s\n Other ID: %s\n&quot;</span>,
                      strAcctID.Get(), strBoxAcctID.Get(), strServerID.Get(), strBoxSvrID.Get());
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <a class="code" href="class_o_t_identifier.html">OTIdentifier</a> theHash; <span class="comment">// Use pHash.</span>
    <span class="keywordflow">if</span> (NULL == pHash)
        pHash = &amp;theHash;
    <span class="comment">// ------------------------------------------</span>
    <span class="keywordtype">bool</span> bSuccess = theBox.<a class="code" href="class_o_t_ledger.html#a97cb4ada66ef13b442bfd69e0a9e0c25">SaveOutbox</a>(pHash);

    <span class="keywordflow">if</span> (bSuccess)
        this-&gt;<a class="code" href="class_o_t_account.html#a37e8a6757dafab17aab31022e0bfa4d8">SetOutboxHash</a>(*pHash);

    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9bca7cef30843ef95a7920426fbee11d"></a><!-- doxytag: member="OTAccount::SetInboxHash" ref="a9bca7cef30843ef95a7920426fbee11d" args="(const OTIdentifier &amp;theInput)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_account.html#a9bca7cef30843ef95a7920426fbee11d">OTAccount::SetInboxHash</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theInput</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00279">279</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_account.html#af12daedcc5ad5c8b9ec8d20bf9ac18c6">m_InboxHash</a> = theInput;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a37e8a6757dafab17aab31022e0bfa4d8"></a><!-- doxytag: member="OTAccount::SetOutboxHash" ref="a37e8a6757dafab17aab31022e0bfa4d8" args="(const OTIdentifier &amp;theInput)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_account.html#a37e8a6757dafab17aab31022e0bfa4d8">OTAccount::SetOutboxHash</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theInput</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00313">313</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_account.html#ac35fa18ed93fe71ebb761170249a0188">m_OutboxHash</a> = theInput;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad548d31380128cfb5093a8e1bf4f2c73"></a><!-- doxytag: member="OTAccount::SetStashTransNum" ref="ad548d31380128cfb5093a8e1bf4f2c73" args="(const int64_t &amp;lTransNum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT void <a class="el" href="class_o_t_account.html#ad548d31380128cfb5093a8e1bf4f2c73">OTAccount::SetStashTransNum</a> </td>
          <td>(</td>
          <td class="paramtype">const int64_t &amp;&#160;</td>
          <td class="paramname"><em>lTransNum</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00204">204</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <a class="code" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">m_lStashTransNum</a> = lTransNum; }
</pre></div>
</div>
</div>
<a class="anchor" id="ae0e529a1640f9448e4b86e16582f139a"></a><!-- doxytag: member="OTAccount::UpdateContents" ref="ae0e529a1640f9448e4b86e16582f139a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_account.html#ae0e529a1640f9448e4b86e16582f139a">OTAccount::UpdateContents</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a78c28164555e2eb79d6b67698421638d">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00876">876</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_string.html">OTString</a> strAssetTYPEID(<a class="code" href="class_o_t_account.html#aa8ba47ebedb439a362f8c368dfc8322e">m_AcctAssetTypeID</a>); <span class="comment">// asset type</span>

    <a class="code" href="class_o_t_string.html">OTString</a> ACCOUNT_ID(<a class="code" href="class_o_t_transaction_type.html#aa51ed7e1bb8d701f3ed0641d6b1cde9a">GetPurportedAccountID</a>()), SERVER_ID(<a class="code" href="class_o_t_transaction_type.html#a59fc08d52ef5bc0ea546da7a56e86fa5">GetPurportedServerID</a>()), USER_ID(<a class="code" href="class_o_t_transaction_type.html#a845d76c16f6f5f3f4bc9ac04393ca3c0">GetUserID</a>());

    <a class="code" href="class_o_t_string.html">OTString</a> strAcctType;
    <a class="code" href="_o_t_account_8cpp.html#adbf6b54bb757da316d21d8aa72ef72fe">TranslateAccountTypeToString</a>(<a class="code" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">m_AcctType</a>, strAcctType);

    <span class="comment">// I release this because I&#39;m about to repopulate it.</span>
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();

    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;?xml version=\&quot;%s\&quot;?&gt;\n\n&quot;</span>, <span class="stringliteral">&quot;1.0&quot;</span>);

    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;assetAccount\n version=\&quot;%s\&quot;\n type=\&quot;%s\&quot;\n accountID=\&quot;%s\&quot;\n userID=\&quot;%s\&quot;\n&quot;</span>
                              <span class="stringliteral">&quot; serverID=\&quot;%s\&quot;\n assetTypeID=\&quot;%s\&quot; &gt;\n\n&quot;</span>, <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), strAcctType.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                              ACCOUNT_ID.Get(), USER_ID.Get(), SERVER_ID.Get(), strAssetTYPEID.Get());
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_account.html#aebc55498c44bb77c36919b4811fef151">IsStashAcct</a>())
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;stashinfo cronItemNum=\&quot;%lld\&quot;/&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">m_lStashTransNum</a>);

    <span class="comment">// -------------------------------------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_account.html#af12daedcc5ad5c8b9ec8d20bf9ac18c6">m_InboxHash</a>.<a class="code" href="class_o_t_data.html#a947528765516223eb03bee7745eb8c07">IsEmpty</a>())
    {
        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strHash(<a class="code" href="class_o_t_account.html#af12daedcc5ad5c8b9ec8d20bf9ac18c6">m_InboxHash</a>);
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;inboxHash value=\&quot;%s\&quot;/&gt;\n\n&quot;</span>, strHash.Get());
    }
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_account.html#ac35fa18ed93fe71ebb761170249a0188">m_OutboxHash</a>.<a class="code" href="class_o_t_data.html#a947528765516223eb03bee7745eb8c07">IsEmpty</a>())
    {
        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strHash(<a class="code" href="class_o_t_account.html#ac35fa18ed93fe71ebb761170249a0188">m_OutboxHash</a>);
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;outboxHash value=\&quot;%s\&quot;/&gt;\n\n&quot;</span>, strHash.Get());
    }
    <span class="comment">// -------------------------------------------------</span>

<span class="comment">//  m_xmlUnsigned.Concatenate(&quot;&lt;balance amount=\&quot;%s\&quot;/&gt;\n\n&quot;, m_BalanceAmount.Get());</span>
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;balance date=\&quot;%s\&quot; amount=\&quot;%s\&quot;/&gt;\n\n&quot;</span>, <a class="code" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">m_BalanceDate</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(), <a class="code" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">m_BalanceAmount</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());

    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_account.html#a6b245a0598afde4fba3fda33b6cba04f">m_bMarkForDeletion</a>)
        <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;MARKED_FOR_DELETION&gt;\n&quot;</span>
                                  <span class="stringliteral">&quot;%s&lt;/MARKED_FOR_DELETION&gt;\n\n&quot;</span>,
                                  <span class="stringliteral">&quot;THIS ACCOUNT HAS BEEN MARKED FOR DELETION AT ITS OWN REQUEST&quot;</span>);

    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/assetAccount&gt;\n&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a73c89c2d411eb7b88326baf87802f238"></a><!-- doxytag: member="OTAccount::VerifyOwner" ref="a73c89c2d411eb7b88326baf87802f238" args="(const OTPseudonym &amp;theCandidate) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a73c89c2d411eb7b88326baf87802f238">OTAccount::VerifyOwner</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_pseudonym.html">OTPseudonym</a> &amp;&#160;</td>
          <td class="paramname"><em>theCandidate</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00490">490</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_identifier.html">OTIdentifier</a> ID_CANDIDATE;
    theCandidate.<a class="code" href="class_o_t_pseudonym.html#a1775c7aedd0dd25b2faf3f78dcccabe7">GetIdentifier</a>(ID_CANDIDATE); <span class="comment">// ID_CANDIDATE now contains the ID of the Nym we&#39;re testing.</span>

    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_transaction_type.html#ac37a16cc9755d8c0524d3155d4a3011a">m_AcctUserID</a> == ID_CANDIDATE)
    {
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4b6aa9e72c2ad3e395f9fe6cea00dd4d"></a><!-- doxytag: member="OTAccount::VerifyOwnerByID" ref="a4b6aa9e72c2ad3e395f9fe6cea00dd4d" args="(const OTIdentifier &amp;theNymID) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a4b6aa9e72c2ad3e395f9fe6cea00dd4d">OTAccount::VerifyOwnerByID</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theNymID</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8cpp_source.html#l00505">505</a> of file <a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (theNymID == <a class="code" href="class_o_t_transaction_type.html#ac37a16cc9755d8c0524d3155d4a3011a">m_AcctUserID</a>);
}
</pre></div>
</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="a50cdde745e8606b4c07fd2ca1a18251f"></a><!-- doxytag: member="OTAccount::OTTransactionType::TransactionFactory" ref="a50cdde745e8606b4c07fd2ca1a18251f" args="(OTString strInput)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_transaction_type.html">OTTransactionType</a>* <a class="el" href="class_o_t_transaction_type.html#a3322a8680cb317a52691b17aa23da79d">OTTransactionType::TransactionFactory</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td>
          <td class="paramname"><em>strInput</em></td><td>)</td>
          <td><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aa8ba47ebedb439a362f8c368dfc8322e"></a><!-- doxytag: member="OTAccount::m_AcctAssetTypeID" ref="aa8ba47ebedb439a362f8c368dfc8322e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> <a class="el" href="class_o_t_account.html#aa8ba47ebedb439a362f8c368dfc8322e">OTAccount::m_AcctAssetTypeID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00168">168</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a697c8d1cfd8594bfd9420eac51363ece"></a><!-- doxytag: member="OTAccount::m_AcctType" ref="a697c8d1cfd8594bfd9420eac51363ece" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_account.html#aadaf6bd4178672bdbc783c6f06313784">AccountType</a> <a class="el" href="class_o_t_account.html#a697c8d1cfd8594bfd9420eac51363ece">OTAccount::m_AcctType</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00167">167</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aee1116ae8bbd48687eafffd717289572"></a><!-- doxytag: member="OTAccount::m_BalanceAmount" ref="aee1116ae8bbd48687eafffd717289572" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_account.html#aee1116ae8bbd48687eafffd717289572">OTAccount::m_BalanceAmount</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00170">170</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7967e13fb06572a7c98f84abfa62753e"></a><!-- doxytag: member="OTAccount::m_BalanceDate" ref="a7967e13fb06572a7c98f84abfa62753e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_account.html#a7967e13fb06572a7c98f84abfa62753e">OTAccount::m_BalanceDate</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00169">169</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6b245a0598afde4fba3fda33b6cba04f"></a><!-- doxytag: member="OTAccount::m_bMarkForDeletion" ref="a6b245a0598afde4fba3fda33b6cba04f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_account.html#a6b245a0598afde4fba3fda33b6cba04f">OTAccount::m_bMarkForDeletion</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00181">181</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af12daedcc5ad5c8b9ec8d20bf9ac18c6"></a><!-- doxytag: member="OTAccount::m_InboxHash" ref="af12daedcc5ad5c8b9ec8d20bf9ac18c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> <a class="el" href="class_o_t_account.html#af12daedcc5ad5c8b9ec8d20bf9ac18c6">OTAccount::m_InboxHash</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00184">184</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="afc0e6cdc8b82aa2087cf70971d9ca58f"></a><!-- doxytag: member="OTAccount::m_lStashTransNum" ref="afc0e6cdc8b82aa2087cf70971d9ca58f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="class_o_t_account.html#afc0e6cdc8b82aa2087cf70971d9ca58f">OTAccount::m_lStashTransNum</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00179">179</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac35fa18ed93fe71ebb761170249a0188"></a><!-- doxytag: member="OTAccount::m_OutboxHash" ref="ac35fa18ed93fe71ebb761170249a0188" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> <a class="el" href="class_o_t_account.html#ac35fa18ed93fe71ebb761170249a0188">OTAccount::m_OutboxHash</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_account_8hpp_source.html#l00185">185</a> of file <a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/otlib/<a class="el" href="_o_t_account_8hpp_source.html">OTAccount.hpp</a></li>
<li>src/otlib/<a class="el" href="_o_t_account_8cpp_source.html">OTAccount.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_o_t_account.html">OTAccount</a>      </li>

    <li class="footer">Generated on Wed May 21 2014 11:26:08 for Open-Transactions by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
