<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Open-Transactions: OTPayment Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open-Transactions
   &#160;<span id="projectnumber">master/1066fb4910a63ee3f7de8e0807fee3eb663b66c7</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_o_t_payment.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">OTPayment Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="OTPayment" --><!-- doxytag: inherits="OTContract" -->
<p><code>#include &lt;<a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for OTPayment:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_o_t_payment.png" usemap="#OTPayment_map" alt=""/>
  <map id="OTPayment_map" name="OTPayment_map">
<area href="class_o_t_contract.html" alt="OTContract" shape="rect" coords="0,0,77,24"/>
</map>
 </div></div>

<p><a href="class_o_t_payment-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0">paymentType</a> { <br/>
&#160;&#160;<a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">CHEQUE</a>, 
<a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">VOUCHER</a>, 
<a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">INVOICE</a>, 
<a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">PAYMENT_PLAN</a>, 
<br/>
&#160;&#160;<a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">SMART_CONTRACT</a>, 
<a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">PURSE</a>, 
<a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0">ERROR_STATE</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a294a4886d8701ff1366bca5fdd1e7b56">SetPayment</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strPayment)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a948614fbef0145fda7d186cc612dee06">IsCheque</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a459ef3429d35343f1ede5b34ed76c01a">IsVoucher</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a98bfd8e0a5a538b0bb9652e4029b501a">IsInvoice</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#ab60c94469f9b1214044f0c3d6f299fb6">IsPaymentPlan</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#af8848b7629e2ea525facf9b1f47d5b63">IsSmartContract</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#aec4f77470b159c3afd1cc4e3dffe464d">IsPurse</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a7f95ab568d481ecc7d38689c80caba84">IsValid</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT <a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0">paymentType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a750b001a080812918d7c68bbc85c3ff3">GetType</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT <a class="el" href="class_o_t_trackable.html">OTTrackable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a3425627e011f9430eb9396f741f41a98">Instantiate</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT <a class="el" href="class_o_t_trackable.html">OTTrackable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#ae6e2fb1febc08fdd10f6e3536a2b9f1e">Instantiate</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strPayment)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT <a class="el" href="class_o_t_purse.html">OTPurse</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a56282fcb9bb1a2b86c0675e9fb331bd5">InstantiatePurse</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT <a class="el" href="class_o_t_purse.html">OTPurse</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a6e9e01bef4ad54426bdcbde04c1436a7">InstantiatePurse</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strPayment)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a1d067b54e63054b1021ef5f187911fab">GetPaymentContents</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;strOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a1ee95406f9d221ae4a57783422d52156">SetTempValues</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a9452c5d40b4f00c3a1238082f0bced7c">SetTempValuesFromCheque</a> (const <a class="el" href="class_o_t_cheque.html">OTCheque</a> &amp;theInput)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a9b5558bb68cd1f3fa77bbf80c4c221b4">SetTempValuesFromPaymentPlan</a> (const <a class="el" href="class_o_t_payment_plan.html">OTPaymentPlan</a> &amp;theInput)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a66d6bbed423969e833fe13562fdfcd94">SetTempValuesFromSmartContract</a> (const <a class="el" href="class_o_t_smart_contract.html">OTSmartContract</a> &amp;theInput)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a0844d3157fe650bd285e35f665df2b8f">SetTempValuesFromPurse</a> (const <a class="el" href="class_o_t_purse.html">OTPurse</a> &amp;theInput)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#acb3588ce12579879e64d65ed69afd5f6">GetAmount</a> (int64_t &amp;lOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a02ffc34caf84cf6e9f88910b6354fbd8">GetTransactionNum</a> (int64_t &amp;lOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a4a6c103790c2fc759136079db0e65434">GetOpeningNum</a> (int64_t &amp;lOutput, const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theNymID) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#aa93e36e5f8eee1770bcad851df792a57">GetClosingNum</a> (int64_t &amp;lOutput, const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theAcctID) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a0ba3b1210d5e29d3a19cd5c116dd21f3">GetAllTransactionNumbers</a> (<a class="el" href="class_o_t_num_list.html">OTNumList</a> &amp;numlistOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a3bc9488327ec7e7f52bb1921956331b7">HasTransactionNum</a> (const int64_t &amp;lInput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a76ed76e62e9b57487f08a6f1296260ab">GetMemo</a> (<a class="el" href="class_o_t_string.html">OTString</a> &amp;strOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a37342f7cb3d3fa42afb8531f4989d552">GetAssetTypeID</a> (<a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a8bd230489482647591b26c47ad3e31fe">GetServerID</a> (<a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a0df0b7637d7a74e10008aa349e148abd">GetSenderUserID</a> (<a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a866c7dee565216660a9a9c95bfd49aa4">GetSenderAcctID</a> (<a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a153137d1b34d4c1aee7d6350c56585cb">GetRecipientUserID</a> (<a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a7ceb4d0048fd3fa3e7359d104274ac56">GetRecipientAcctID</a> (<a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#aa1ba92e3012a6c5a847fdab8957eaa48">GetRemitterUserID</a> (<a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a846843bfb3ae2c69d82c1c7189f2ab12">GetRemitterAcctID</a> (<a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a5a1cb7c6a2d91e7eb3905863d72ce4e6">GetSenderUserIDForDisplay</a> (<a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#af197690691464b57f9d9224357444351">GetSenderAcctIDForDisplay</a> (<a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;theOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#af3c3ed5823d48d9cf86463987f67ddae">GetValidFrom</a> (<a class="el" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a> &amp;tOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a11dbba988d5da835179885043b4c3979">GetValidTo</a> (<a class="el" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a> &amp;tOutput) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a8831dc6de72e6932d5a0d6e40a7d87a0">VerifyCurrentDate</a> (bool &amp;bVerified)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a1949cd91091734be36e607c3a2877822">IsExpired</a> (bool &amp;bExpired)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a47898e617d394405eee59b4428c4cdc6">OTPayment</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a6c2b2a3f04dcff91fbae40da542ad3c7">OTPayment</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strPayment)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a0251f7b66368d04f4323baac87b9366b">~OTPayment</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a54347a13ef5466e52d95f8b2b1c1d672">InitPayment</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a7cf95857505d6e4f10c84a84b33255a8">Release</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#ac1d91f322c152b6310c9ada945e9d226">Release_Payment</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#ad25b2fa9f167cd044c0cc612ec9468fe">ProcessXMLNode</a> (<a class="el" href="namespaceirr_1_1io.html#a1628edbb9d5d53f18c82d2a92b0ad27e">irr::io::IrrXMLReader</a> *&amp;xml)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EXPORT bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#ab87d89965b8e68cd091c112fd7b2c3a5">SaveContractWallet</a> (std::ofstream &amp;ofs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EXPORT const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a2ed80244fa3583b81f87abf8fc526f67">GetTypeString</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#ad019a554c33313963df3dcb4a5e8154a">_GetTypeString</a> (<a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0">paymentType</a> theType)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static EXPORT <a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0">paymentType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a1559338db72c8297cb70f6feaddf4a9d">GetTypeFromString</a> (const <a class="el" href="class_o_t_string.html">OTString</a> &amp;strType)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a17c8cdcdc40ec8a56c7ccc268ea656a0">UpdateContents</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0">paymentType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#ac1b9934eb3a6a308b2e38a6c5f59f07b">m_bHasRemitter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#af0f26895e0294e7236e3e920ecf891d4">m_lAmount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_string.html">OTString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a937b80425043a30a0d1ab05e1fe2b3f9">m_strMemo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a35675f3123df9b419a519f1c5f18ac76">m_AssetTypeID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#ab766d430ff41d3fa5978c16d3b327979">m_ServerID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a497ff2afb88d3e1915492c308051478a">m_SenderUserID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a5b8b90461586d736e1119938ad20fbe1">m_SenderAcctID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#ab272856a722bbadaa7b487d22561119c">m_RecipientUserID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#af2c22e5bf69af419f55c80c7d941b5ba">m_RecipientAcctID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a7f73dc77c02ee3c6cee0b401f75007a6">m_RemitterUserID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#a7b8740359d33cbb79ca405c2e9444d4a">m_RemitterAcctID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#aced10b81d79e8d153242949ec99d0fb1">m_VALID_FROM</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00189">189</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="aff3d9ae26dc36bc91037fe53db0d55d0"></a><!-- doxytag: member="OTPayment::paymentType" ref="aff3d9ae26dc36bc91037fe53db0d55d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0">OTPayment::paymentType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0"></a><!-- doxytag: member="CHEQUE" ref="aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0" args="" -->CHEQUE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef"></a><!-- doxytag: member="VOUCHER" ref="aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef" args="" -->VOUCHER</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b"></a><!-- doxytag: member="INVOICE" ref="aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b" args="" -->INVOICE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2"></a><!-- doxytag: member="PAYMENT_PLAN" ref="aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2" args="" -->PAYMENT_PLAN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1"></a><!-- doxytag: member="SMART_CONTRACT" ref="aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1" args="" -->SMART_CONTRACT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e"></a><!-- doxytag: member="PURSE" ref="aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e" args="" -->PURSE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0"></a><!-- doxytag: member="ERROR_STATE" ref="aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0" args="" -->ERROR_STATE</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00195">195</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="comment">// ------------------</span>
        <span class="comment">// OTCheque is derived from OTTrackable, which is derived from OTInstrument, which is</span>
        <span class="comment">// derived from OTScriptable, which is derived from OTContract.</span>
        <span class="comment">// ------------------</span>
        <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">CHEQUE</a>,         <span class="comment">// A cheque drawn on a user&#39;s account.</span>
        <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">VOUCHER</a>,        <span class="comment">// A cheque drawn on a server account (cashier&#39;s cheque aka banker&#39;s cheque)</span>
        <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">INVOICE</a>,        <span class="comment">// A cheque with a negative amount. (Depositing this causes a payment out, instead of a deposit in.)</span>
        <span class="comment">// ------------------</span>
        <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">PAYMENT_PLAN</a>,   <span class="comment">// An OTCronItem-derived OTPaymentPlan, related to a recurring payment plan.</span>
        <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">SMART_CONTRACT</a>, <span class="comment">// An OTCronItem-derived OTSmartContract, related to a smart contract.</span>
        <span class="comment">// ------------------</span>
        <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">PURSE</a>,          <span class="comment">// An OTContract-derived OTPurse containing a list of cash OTTokens.</span>
        <span class="comment">// ------------------</span>
        <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0">ERROR_STATE</a>
    };  <span class="comment">// If you add any types to this list, update the list of strings at the top of the .CPP file.</span>
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a47898e617d394405eee59b4428c4cdc6"></a><!-- doxytag: member="OTPayment::OTPayment" ref="a47898e617d394405eee59b4428c4cdc6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_payment.html#a47898e617d394405eee59b4428c4cdc6">OTPayment::OTPayment</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01277">1277</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">:   ot_super(),
    <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>(<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0">OTPayment::ERROR_STATE</a>),
    <a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>(<span class="keyword">false</span>),
    <a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a>(<span class="keyword">false</span>),
    <a class="code" href="class_o_t_payment.html#ac1b9934eb3a6a308b2e38a6c5f59f07b">m_bHasRemitter</a>(<span class="keyword">false</span>),
    <a class="code" href="class_o_t_payment.html#af0f26895e0294e7236e3e920ecf891d4">m_lAmount</a>(0),
    <a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>(0),
    <a class="code" href="class_o_t_payment.html#aced10b81d79e8d153242949ec99d0fb1">m_VALID_FROM</a>(<a class="code" href="_o_t_common_8hpp.html#af4ca9fa2c7c290d647dd18de0a9ac25f">OT_TIME_ZERO</a>),
    <a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a>(<a class="code" href="_o_t_common_8hpp.html#af4ca9fa2c7c290d647dd18de0a9ac25f">OT_TIME_ZERO</a>)
{
    <a class="code" href="class_o_t_payment.html#a54347a13ef5466e52d95f8b2b1c1d672">InitPayment</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6c2b2a3f04dcff91fbae40da542ad3c7"></a><!-- doxytag: member="OTPayment::OTPayment" ref="a6c2b2a3f04dcff91fbae40da542ad3c7" args="(const OTString &amp;strPayment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_payment.html#a47898e617d394405eee59b4428c4cdc6">OTPayment::OTPayment</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strPayment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01292">1292</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">:   ot_super(),
    <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>(<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0">OTPayment::ERROR_STATE</a>),
    <a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>(<span class="keyword">false</span>),
    <a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a>(<span class="keyword">false</span>),
    <a class="code" href="class_o_t_payment.html#ac1b9934eb3a6a308b2e38a6c5f59f07b">m_bHasRemitter</a>(<span class="keyword">false</span>),
    <a class="code" href="class_o_t_payment.html#af0f26895e0294e7236e3e920ecf891d4">m_lAmount</a>(0),
    <a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>(0),
    <a class="code" href="class_o_t_payment.html#aced10b81d79e8d153242949ec99d0fb1">m_VALID_FROM</a>(<a class="code" href="_o_t_common_8hpp.html#af4ca9fa2c7c290d647dd18de0a9ac25f">OT_TIME_ZERO</a>),
    <a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a>(<a class="code" href="_o_t_common_8hpp.html#af4ca9fa2c7c290d647dd18de0a9ac25f">OT_TIME_ZERO</a>)
{
    <a class="code" href="class_o_t_payment.html#a54347a13ef5466e52d95f8b2b1c1d672">InitPayment</a>();
    
    <a class="code" href="class_o_t_payment.html#a294a4886d8701ff1366bca5fdd1e7b56">SetPayment</a>(strPayment);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0251f7b66368d04f4323baac87b9366b"></a><!-- doxytag: member="OTPayment::~OTPayment" ref="a0251f7b66368d04f4323baac87b9366b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_payment.html#a0251f7b66368d04f4323baac87b9366b">OTPayment::~OTPayment</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01569">1569</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_payment.html#ac1d91f322c152b6310c9ada945e9d226">Release_Payment</a>();
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad019a554c33313963df3dcb4a5e8154a"></a><!-- doxytag: member="OTPayment::_GetTypeString" ref="ad019a554c33313963df3dcb4a5e8154a" args="(paymentType theType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * <a class="el" href="class_o_t_payment.html#ad019a554c33313963df3dcb4a5e8154a">OTPayment::_GetTypeString</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0">paymentType</a>&#160;</td>
          <td class="paramname"><em>theType</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00168">168</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                          {
    int32_t nType = <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span> (theType);
    <span class="keywordflow">return</span> <a class="code" href="_o_t_account_8cpp.html#a26fff90a622c312ec2140eb6ae9f819c">__TypeStrings</a>[nType];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0ba3b1210d5e29d3a19cd5c116dd21f3"></a><!-- doxytag: member="OTPayment::GetAllTransactionNumbers" ref="a0ba3b1210d5e29d3a19cd5c116dd21f3" args="(OTNumList &amp;numlistOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a0ba3b1210d5e29d3a19cd5c116dd21f3">OTPayment::GetAllTransactionNumbers</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_num_list.html">OTNumList</a> &amp;&#160;</td>
          <td class="paramname"><em>numlistOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00541">541</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// SMART CONTRACTS and PAYMENT PLANS get a little special</span>
    <span class="comment">// treatment here at the top.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> ((<span class="keyword">false</span> == <a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)        || <span class="comment">// Why is this here? Because if temp values haven&#39;t been set yet,</span>
        (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a> == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) || <span class="comment">// then m_Type isn&#39;t set either. We only want smartcontracts and   UPDATE: m_Type IS set!!</span>
        (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>   == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) )  <span class="comment">// payment plans here, but without m_Type we can&#39;t know the type...This comment is wrong!!</span>
    {
        <a class="code" href="class_o_t_trackable.html">OTTrackable</a> * pTrackable = this-&gt;<a class="code" href="class_o_t_payment.html#a3425627e011f9430eb9396f741f41a98">Instantiate</a>();
        <span class="keywordflow">if</span> ( NULL  == pTrackable )
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Failed instantiating OTPayment containing:\n%s\n&quot;</span>,
                          __FUNCTION__, <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        } <span class="comment">// BELOW THIS POINT, MUST DELETE pTrackable!</span>
        <a class="code" href="class_o_t_cleanup.html">OTCleanup&lt;OTTrackable&gt;</a> theTrackableAngel(*pTrackable); <span class="comment">// (This automates the DELETION.)</span>
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment_plan.html">OTPaymentPlan</a>   * pPlan          = NULL;
        <a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> * pSmartContract = NULL;
        <span class="comment">// ----------------------------</span>
        pPlan          = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_payment_plan.html">OTPaymentPlan</a> *<span class="keyword">&gt;</span>(pTrackable);
        pSmartContract = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> *<span class="keyword">&gt;</span>(pTrackable);
        <span class="comment">// ----------------------------</span>
        <span class="keywordflow">if</span> (NULL != pPlan)
        {
            pPlan-&gt;<a class="code" href="class_o_t_agreement.html#ae35163519320dde9c7ba32a9ece6537c">GetAllTransactionNumbers</a>(numlistOutput);
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NULL != pSmartContract)
        {
            pSmartContract-&gt;<a class="code" href="class_o_t_smart_contract.html#ace4cafaf9afe3c3076271564d699cc65">GetAllTransactionNumbers</a>(numlistOutput);
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
    }
    <span class="comment">// -------------------------------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)  <span class="comment">// (This function normally fails, if temp values aren&#39;t set,</span>
        <span class="keywordflow">return</span> <span class="keyword">false</span>;          <span class="comment">//  for all payment types except the recurring ones above.)</span>
    <span class="comment">// -------------------------------------------</span>
    <span class="comment">// Next: ALL OTHER payment types...</span>
    <span class="comment">//</span>
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
            <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a> &gt; 0)
                numlistOutput.Add(<a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>);
            bSuccess = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;

        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
            bSuccess = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:   <span class="comment">// Should never happen. (Handled already above.)</span>
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>: <span class="comment">// Should never happen. (Handled already above.)</span>
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::%s: Bad payment type!\n&quot;</span>, __FUNCTION__);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acb3588ce12579879e64d65ed69afd5f6"></a><!-- doxytag: member="OTPayment::GetAmount" ref="acb3588ce12579879e64d65ed69afd5f6" args="(int64_t &amp;lOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#acb3588ce12579879e64d65ed69afd5f6">OTPayment::GetAmount</a> </td>
          <td>(</td>
          <td class="paramtype">int64_t &amp;&#160;</td>
          <td class="paramname"><em>lOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00507">507</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    lOutput = 0;
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
            lOutput  = <a class="code" href="class_o_t_payment.html#af0f26895e0294e7236e3e920ecf891d4">m_lAmount</a>;
            bSuccess = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>:
            lOutput  = 0;
            bSuccess = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetAmount: Bad payment type!\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a37342f7cb3d3fa42afb8531f4989d552"></a><!-- doxytag: member="OTPayment::GetAssetTypeID" ref="a37342f7cb3d3fa42afb8531f4989d552" args="(OTIdentifier &amp;theOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a37342f7cb3d3fa42afb8531f4989d552">OTPayment::GetAssetTypeID</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00991">991</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    theOutput.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
            theOutput = <a class="code" href="class_o_t_payment.html#a35675f3123df9b419a519f1c5f18ac76">m_AssetTypeID</a>;
            bSuccess  = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>:
            bSuccess  = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetAssetTypeID: Bad payment type!\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa93e36e5f8eee1770bcad851df792a57"></a><!-- doxytag: member="OTPayment::GetClosingNum" ref="aa93e36e5f8eee1770bcad851df792a57" args="(int64_t &amp;lOutput, const OTIdentifier &amp;theAcctID) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#aa93e36e5f8eee1770bcad851df792a57">OTPayment::GetClosingNum</a> </td>
          <td>(</td>
          <td class="paramtype">int64_t &amp;&#160;</td>
          <td class="paramname"><em>lOutput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theAcctID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00680">680</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    lOutput = 0;
    <span class="comment">// ----------------------</span>
    <span class="comment">// SMART CONTRACTS and PAYMENT PLANS get a little special</span>
    <span class="comment">// treatment here at the top.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> ((<span class="keyword">false</span> == <a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)        || <span class="comment">// m_Type isn&#39;t even set if this is false.</span>
        (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a> == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) ||
        (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>   == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) )
    {
        <a class="code" href="class_o_t_trackable.html">OTTrackable</a> * pTrackable = this-&gt;<a class="code" href="class_o_t_payment.html#a3425627e011f9430eb9396f741f41a98">Instantiate</a>();
        <span class="keywordflow">if</span> ( NULL  == pTrackable )
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Failed instantiating OTPayment containing:\n%s\n&quot;</span>,
                          __FUNCTION__, <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        } <span class="comment">// BELOW THIS POINT, MUST DELETE pTrackable!</span>
        <a class="code" href="class_o_t_cleanup.html">OTCleanup&lt;OTTrackable&gt;</a> theTrackableAngel(*pTrackable); <span class="comment">// (This automates the DELETION.)</span>
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> * pSmartContract = NULL;
        pSmartContract = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> *<span class="keyword">&gt;</span>(pTrackable);
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment_plan.html">OTPaymentPlan</a> * pPlan = NULL;
        pPlan = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_payment_plan.html">OTPaymentPlan</a> *<span class="keyword">&gt;</span>(pTrackable);
        <span class="comment">// ----------------------------</span>
        <span class="keywordflow">if</span> (NULL != pSmartContract)
        {
            lOutput = pSmartContract-&gt;<a class="code" href="class_o_t_smart_contract.html#a3a9a2325c23aa03f4e6ce03fec6f69f7">GetClosingNumber</a>(theAcctID);
            <span class="keywordflow">if</span> (lOutput &gt; 0)
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NULL != pPlan)
        {
            lOutput = pPlan-&gt;<a class="code" href="class_o_t_agreement.html#ab9ff6bc2d5f152a9e3f2203a067af40b">GetClosingNumber</a>(theAcctID);
            <span class="keywordflow">if</span> (lOutput &gt; 0)
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
    }
    <span class="comment">// -------------------------------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="comment">// -------------------------------------------</span>
    <span class="comment">// Next: ALL OTHER payment types...</span>
    <span class="comment">//</span>
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
    {
        <span class="comment">// ------------------------</span>
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
            lOutput  = 0; <span class="comment">// Redundant, but just making sure.</span>
            bSuccess = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
        <span class="comment">// ------------------------</span>
        <span class="keywordflow">default</span>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>:
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Bad payment type!\n&quot;</span>, __FUNCTION__);
            <span class="keywordflow">break</span>;
        <span class="comment">// ------------------------</span>
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a76ed76e62e9b57487f08a6f1296260ab"></a><!-- doxytag: member="OTPayment::GetMemo" ref="a76ed76e62e9b57487f08a6f1296260ab" args="(OTString &amp;strOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a76ed76e62e9b57487f08a6f1296260ab">OTPayment::GetMemo</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00469">469</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    strOutput.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:
            <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#a937b80425043a30a0d1ab05e1fe2b3f9">m_strMemo</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            {
                strOutput = <a class="code" href="class_o_t_payment.html#a937b80425043a30a0d1ab05e1fe2b3f9">m_strMemo</a>;
                bSuccess = <span class="keyword">true</span>;
            }
            <span class="keywordflow">else</span>
                bSuccess = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
            bSuccess = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetMemo: Bad payment type!\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4a6c103790c2fc759136079db0e65434"></a><!-- doxytag: member="OTPayment::GetOpeningNum" ref="a4a6c103790c2fc759136079db0e65434" args="(int64_t &amp;lOutput, const OTIdentifier &amp;theNymID) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a4a6c103790c2fc759136079db0e65434">OTPayment::GetOpeningNum</a> </td>
          <td>(</td>
          <td class="paramtype">int64_t &amp;&#160;</td>
          <td class="paramname"><em>lOutput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theNymID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00753">753</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    lOutput = 0;
    <span class="comment">// ----------------------</span>
    <span class="comment">// SMART CONTRACTS and PAYMENT PLANS get a little special</span>
    <span class="comment">// treatment here at the top.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> ((<span class="keyword">false</span> == <a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)        || <span class="comment">// m_Type isn&#39;t even set if this is false.</span>
        (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a> == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) ||
        (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>   == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) )
    {
        <a class="code" href="class_o_t_trackable.html">OTTrackable</a> * pTrackable = this-&gt;<a class="code" href="class_o_t_payment.html#a3425627e011f9430eb9396f741f41a98">Instantiate</a>();
        <span class="keywordflow">if</span> ( NULL  == pTrackable )
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Failed instantiating OTPayment containing:\n%s\n&quot;</span>,
                          __FUNCTION__, <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        } <span class="comment">// BELOW THIS POINT, MUST DELETE pTrackable!</span>
        <a class="code" href="class_o_t_cleanup.html">OTCleanup&lt;OTTrackable&gt;</a> theTrackableAngel(*pTrackable); <span class="comment">// (This automates the DELETION.)</span>
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> * pSmartContract = NULL;
        pSmartContract = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> *<span class="keyword">&gt;</span>(pTrackable);
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment_plan.html">OTPaymentPlan</a> * pPlan = NULL;
        pPlan = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_payment_plan.html">OTPaymentPlan</a> *<span class="keyword">&gt;</span>(pTrackable);
        <span class="comment">// ----------------------------</span>
        <span class="keywordflow">if</span> (NULL != pSmartContract)
        {
            lOutput = pSmartContract-&gt;<a class="code" href="class_o_t_smart_contract.html#a2bb8a0f8a1ff8ddf637e5d87d5935e51">GetOpeningNumber</a>(theNymID);
            <span class="keywordflow">if</span> (lOutput &gt; 0)
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NULL != pPlan)
        {
            lOutput = pPlan-&gt;<a class="code" href="class_o_t_agreement.html#a809937fd06b26ff5791094592be68b0d">GetOpeningNumber</a>(theNymID);
            <span class="keywordflow">if</span> (lOutput &gt; 0)
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
    }
    <span class="comment">// -------------------------------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="comment">// -------------------------------------------</span>
    <span class="comment">//</span>
    <span class="comment">// Next: ALL OTHER payment types...</span>
    <span class="comment">//</span>
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
    {
        <span class="comment">// ------------------------</span>
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
            <span class="keywordflow">if</span> (theNymID == <a class="code" href="class_o_t_payment.html#a497ff2afb88d3e1915492c308051478a">m_SenderUserID</a>)
            {
                lOutput = <a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>;  <span class="comment">// The &quot;opening&quot; number for a cheque is the ONLY number it has.</span>
                bSuccess = <span class="keyword">true</span>;
            }
            <span class="keywordflow">else</span>
            {
                lOutput  = 0;
                bSuccess = <span class="keyword">false</span>;
            }
            <span class="keywordflow">break</span>;
        <span class="comment">// ------------------------</span>
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
            <span class="keywordflow">if</span> (theNymID == <a class="code" href="class_o_t_payment.html#a7f73dc77c02ee3c6cee0b401f75007a6">m_RemitterUserID</a>)
            {
                lOutput = <a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>;  <span class="comment">// The &quot;opening&quot; number for a cheque is the ONLY number it has.</span>
                bSuccess = <span class="keyword">true</span>;
            }
            <span class="keywordflow">else</span>
            {
                lOutput  = 0;
                bSuccess = <span class="keyword">false</span>;
            }
            <span class="keywordflow">break</span>;
        <span class="comment">// ------------------------</span>
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
            lOutput  = 0; <span class="comment">// Redundant, but just making sure.</span>
            bSuccess = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
        <span class="comment">// ------------------------</span>
        <span class="keywordflow">default</span>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>:
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Bad payment type!\n&quot;</span>, __FUNCTION__);
            <span class="keywordflow">break</span>;
        <span class="comment">// ------------------------</span>
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1d067b54e63054b1021ef5f187911fab"></a><!-- doxytag: member="OTPayment::GetPaymentContents" ref="a1d067b54e63054b1021ef5f187911fab" args="(OTString &amp;strOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT bool <a class="el" href="class_o_t_payment.html#a1d067b54e63054b1021ef5f187911fab">OTPayment::GetPaymentContents</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strOutput</em></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00277">277</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ strOutput = <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>; <span class="keywordflow">return</span> <span class="keyword">true</span>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a7ceb4d0048fd3fa3e7359d104274ac56"></a><!-- doxytag: member="OTPayment::GetRecipientAcctID" ref="a7ceb4d0048fd3fa3e7359d104274ac56" args="(OTIdentifier &amp;theOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a7ceb4d0048fd3fa3e7359d104274ac56">OTPayment::GetRecipientAcctID</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01233">1233</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// NOTE:</span>
    <span class="comment">// A cheque HAS NO &quot;Recipient Asset Acct ID&quot;, since the recipient&#39;s account (where he deposits</span>
    <span class="comment">// the cheque) is not known UNTIL the time of the deposit. It&#39;s certain not known at the time </span>
    <span class="comment">// that the cheque is written...</span>

    theOutput.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:
            <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a>)
            {
                theOutput = <a class="code" href="class_o_t_payment.html#af2c22e5bf69af419f55c80c7d941b5ba">m_RecipientAcctID</a>;
                bSuccess  = <span class="keyword">true</span>;
            }
            <span class="keywordflow">else</span>
                bSuccess  = <span class="keyword">false</span>;
            
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:  <span class="comment">// A purse might have a recipient USER, but never a recipient ACCOUNT.</span>
            bSuccess  = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetRecipientAcctID: Bad payment type!\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a153137d1b34d4c1aee7d6350c56585cb"></a><!-- doxytag: member="OTPayment::GetRecipientUserID" ref="a153137d1b34d4c1aee7d6350c56585cb" args="(OTIdentifier &amp;theOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a153137d1b34d4c1aee7d6350c56585cb">OTPayment::GetRecipientUserID</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01194">1194</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    theOutput.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
            <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a>)
            {
                theOutput = <a class="code" href="class_o_t_payment.html#ab272856a722bbadaa7b487d22561119c">m_RecipientUserID</a>;
                bSuccess  = <span class="keyword">true</span>;
            }
            <span class="keywordflow">else</span>
                bSuccess  = <span class="keyword">false</span>;

            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>:
            bSuccess  = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetRecipientUserID: Bad payment type!\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a846843bfb3ae2c69d82c1c7189f2ab12"></a><!-- doxytag: member="OTPayment::GetRemitterAcctID" ref="a846843bfb3ae2c69d82c1c7189f2ab12" args="(OTIdentifier &amp;theOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a846843bfb3ae2c69d82c1c7189f2ab12">OTPayment::GetRemitterAcctID</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01085">1085</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    theOutput.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
            theOutput = <a class="code" href="class_o_t_payment.html#a7b8740359d33cbb79ca405c2e9444d4a">m_RemitterAcctID</a>;
            bSuccess  = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetRemitterAcctID: Bad payment type! Expected a voucher cheque.\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa1ba92e3012a6c5a847fdab8957eaa48"></a><!-- doxytag: member="OTPayment::GetRemitterUserID" ref="aa1ba92e3012a6c5a847fdab8957eaa48" args="(OTIdentifier &amp;theOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#aa1ba92e3012a6c5a847fdab8957eaa48">OTPayment::GetRemitterUserID</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01057">1057</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    theOutput.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
            theOutput = <a class="code" href="class_o_t_payment.html#a7f73dc77c02ee3c6cee0b401f75007a6">m_RemitterUserID</a>;
            bSuccess  = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetRemitterUserID: Bad payment type! Expected a voucher cheque.\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a866c7dee565216660a9a9c95bfd49aa4"></a><!-- doxytag: member="OTPayment::GetSenderAcctID" ref="a866c7dee565216660a9a9c95bfd49aa4" args="(OTIdentifier &amp;theOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a866c7dee565216660a9a9c95bfd49aa4">OTPayment::GetSenderAcctID</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01161">1161</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    theOutput.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:
            theOutput = <a class="code" href="class_o_t_payment.html#a5b8b90461586d736e1119938ad20fbe1">m_SenderAcctID</a>;
            bSuccess  = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
            bSuccess  = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetSenderAcctID: Bad payment type!\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af197690691464b57f9d9224357444351"></a><!-- doxytag: member="OTPayment::GetSenderAcctIDForDisplay" ref="af197690691464b57f9d9224357444351" args="(OTIdentifier &amp;theOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#af197690691464b57f9d9224357444351">OTPayment::GetSenderAcctIDForDisplay</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01119">1119</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#a459ef3429d35343f1ede5b34ed76c01a">IsVoucher</a>())
        <span class="keywordflow">return</span> <a class="code" href="class_o_t_payment.html#a846843bfb3ae2c69d82c1c7189f2ab12">GetRemitterAcctID</a>(theOutput);
    
    <span class="keywordflow">return</span> <a class="code" href="class_o_t_payment.html#a866c7dee565216660a9a9c95bfd49aa4">GetSenderAcctID</a>(theOutput);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0df0b7637d7a74e10008aa349e148abd"></a><!-- doxytag: member="OTPayment::GetSenderUserID" ref="a0df0b7637d7a74e10008aa349e148abd" args="(OTIdentifier &amp;theOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a0df0b7637d7a74e10008aa349e148abd">OTPayment::GetSenderUserID</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01128">1128</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    theOutput.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>:
            theOutput = <a class="code" href="class_o_t_payment.html#a497ff2afb88d3e1915492c308051478a">m_SenderUserID</a>;
            bSuccess  = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
            bSuccess  = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetSenderUserID: Bad payment type!\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5a1cb7c6a2d91e7eb3905863d72ce4e6"></a><!-- doxytag: member="OTPayment::GetSenderUserIDForDisplay" ref="a5a1cb7c6a2d91e7eb3905863d72ce4e6" args="(OTIdentifier &amp;theOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a5a1cb7c6a2d91e7eb3905863d72ce4e6">OTPayment::GetSenderUserIDForDisplay</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01110">1110</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#a459ef3429d35343f1ede5b34ed76c01a">IsVoucher</a>())
        <span class="keywordflow">return</span> <a class="code" href="class_o_t_payment.html#aa1ba92e3012a6c5a847fdab8957eaa48">GetRemitterUserID</a>(theOutput);
    
    <span class="keywordflow">return</span> <a class="code" href="class_o_t_payment.html#a0df0b7637d7a74e10008aa349e148abd">GetSenderUserID</a>(theOutput);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8bd230489482647591b26c47ad3e31fe"></a><!-- doxytag: member="OTPayment::GetServerID" ref="a8bd230489482647591b26c47ad3e31fe" args="(OTIdentifier &amp;theOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a8bd230489482647591b26c47ad3e31fe">OTPayment::GetServerID</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> &amp;&#160;</td>
          <td class="paramname"><em>theOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01024">1024</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    theOutput.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
            theOutput = <a class="code" href="class_o_t_payment.html#ab766d430ff41d3fa5978c16d3b327979">m_ServerID</a>;
            bSuccess  = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetServerID: Bad payment type!\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a02ffc34caf84cf6e9f88910b6354fbd8"></a><!-- doxytag: member="OTPayment::GetTransactionNum" ref="a02ffc34caf84cf6e9f88910b6354fbd8" args="(int64_t &amp;lOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a02ffc34caf84cf6e9f88910b6354fbd8">OTPayment::GetTransactionNum</a> </td>
          <td>(</td>
          <td class="paramtype">int64_t &amp;&#160;</td>
          <td class="paramname"><em>lOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00851">851</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    lOutput = 0;
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>: <span class="comment">// For payment plans, this is the opening transaction FOR THE NYM who activated the contract (probably the customer.)</span>
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>: <span class="comment">// For smart contracts, this is the opening transaction number FOR THE NYM who activated the contract.</span>
            lOutput  = <a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>;
            bSuccess = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
            lOutput  = 0;
            bSuccess = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetTransactionNum: Bad payment type!\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a750b001a080812918d7c68bbc85c3ff3"></a><!-- doxytag: member="OTPayment::GetType" ref="a750b001a080812918d7c68bbc85c3ff3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT <a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0">paymentType</a> <a class="el" href="class_o_t_payment.html#a750b001a080812918d7c68bbc85c3ff3">OTPayment::GetType</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00262">262</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a1559338db72c8297cb70f6feaddf4a9d"></a><!-- doxytag: member="OTPayment::GetTypeFromString" ref="a1559338db72c8297cb70f6feaddf4a9d" args="(const OTString &amp;strType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0">OTPayment::paymentType</a> <a class="el" href="class_o_t_payment.html#a1559338db72c8297cb70f6feaddf4a9d">OTPayment::GetTypeFromString</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strType</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00174">174</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#define OT_NUM_ELEM(blah) (sizeof (blah) / sizeof (*(blah)))    </span>
<span class="preprocessor"></span>    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; ( <a class="code" href="_o_t_payment_8cpp.html#a45df0db3dec96e095a4f6e650638dc42">OT_NUM_ELEM</a>(<a class="code" href="_o_t_account_8cpp.html#a26fff90a622c312ec2140eb6ae9f819c">__TypeStrings</a>) - 1 ); i++ )
    {
        <span class="keywordflow">if</span> (strType.<a class="code" href="class_o_t_string.html#a03401b39fb66d63696342c4f61ea8bf5">Compare</a>(<a class="code" href="_o_t_account_8cpp.html#a26fff90a622c312ec2140eb6ae9f819c">__TypeStrings</a>[i]))
            <span class="keywordflow">return</span> static_cast&lt;OTPayment::paymentType&gt;(i);
    }
<span class="preprocessor">#undef OT_NUM_ELEM</span>
<span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0">OTPayment::ERROR_STATE</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2ed80244fa3583b81f87abf8fc526f67"></a><!-- doxytag: member="OTPayment::GetTypeString" ref="a2ed80244fa3583b81f87abf8fc526f67" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT const char* <a class="el" href="class_o_t_payment.html#a2ed80244fa3583b81f87abf8fc526f67">OTPayment::GetTypeString</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00340">340</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_o_t_payment.html#ad019a554c33313963df3dcb4a5e8154a">OTPayment::_GetTypeString</a>(<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>); }
</pre></div>
</div>
</div>
<a class="anchor" id="af3c3ed5823d48d9cf86463987f67ddae"></a><!-- doxytag: member="OTPayment::GetValidFrom" ref="af3c3ed5823d48d9cf86463987f67ddae" args="(time64_t &amp;tOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#af3c3ed5823d48d9cf86463987f67ddae">OTPayment::GetValidFrom</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a> &amp;&#160;</td>
          <td class="paramname"><em>tOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00885">885</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    tOutput = <a class="code" href="_o_t_common_8hpp.html#af4ca9fa2c7c290d647dd18de0a9ac25f">OT_TIME_ZERO</a>;
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>:
            tOutput  = <a class="code" href="class_o_t_payment.html#aced10b81d79e8d153242949ec99d0fb1">m_VALID_FROM</a>;
            bSuccess = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetValidFrom: Bad payment type!\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a11dbba988d5da835179885043b4c3979"></a><!-- doxytag: member="OTPayment::GetValidTo" ref="a11dbba988d5da835179885043b4c3979" args="(time64_t &amp;tOutput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a11dbba988d5da835179885043b4c3979">OTPayment::GetValidTo</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a> &amp;&#160;</td>
          <td class="paramname"><em>tOutput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00915">915</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    tOutput = <a class="code" href="_o_t_common_8hpp.html#af4ca9fa2c7c290d647dd18de0a9ac25f">OT_TIME_ZERO</a>;
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>:
            tOutput  = <a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a>;
            bSuccess = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::GetValidTo: Bad payment type!\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3bc9488327ec7e7f52bb1921956331b7"></a><!-- doxytag: member="OTPayment::HasTransactionNum" ref="a3bc9488327ec7e7f52bb1921956331b7" args="(const int64_t &amp;lInput) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a3bc9488327ec7e7f52bb1921956331b7">OTPayment::HasTransactionNum</a> </td>
          <td>(</td>
          <td class="paramtype">const int64_t &amp;&#160;</td>
          <td class="paramname"><em>lInput</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00611">611</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{    
    <span class="comment">// SMART CONTRACTS and PAYMENT PLANS get a little special</span>
    <span class="comment">// treatment here at the top.</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> ((<span class="keyword">false</span> == <a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)        || <span class="comment">// Why is this here? Because if temp values haven&#39;t been set yet,</span>
        (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a> == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) || <span class="comment">// then m_Type isn&#39;t set either. We only want smartcontracts and   UPDATE: m_Type IS set!!</span>
        (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>   == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) )  <span class="comment">// payment plans here, but without m_Type we can&#39;t know the type...This comment is wrong!!</span>
    {
        <a class="code" href="class_o_t_trackable.html">OTTrackable</a> * pTrackable = this-&gt;<a class="code" href="class_o_t_payment.html#a3425627e011f9430eb9396f741f41a98">Instantiate</a>();
        <span class="keywordflow">if</span> ( NULL  == pTrackable )
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Failed instantiating OTPayment containing:\n%s\n&quot;</span>,
                          __FUNCTION__, <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        } <span class="comment">// BELOW THIS POINT, MUST DELETE pTrackable!</span>
        <a class="code" href="class_o_t_cleanup.html">OTCleanup&lt;OTTrackable&gt;</a> theTrackableAngel(*pTrackable); <span class="comment">// (This automates the DELETION.)</span>
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment_plan.html">OTPaymentPlan</a>   * pPlan          = NULL;
        <a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> * pSmartContract = NULL;
        <span class="comment">// ----------------------------</span>
        pPlan          = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_payment_plan.html">OTPaymentPlan</a> *<span class="keyword">&gt;</span>(pTrackable);
        pSmartContract = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> *<span class="keyword">&gt;</span>(pTrackable);
        <span class="comment">// ----------------------------</span>
        <span class="keywordflow">if</span> (NULL != pPlan)
        {
            <span class="keywordflow">if</span> (pPlan-&gt;<a class="code" href="class_o_t_agreement.html#ad8620736d3cf904a6aef47e48bad0f2c">HasTransactionNum</a>(lInput))
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NULL != pSmartContract)
        {
            <span class="keywordflow">if</span> (pSmartContract-&gt;<a class="code" href="class_o_t_smart_contract.html#a1952403bb15765cab19f435186b6c362">HasTransactionNum</a>(lInput))
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
    }
    <span class="comment">// -------------------------------------------</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)  <span class="comment">// (This function normally fails, if temp values aren&#39;t set,</span>
        <span class="keywordflow">return</span> <span class="keyword">false</span>;          <span class="comment">//  for all payment types except the recurring ones above.)</span>
    <span class="comment">// -------------------------------------------</span>
    <span class="comment">// Next: ALL OTHER payment types...</span>
    <span class="comment">//</span>
    <span class="keywordtype">bool</span> bSuccess = <span class="keyword">false</span>;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:            
            <span class="keywordflow">if</span> (lInput == <a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>)
                bSuccess = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;

        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>:
            bSuccess = <span class="keyword">false</span>;
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">default</span>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>:   <span class="comment">// Should never happen. (Handled already above.)</span>
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>: <span class="comment">// Should never happen. (Handled already above.)</span>
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::%s: Bad payment type!\n&quot;</span>, __FUNCTION__);
            <span class="keywordflow">break</span>;
    }
    
    <span class="keywordflow">return</span> bSuccess;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a54347a13ef5466e52d95f8b2b1c1d672"></a><!-- doxytag: member="OTPayment::InitPayment" ref="a54347a13ef5466e52d95f8b2b1c1d672" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_payment.html#a54347a13ef5466e52d95f8b2b1c1d672">OTPayment::InitPayment</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01555">1555</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>              = <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0">OTPayment::ERROR_STATE</a>;
    <a class="code" href="class_o_t_payment.html#af0f26895e0294e7236e3e920ecf891d4">m_lAmount</a>           = 0;
    <a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>   = 0;
    <a class="code" href="class_o_t_payment.html#aced10b81d79e8d153242949ec99d0fb1">m_VALID_FROM</a>        = <a class="code" href="_o_t_common_8hpp.html#af4ca9fa2c7c290d647dd18de0a9ac25f">OT_TIME_ZERO</a>;
    <a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a>          = <a class="code" href="_o_t_common_8hpp.html#af4ca9fa2c7c290d647dd18de0a9ac25f">OT_TIME_ZERO</a>;
    <a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a> = <span class="keyword">false</span>;
    <a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a>     = <span class="keyword">false</span>;
    <a class="code" href="class_o_t_payment.html#ac1b9934eb3a6a308b2e38a6c5f59f07b">m_bHasRemitter</a>      = <span class="keyword">false</span>;
    <a class="code" href="class_o_t_contract.html#ac523dac7d72b72e54b1ebb5b3a3b21cc">m_strContractType</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(<span class="stringliteral">&quot;PAYMENT&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3425627e011f9430eb9396f741f41a98"></a><!-- doxytag: member="OTPayment::Instantiate" ref="a3425627e011f9430eb9396f741f41a98" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_trackable.html">OTTrackable</a> * <a class="el" href="class_o_t_payment.html#a3425627e011f9430eb9396f741f41a98">OTPayment::Instantiate</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01311">1311</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_contract.html">OTContract</a> *        pContract       = NULL;
    <a class="code" href="class_o_t_trackable.html">OTTrackable</a> *       pTrackable      = NULL;
    <a class="code" href="class_o_t_cheque.html">OTCheque</a> *          pCheque         = NULL;
    <a class="code" href="class_o_t_payment_plan.html">OTPaymentPlan</a> *     pPaymentPlan    = NULL;
    <a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> *   pSmartContract  = NULL;
    
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">INVOICE</a>:
            pContract = <a class="code" href="class_o_t_contract.html#a3a4b4d7e43a53027a5e170557b9e7e12">OTContract::InstantiateContract</a>(<a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>);
            
            <span class="keywordflow">if</span> (NULL != pContract)
            {
                pCheque  = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_cheque.html">OTCheque</a> *<span class="keyword">&gt;</span>(pContract);
            
                <span class="keywordflow">if</span> (NULL == pCheque)
                {
                    <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::Instantiate: Tried to instantiate cheque, but factory returned non-cheque:\n\n%s\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                    <span class="keyword">delete</span> pContract; pContract = NULL;
                }
                <span class="keywordflow">else</span>
                    pTrackable = pCheque;
            }
            <span class="keywordflow">else</span>
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::Instantiate: Tried to instantiate cheque, but factory returned NULL:\n\n%s\n\n&quot;</span>,
                              <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">PAYMENT_PLAN</a>:
            pContract = <a class="code" href="class_o_t_contract.html#a3a4b4d7e43a53027a5e170557b9e7e12">OTContract::InstantiateContract</a>(<a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>);
            
            <span class="keywordflow">if</span> (NULL != pContract)
            {
                pPaymentPlan = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_payment_plan.html">OTPaymentPlan</a> *<span class="keyword">&gt;</span>(pContract);
                
                <span class="keywordflow">if</span> (NULL == pPaymentPlan)
                {
                    <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::Instantiate: Tried to instantiate payment plan, but factory returned non-payment-plan:\n\n%s\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                    <span class="keyword">delete</span> pContract; pContract = NULL;
                }
                <span class="keywordflow">else</span>
                    pTrackable = pPaymentPlan;
            }
            <span class="keywordflow">else</span>
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::Instantiate: Tried to instantiate payment plan, but factory returned NULL:\n\n%s\n\n&quot;</span>,
                              <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">break</span>;
            
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">SMART_CONTRACT</a>:
            pContract = <a class="code" href="class_o_t_contract.html#a3a4b4d7e43a53027a5e170557b9e7e12">OTContract::InstantiateContract</a>(<a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>);
            
            <span class="keywordflow">if</span> (NULL != pContract)
            {
                pSmartContract  = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> *<span class="keyword">&gt;</span>(pContract);
                
                <span class="keywordflow">if</span> (NULL == pSmartContract)
                {
                    <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Tried to instantiate smart contract, but factory &quot;</span>
                                  <span class="stringliteral">&quot;returned non-smart-contract:\n\n%s\n\n&quot;</span>, __FUNCTION__,
                                  <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                    <span class="keyword">delete</span> pContract; pContract = NULL;
                }
                <span class="keywordflow">else</span>
                    pTrackable = pSmartContract;
            }
            <span class="keywordflow">else</span>
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::Instantiate: Tried to instantiate smart contract, but factory returned NULL:\n\n%s\n\n&quot;</span>,
                              <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">PURSE</a>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::Instantiate: ERROR: Tried to instantiate purse, but should have called OTPayment::InstantiatePurse.\n&quot;</span>);
            <span class="keywordflow">return</span> NULL;
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::Instantiate: ERROR: Tried to instantiate payment object, but had a bad type. Contents:\n\n%s\n\n&quot;</span>,
                          <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> NULL;
    }
    
    <span class="keywordflow">return</span> pTrackable;  
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae6e2fb1febc08fdd10f6e3536a2b9f1e"></a><!-- doxytag: member="OTPayment::Instantiate" ref="ae6e2fb1febc08fdd10f6e3536a2b9f1e" args="(const OTString &amp;strPayment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_trackable.html">OTTrackable</a> * <a class="el" href="class_o_t_payment.html#a3425627e011f9430eb9396f741f41a98">OTPayment::Instantiate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strPayment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01399">1399</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_o_t_payment.html#a294a4886d8701ff1366bca5fdd1e7b56">SetPayment</a>(strPayment))
        <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_o_t_payment.html#a3425627e011f9430eb9396f741f41a98">Instantiate</a>();
    
    <span class="keywordflow">return</span> NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a56282fcb9bb1a2b86c0675e9fb331bd5"></a><!-- doxytag: member="OTPayment::InstantiatePurse" ref="a56282fcb9bb1a2b86c0675e9fb331bd5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_purse.html">OTPurse</a> * <a class="el" href="class_o_t_payment.html#a56282fcb9bb1a2b86c0675e9fb331bd5">OTPayment::InstantiatePurse</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01413">1413</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a> == this-&gt;<a class="code" href="class_o_t_payment.html#a750b001a080812918d7c68bbc85c3ff3">GetType</a>())
    {
        <span class="keywordflow">return</span> <a class="code" href="class_o_t_purse.html#ac6779fce5508f7d2dc2e02c22595d7e0">OTPurse::PurseFactory</a>(<a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>);
    }
    <span class="keywordflow">else</span>
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::InstantiatePurse: Failure: This payment object does NOT contain a purse. &quot;</span>
                      <span class="stringliteral">&quot;Contents:\n\n%s\n\n&quot;</span>, <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    
    <span class="keywordflow">return</span> NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6e9e01bef4ad54426bdcbde04c1436a7"></a><!-- doxytag: member="OTPayment::InstantiatePurse" ref="a6e9e01bef4ad54426bdcbde04c1436a7" args="(const OTString &amp;strPayment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_purse.html">OTPurse</a> * <a class="el" href="class_o_t_payment.html#a56282fcb9bb1a2b86c0675e9fb331bd5">OTPayment::InstantiatePurse</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strPayment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01455">1455</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<span class="keyword">false</span> == this-&gt;<a class="code" href="class_o_t_payment.html#a294a4886d8701ff1366bca5fdd1e7b56">SetPayment</a>(strPayment))
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::InstantiatePurse: WARNING: Failed setting the payment string based on &quot;</span>
                      <span class="stringliteral">&quot;what was passed in:\n\n%s\n\n&quot;</span>, strPayment.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a> != <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::InstantiatePurse: WARNING: No purse was found in the &quot;</span>
                      <span class="stringliteral">&quot;payment string:\n\n%s\n\n&quot;</span>, strPayment.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
    <span class="keywordflow">else</span>
        <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_o_t_payment.html#a56282fcb9bb1a2b86c0675e9fb331bd5">InstantiatePurse</a>();
    
    <span class="keywordflow">return</span> NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a948614fbef0145fda7d186cc612dee06"></a><!-- doxytag: member="OTPayment::IsCheque" ref="a948614fbef0145fda7d186cc612dee06" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT bool <a class="el" href="class_o_t_payment.html#a948614fbef0145fda7d186cc612dee06">OTPayment::IsCheque</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00254">254</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">CHEQUE</a>         == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>); }
</pre></div>
</div>
</div>
<a class="anchor" id="a1949cd91091734be36e607c3a2877822"></a><!-- doxytag: member="OTPayment::IsExpired" ref="a1949cd91091734be36e607c3a2877822" args="(bool &amp;bExpired)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a1949cd91091734be36e607c3a2877822">OTPayment::IsExpired</a> </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>bExpired</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00952">952</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="comment">// ---------------------------------</span>
    <span class="keyword">const</span> <a class="code" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a> CURRENT_TIME =   <a class="code" href="_o_t_common_8hpp.html#a1163606b2546b160d50c5f0a5afe479a">OTTimeGetCurrentTime</a>();
    <span class="comment">// ---------------------------------</span>
    <span class="comment">// If the current time is AFTER the valid-TO date,</span>
    <span class="comment">// AND the valid_to is a nonzero number (0 means &quot;doesn&#39;t expire&quot;)</span>
    <span class="comment">// THEN return true (it&#39;s expired.)</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> ((CURRENT_TIME &gt;= <a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a>) &amp;&amp; (<a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a> &gt; <a class="code" href="_o_t_common_8hpp.html#af4ca9fa2c7c290d647dd18de0a9ac25f">OT_TIME_ZERO</a>))
        bExpired = <span class="keyword">true</span>;
    <span class="keywordflow">else</span>
        bExpired = <span class="keyword">false</span>;
    <span class="comment">// ---------------------------------</span>
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a98bfd8e0a5a538b0bb9652e4029b501a"></a><!-- doxytag: member="OTPayment::IsInvoice" ref="a98bfd8e0a5a538b0bb9652e4029b501a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT bool <a class="el" href="class_o_t_payment.html#a98bfd8e0a5a538b0bb9652e4029b501a">OTPayment::IsInvoice</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00256">256</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">INVOICE</a>        == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>); }
</pre></div>
</div>
</div>
<a class="anchor" id="ab60c94469f9b1214044f0c3d6f299fb6"></a><!-- doxytag: member="OTPayment::IsPaymentPlan" ref="ab60c94469f9b1214044f0c3d6f299fb6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT bool <a class="el" href="class_o_t_payment.html#ab60c94469f9b1214044f0c3d6f299fb6">OTPayment::IsPaymentPlan</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00257">257</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">PAYMENT_PLAN</a>   == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>); }
</pre></div>
</div>
</div>
<a class="anchor" id="aec4f77470b159c3afd1cc4e3dffe464d"></a><!-- doxytag: member="OTPayment::IsPurse" ref="aec4f77470b159c3afd1cc4e3dffe464d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT bool <a class="el" href="class_o_t_payment.html#aec4f77470b159c3afd1cc4e3dffe464d">OTPayment::IsPurse</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00259">259</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">PURSE</a>          == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>); }
</pre></div>
</div>
</div>
<a class="anchor" id="af8848b7629e2ea525facf9b1f47d5b63"></a><!-- doxytag: member="OTPayment::IsSmartContract" ref="af8848b7629e2ea525facf9b1f47d5b63" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT bool <a class="el" href="class_o_t_payment.html#af8848b7629e2ea525facf9b1f47d5b63">OTPayment::IsSmartContract</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00258">258</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">SMART_CONTRACT</a> == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>); }
</pre></div>
</div>
</div>
<a class="anchor" id="a7f95ab568d481ecc7d38689c80caba84"></a><!-- doxytag: member="OTPayment::IsValid" ref="a7f95ab568d481ecc7d38689c80caba84" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT bool <a class="el" href="class_o_t_payment.html#a7f95ab568d481ecc7d38689c80caba84">OTPayment::IsValid</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00260">260</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0">ERROR_STATE</a>    != <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>); }
</pre></div>
</div>
</div>
<a class="anchor" id="a459ef3429d35343f1ede5b34ed76c01a"></a><!-- doxytag: member="OTPayment::IsVoucher" ref="a459ef3429d35343f1ede5b34ed76c01a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT bool <a class="el" href="class_o_t_payment.html#a459ef3429d35343f1ede5b34ed76c01a">OTPayment::IsVoucher</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00255">255</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">VOUCHER</a>        == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>); }
</pre></div>
</div>
</div>
<a class="anchor" id="ad25b2fa9f167cd044c0cc612ec9468fe"></a><!-- doxytag: member="OTPayment::ProcessXMLNode" ref="ad25b2fa9f167cd044c0cc612ec9468fe" args="(irr::io::IrrXMLReader *&amp;xml)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t <a class="el" href="class_o_t_payment.html#ad25b2fa9f167cd044c0cc612ec9468fe">OTPayment::ProcessXMLNode</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceirr_1_1io.html#a1628edbb9d5d53f18c82d2a92b0ad27e">irr::io::IrrXMLReader</a> *&amp;&#160;</td>
          <td class="paramname"><em>xml</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a48611c37c8e8e7d9125238bda2b77978">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01639">1639</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strNodeName(xml-&gt;getNodeName());
    
    <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;payment&quot;</span>))
    {   
        <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a> = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;version&quot;</span>); 

        <span class="keyword">const</span> <a class="code" href="class_o_t_string.html">OTString</a> strPaymentType = xml-&gt;getAttributeValue(<span class="stringliteral">&quot;type&quot;</span>);
        
        <span class="keywordflow">if</span> (strPaymentType.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a> = <a class="code" href="class_o_t_payment.html#a1559338db72c8297cb70f6feaddf4a9d">OTPayment::GetTypeFromString</a>(strPaymentType);
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a> = <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0">OTPayment::ERROR_STATE</a>;
        
        <a class="code" href="class_o_t_log.html#aa2a497c02879b811fe3134631d762f08">OTLog::vOutput</a>(4, <span class="stringliteral">&quot;Loaded payment... Type: %s\n----------\n&quot;</span>,
                       this-&gt;<a class="code" href="class_o_t_payment.html#a2ed80244fa3583b81f87abf8fc526f67">GetTypeString</a>());
        
        <span class="keywordflow">return</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0">OTPayment::ERROR_STATE</a> == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) ? (-1) : 1;
    }
    
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strNodeName.Compare(<span class="stringliteral">&quot;contents&quot;</span>)) 
    {
        <a class="code" href="class_o_t_string.html">OTString</a> strContents;
        
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_contract.html#a72ffe11fdcf2f6e3566afa9061241f30">OTContract::LoadEncodedTextField</a>(xml, strContents) || 
            !strContents.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>() ||
            <span class="comment">// -------------------------------</span>
            !this-&gt;<a class="code" href="class_o_t_payment.html#a294a4886d8701ff1366bca5fdd1e7b56">SetPayment</a>(strContents))
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::ProcessXMLNode: ERROR: \&quot;contents\&quot; field without a value, OR error setting that &quot;</span>
                          <span class="stringliteral">&quot;value onto this object. Raw:\n\n%s\n\n&quot;</span>, strContents.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            
            <span class="keywordflow">return</span> (-1); <span class="comment">// error condition</span>
        }
        <span class="comment">// else success -- the value is now set on this object.</span>
        <span class="comment">// todo security: Make sure the type of the payment that&#39;s ACTUALLY there</span>
        <span class="comment">// matches the type expected (based on the m_Type that we already read, above.)</span>
        
        <span class="keywordflow">return</span> 1;
    }

    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7cf95857505d6e4f10c84a84b33255a8"></a><!-- doxytag: member="OTPayment::Release" ref="a7cf95857505d6e4f10c84a84b33255a8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_payment.html#a7cf95857505d6e4f10c84a84b33255a8">OTPayment::Release</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a15e423ca0d650858a23e54f8285feae1">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01605">1605</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_payment.html#ac1d91f322c152b6310c9ada945e9d226">Release_Payment</a>();
    <span class="comment">// --------------------------------</span>
    <span class="comment">// Finally, we call the method we overrode:</span>
    <span class="comment">//</span>
    <a class="code" href="class_o_t_contract.html#a15e423ca0d650858a23e54f8285feae1">ot_super::Release</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac1d91f322c152b6310c9ada945e9d226"></a><!-- doxytag: member="OTPayment::Release_Payment" ref="ac1d91f322c152b6310c9ada945e9d226" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_payment.html#ac1d91f322c152b6310c9ada945e9d226">OTPayment::Release_Payment</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01575">1575</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>              = <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0">OTPayment::ERROR_STATE</a>;
    <a class="code" href="class_o_t_payment.html#af0f26895e0294e7236e3e920ecf891d4">m_lAmount</a>           = 0;
    <a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>   = 0;
    <a class="code" href="class_o_t_payment.html#aced10b81d79e8d153242949ec99d0fb1">m_VALID_FROM</a>        = <a class="code" href="_o_t_common_8hpp.html#af4ca9fa2c7c290d647dd18de0a9ac25f">OT_TIME_ZERO</a>;
    <a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a>          = <a class="code" href="_o_t_common_8hpp.html#af4ca9fa2c7c290d647dd18de0a9ac25f">OT_TIME_ZERO</a>;
    <span class="comment">// --------------------------------</span>
    <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
    <span class="comment">// --------------------------------</span>
    <a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a> = <span class="keyword">false</span>;
    <a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a>     = <span class="keyword">false</span>;
    <a class="code" href="class_o_t_payment.html#ac1b9934eb3a6a308b2e38a6c5f59f07b">m_bHasRemitter</a>      = <span class="keyword">false</span>;
    <span class="comment">// --------------------------------</span>
    <a class="code" href="class_o_t_payment.html#a937b80425043a30a0d1ab05e1fe2b3f9">m_strMemo</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
    <span class="comment">// --------------------------------</span>
    <a class="code" href="class_o_t_payment.html#a35675f3123df9b419a519f1c5f18ac76">m_AssetTypeID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <a class="code" href="class_o_t_payment.html#ab766d430ff41d3fa5978c16d3b327979">m_ServerID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <span class="comment">// --------------------------------    </span>
    <a class="code" href="class_o_t_payment.html#a497ff2afb88d3e1915492c308051478a">m_SenderUserID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <a class="code" href="class_o_t_payment.html#a5b8b90461586d736e1119938ad20fbe1">m_SenderAcctID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <a class="code" href="class_o_t_payment.html#ab272856a722bbadaa7b487d22561119c">m_RecipientUserID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <a class="code" href="class_o_t_payment.html#af2c22e5bf69af419f55c80c7d941b5ba">m_RecipientAcctID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <span class="comment">// --------------------------------</span>
    <a class="code" href="class_o_t_payment.html#a7f73dc77c02ee3c6cee0b401f75007a6">m_RemitterUserID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <a class="code" href="class_o_t_payment.html#a7b8740359d33cbb79ca405c2e9444d4a">m_RemitterAcctID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
    <span class="comment">// --------------------------------</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab87d89965b8e68cd091c112fd7b2c3a5"></a><!-- doxytag: member="OTPayment::SaveContractWallet" ref="ab87d89965b8e68cd091c112fd7b2c3a5" args="(std::ofstream &amp;ofs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#ab87d89965b8e68cd091c112fd7b2c3a5">OTPayment::SaveContractWallet</a> </td>
          <td>(</td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>ofs</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="class_o_t_contract.html#af16a41ce18a9e3408fc5c9ee18315a30">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01685">1685</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a294a4886d8701ff1366bca5fdd1e7b56"></a><!-- doxytag: member="OTPayment::SetPayment" ref="a294a4886d8701ff1366bca5fdd1e7b56" args="(const OTString &amp;strPayment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a294a4886d8701ff1366bca5fdd1e7b56">OTPayment::SetPayment</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_string.html">OTString</a> &amp;&#160;</td>
          <td class="paramname"><em>strPayment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01502">1502</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!strPayment.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="comment">// --------------------------------------------------------------------</span>
    <a class="code" href="class_o_t_string.html">OTString</a> strContract(strPayment);
    
    <span class="keywordflow">if</span> (<span class="keyword">false</span> == strContract.DecodeIfArmored(<span class="keyword">false</span>)) <span class="comment">// bEscapedIsAllowed=true by default.</span>
    {
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Input string apparently was encoded and then failed decoding. Contents: \n%s\n&quot;</span>,
                      __FUNCTION__, strPayment.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
    <span class="comment">// ------------------------------------------</span>
    <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
    <span class="comment">// ----------------------</span>
    <span class="comment">// todo: should be &quot;starts with&quot; and perhaps with a trim first</span>
    <span class="comment">//</span>
    <span class="keywordflow">if</span> (strContract.Contains(<span class="stringliteral">&quot;-----BEGIN SIGNED CHEQUE-----&quot;</span>))
        <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>  = <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>;
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strContract.Contains(<span class="stringliteral">&quot;-----BEGIN SIGNED VOUCHER-----&quot;</span>))
        <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>  = <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>;
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strContract.Contains(<span class="stringliteral">&quot;-----BEGIN SIGNED INVOICE-----&quot;</span>))
        <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>  = <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>;
    <span class="comment">// -------------------</span>
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strContract.Contains(<span class="stringliteral">&quot;-----BEGIN SIGNED PAYMENT PLAN-----&quot;</span>))
        <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>  = <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a>;
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strContract.Contains(<span class="stringliteral">&quot;-----BEGIN SIGNED SMARTCONTRACT-----&quot;</span>))
        <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>  = <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a>;
    <span class="comment">// -------------------</span>
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strContract.Contains(<span class="stringliteral">&quot;-----BEGIN SIGNED PURSE-----&quot;</span>))
        <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>  = <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a>;
    <span class="keywordflow">else</span>
    {
        <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>  = <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0">OTPayment::ERROR_STATE</a>;
        
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Failure: Unable to determine payment type, from input:\n\n%s\n\n&quot;</span>,
                      __FUNCTION__, strContract.Get());
    }
    <span class="comment">// ----------------------</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0aee2d323d79edeb1a984d5b4b5bc904a0">OTPayment::ERROR_STATE</a> == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;

    <span class="comment">// *********************************</span>
    
    <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(strContract);
    
    <span class="comment">// *********************************</span>
    
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1ee95406f9d221ae4a57783422d52156"></a><!-- doxytag: member="OTPayment::SetTempValues" ref="a1ee95406f9d221ae4a57783422d52156" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a1ee95406f9d221ae4a57783422d52156">OTPayment::SetTempValues</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00192">192</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a> == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
    {
        <span class="comment">// Perform instantiation of a purse, then use it to set the temp values,</span>
        <span class="comment">// then cleans it up again before returning success/fail.</span>
        <span class="comment">//</span>
        <a class="code" href="class_o_t_purse.html">OTPurse</a> * pPurse = this-&gt;<a class="code" href="class_o_t_payment.html#a56282fcb9bb1a2b86c0675e9fb331bd5">InstantiatePurse</a>();
        
        <span class="keywordflow">if</span> (NULL == pPurse)
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::SetTempValues: Error: Failed instantiating OTPayment (purported purse) contents:\n\n%s\n\n&quot;</span>,
                          <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        <a class="code" href="class_o_t_cleanup.html">OTCleanup&lt;OTPurse&gt;</a> thePurseAngel(*pPurse); <span class="comment">// (This automates the deletion.)</span>
        <span class="comment">// ----------------------------</span>
        <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_o_t_payment.html#a0844d3157fe650bd285e35f665df2b8f">SetTempValuesFromPurse</a>(*pPurse);
    }
    <span class="comment">// ----------------------------</span>
    <span class="keywordflow">else</span>
    {
        <a class="code" href="class_o_t_trackable.html">OTTrackable</a> * pTrackable = this-&gt;<a class="code" href="class_o_t_payment.html#a3425627e011f9430eb9396f741f41a98">Instantiate</a>();
        
        <span class="keywordflow">if</span> (NULL == pTrackable)
        {
            <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::SetTempValues: Error: Failed instantiating OTPayment contents:\n\n%s\n\n&quot;</span>,
                          <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        <span class="comment">// BELOW THIS POINT, MUST DELETE pTrackable!</span>
        <a class="code" href="class_o_t_cleanup.html">OTCleanup&lt;OTTrackable&gt;</a> theTrackableAngel(*pTrackable); <span class="comment">// (This automates the deletion.)</span>
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_cheque.html">OTCheque</a>        *   pCheque         = NULL;
        <a class="code" href="class_o_t_payment_plan.html">OTPaymentPlan</a>   *   pPaymentPlan    = NULL;
        <a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> *   pSmartContract  = NULL;    
        
        <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
        {
            <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">CHEQUE</a>:
            <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">VOUCHER</a>:
            <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">INVOICE</a>:
                pCheque = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_cheque.html">OTCheque</a> *<span class="keyword">&gt;</span>(pTrackable);
                <span class="keywordflow">if</span> (NULL == pCheque)
                    <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::SetTempValues: Failure: dynamic_cast&lt;OTCheque *&gt;(pTrackable). Contents:\n\n%s\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="comment">// Let&#39;s grab all the temp values from the cheque!!</span>
                <span class="comment">//</span>
                <span class="keywordflow">else</span> <span class="comment">// success</span>
                    <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_o_t_payment.html#a9452c5d40b4f00c3a1238082f0bced7c">SetTempValuesFromCheque</a>(*pCheque);
                <span class="keywordflow">break</span>;

            <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">PAYMENT_PLAN</a>:
                pPaymentPlan = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_payment_plan.html">OTPaymentPlan</a> *<span class="keyword">&gt;</span>(pTrackable);
                <span class="keywordflow">if</span> (NULL == pPaymentPlan)
                    <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::SetTempValues: Failure: dynamic_cast&lt;OTPaymentPlan *&gt;(pTrackable). Contents:\n\n%s\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="comment">// Let&#39;s grab all the temp values from the payment plan!!</span>
                <span class="comment">//</span>
                <span class="keywordflow">else</span> <span class="comment">// success</span>
                    <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_o_t_payment.html#a9b5558bb68cd1f3fa77bbf80c4c221b4">SetTempValuesFromPaymentPlan</a>(*pPaymentPlan);
                <span class="keywordflow">break</span>;
                
            <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">SMART_CONTRACT</a>:
                pSmartContract = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_t_smart_contract.html">OTSmartContract</a> *<span class="keyword">&gt;</span>(pTrackable);
                <span class="keywordflow">if</span> (NULL == pSmartContract)
                    <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::SetTempValues: Failure: dynamic_cast&lt;OTSmartContract *&gt;(pTrackable). Contents:\n\n%s\n\n&quot;</span>,
                                  <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());
                <span class="comment">// Let&#39;s grab all the temp values from the smart contract!!</span>
                <span class="comment">//</span>
                <span class="keywordflow">else</span> <span class="comment">// success</span>
                    <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_o_t_payment.html#a66d6bbed423969e833fe13562fdfcd94">SetTempValuesFromSmartContract</a>(*pSmartContract);
                <span class="keywordflow">break</span>;
                
            <span class="keywordflow">default</span>:
                <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;OTPayment::SetTempValues: Failure: Wrong m_Type. Contents:\n\n%s\n\n&quot;</span>,
                              <a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>());            
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
    }
    
    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Should never actually reach this point.</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9452c5d40b4f00c3a1238082f0bced7c"></a><!-- doxytag: member="OTPayment::SetTempValuesFromCheque" ref="a9452c5d40b4f00c3a1238082f0bced7c" args="(const OTCheque &amp;theInput)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a9452c5d40b4f00c3a1238082f0bced7c">OTPayment::SetTempValuesFromCheque</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_cheque.html">OTCheque</a> &amp;&#160;</td>
          <td class="paramname"><em>theInput</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00277">277</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">switch</span> (<a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>) 
    {
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0affdbd56df02df31d40b649a409d3c7c0">OTPayment::CHEQUE</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0af981cfb9acea695a3ac8dac8455c3fef">OTPayment::VOUCHER</a>:
        <span class="keywordflow">case</span> <a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ad0c94c9025bb02cabfc2ead2ed8a990b">OTPayment::INVOICE</a>:
            <span class="comment">// -------------------------</span>
            <a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a> = <span class="keyword">true</span>;
            <span class="comment">// -------------------------</span>
            <a class="code" href="class_o_t_payment.html#af0f26895e0294e7236e3e920ecf891d4">m_lAmount</a>           = theInput.<a class="code" href="class_o_t_cheque.html#a84e570d654f20e69f64f0037b96b7c7e">GetAmount</a>();         
            <a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>   = theInput.<a class="code" href="class_o_t_trackable.html#a2594d320e3b24f3210bd38a08de66a70">GetTransactionNum</a>();                
            <span class="comment">// -------------------------</span>
            <span class="keywordflow">if</span> (theInput.<a class="code" href="class_o_t_cheque.html#a4990938b437cc95ab48ade4a80584023">GetMemo</a>().<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
                <a class="code" href="class_o_t_payment.html#a937b80425043a30a0d1ab05e1fe2b3f9">m_strMemo</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(theInput.<a class="code" href="class_o_t_cheque.html#a4990938b437cc95ab48ade4a80584023">GetMemo</a>());
            <span class="keywordflow">else</span>
                <a class="code" href="class_o_t_payment.html#a937b80425043a30a0d1ab05e1fe2b3f9">m_strMemo</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
            <span class="comment">// -------------------------</span>
            <a class="code" href="class_o_t_payment.html#a35675f3123df9b419a519f1c5f18ac76">m_AssetTypeID</a>   = theInput.<a class="code" href="class_o_t_instrument.html#a1f6c7b528680d84dcb998d473bdd99a6">GetAssetID</a>();     
            <a class="code" href="class_o_t_payment.html#ab766d430ff41d3fa5978c16d3b327979">m_ServerID</a>      = theInput.<a class="code" href="class_o_t_instrument.html#a878dd8998f7b131b85c082575e255375">GetServerID</a>();     
            <span class="comment">// ----------------------------</span>
            <a class="code" href="class_o_t_payment.html#a497ff2afb88d3e1915492c308051478a">m_SenderUserID</a>  = theInput.<a class="code" href="class_o_t_trackable.html#aaf5d36407abeeb35eea54f7acb0c3148">GetSenderUserID</a>();
            <a class="code" href="class_o_t_payment.html#a5b8b90461586d736e1119938ad20fbe1">m_SenderAcctID</a>  = theInput.<a class="code" href="class_o_t_trackable.html#a3149b0da54958e8da4cf15d26f47711f">GetSenderAcctID</a>();    
            <span class="comment">// ----------------------------        </span>
            <span class="keywordflow">if</span> (theInput.<a class="code" href="class_o_t_cheque.html#abcc7ebe7be1754456681a25a012040ee">HasRecipient</a>())
            {
                <a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a>   = <span class="keyword">true</span>;
                <a class="code" href="class_o_t_payment.html#ab272856a722bbadaa7b487d22561119c">m_RecipientUserID</a> = theInput.<a class="code" href="class_o_t_cheque.html#a2628b445784aa1f6cdea370acca92077">GetRecipientUserID</a>();
            }
            <span class="keywordflow">else</span>
            {
                <a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a>   = <span class="keyword">false</span>;
                <a class="code" href="class_o_t_payment.html#ab272856a722bbadaa7b487d22561119c">m_RecipientUserID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
            }
            <span class="comment">// ----------------------------</span>
            <span class="keywordflow">if</span> (theInput.<a class="code" href="class_o_t_cheque.html#ace0bed9152fe95a16e257bb48bf76d6f">HasRemitter</a>())
            {
                <a class="code" href="class_o_t_payment.html#ac1b9934eb3a6a308b2e38a6c5f59f07b">m_bHasRemitter</a>   = <span class="keyword">true</span>;
                <a class="code" href="class_o_t_payment.html#a7f73dc77c02ee3c6cee0b401f75007a6">m_RemitterUserID</a> = theInput.<a class="code" href="class_o_t_cheque.html#ac58c338fc0a151ed12eaa9e86a9c1329">GetRemitterUserID</a>();
                <a class="code" href="class_o_t_payment.html#a7b8740359d33cbb79ca405c2e9444d4a">m_RemitterAcctID</a> = theInput.<a class="code" href="class_o_t_cheque.html#a749bbaa8f7d864a16b95eaf9a8d5b684">GetRemitterAcctID</a>();
            }
            <span class="keywordflow">else</span>
            {
                <a class="code" href="class_o_t_payment.html#ac1b9934eb3a6a308b2e38a6c5f59f07b">m_bHasRemitter</a>   = <span class="keyword">false</span>;
                <a class="code" href="class_o_t_payment.html#a7f73dc77c02ee3c6cee0b401f75007a6">m_RemitterUserID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
                <a class="code" href="class_o_t_payment.html#a7b8740359d33cbb79ca405c2e9444d4a">m_RemitterAcctID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
            }
            <span class="comment">// ----------------------------</span>
            <span class="comment">// NOTE: the &quot;Recipient Acct&quot; is NOT KNOWN when cheque is written, but only</span>
            <span class="comment">// once the cheque gets deposited. Therefore if type is CHEQUE, then Recipient</span>
            <span class="comment">// Acct ID is not set, and attempts to read it will result in failure.</span>
            <span class="comment">//</span>
            <a class="code" href="class_o_t_payment.html#af2c22e5bf69af419f55c80c7d941b5ba">m_RecipientAcctID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>(); 
            <span class="comment">// --------------------------------</span>
            <a class="code" href="class_o_t_payment.html#aced10b81d79e8d153242949ec99d0fb1">m_VALID_FROM</a>    = theInput.<a class="code" href="class_o_t_instrument.html#a08eb5f25566832e1a67b3e33c0dcc13f">GetValidFrom</a>();      
            <a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a>      = theInput.<a class="code" href="class_o_t_instrument.html#ab83a62f51692c946ff394408026b0c18">GetValidTo</a>();
            <span class="comment">// --------------------------------</span>
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
            
        <span class="keywordflow">default</span>:
            <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::SetTempValuesFromCheque: Error: Wrong type. (Returning false.)\n&quot;</span>);
            <span class="keywordflow">break</span>;
    }

    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9b5558bb68cd1f3fa77bbf80c4c221b4"></a><!-- doxytag: member="OTPayment::SetTempValuesFromPaymentPlan" ref="a9b5558bb68cd1f3fa77bbf80c4c221b4" args="(const OTPaymentPlan &amp;theInput)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a9b5558bb68cd1f3fa77bbf80c4c221b4">OTPayment::SetTempValuesFromPaymentPlan</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_payment_plan.html">OTPaymentPlan</a> &amp;&#160;</td>
          <td class="paramname"><em>theInput</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00345">345</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0a78fc70e3c86977fdac8bb86f5df8fee2">OTPayment::PAYMENT_PLAN</a> == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
    {
        <a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a> = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a>     = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_payment.html#ac1b9934eb3a6a308b2e38a6c5f59f07b">m_bHasRemitter</a>      = <span class="keyword">false</span>;
        <span class="comment">// -------------------------</span>
        <a class="code" href="class_o_t_payment.html#af0f26895e0294e7236e3e920ecf891d4">m_lAmount</a>           = theInput.<a class="code" href="class_o_t_payment_plan.html#a506ef5b79221c9fb130d6c880a27c7b2">GetInitialPaymentAmount</a>();  <span class="comment">// There&#39;re also regular payments of GetPaymentPlanAmount(). Can&#39;t fit &#39;em all.        </span>
        <a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>   = theInput.<a class="code" href="class_o_t_trackable.html#a2594d320e3b24f3210bd38a08de66a70">GetTransactionNum</a>();                
        <span class="comment">// -------------------------</span>
        <span class="comment">// const OTString &amp;  OTPaymentPlan::GetConsideration() const </span>
        <span class="comment">//                  { return m_strConsideration; }</span>
        <span class="keywordflow">if</span> (theInput.<a class="code" href="class_o_t_agreement.html#a242e72e1d0344a0ca85892468ded3dea">GetConsideration</a>().<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
            <a class="code" href="class_o_t_payment.html#a937b80425043a30a0d1ab05e1fe2b3f9">m_strMemo</a>.<a class="code" href="class_o_t_string.html#aa5db620fe8e60c849585d741975db991">Set</a>(theInput.<a class="code" href="class_o_t_agreement.html#a242e72e1d0344a0ca85892468ded3dea">GetConsideration</a>());
        <span class="keywordflow">else</span>
            <a class="code" href="class_o_t_payment.html#a937b80425043a30a0d1ab05e1fe2b3f9">m_strMemo</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
        <span class="comment">// -------------------------</span>
        <a class="code" href="class_o_t_payment.html#a35675f3123df9b419a519f1c5f18ac76">m_AssetTypeID</a>      = theInput.<a class="code" href="class_o_t_instrument.html#a1f6c7b528680d84dcb998d473bdd99a6">GetAssetID</a>();     
        <a class="code" href="class_o_t_payment.html#ab766d430ff41d3fa5978c16d3b327979">m_ServerID</a>         = theInput.<a class="code" href="class_o_t_instrument.html#a878dd8998f7b131b85c082575e255375">GetServerID</a>();     
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment.html#a497ff2afb88d3e1915492c308051478a">m_SenderUserID</a>     = theInput.<a class="code" href="class_o_t_trackable.html#aaf5d36407abeeb35eea54f7acb0c3148">GetSenderUserID</a>();    
        <a class="code" href="class_o_t_payment.html#a5b8b90461586d736e1119938ad20fbe1">m_SenderAcctID</a>     = theInput.<a class="code" href="class_o_t_trackable.html#a3149b0da54958e8da4cf15d26f47711f">GetSenderAcctID</a>();    
        <span class="comment">// ----------------------------        </span>
        <a class="code" href="class_o_t_payment.html#ab272856a722bbadaa7b487d22561119c">m_RecipientUserID</a>  = theInput.<a class="code" href="class_o_t_agreement.html#a87e9b6e7028af7ddfebaee86925e8e7b">GetRecipientUserID</a>();
        <a class="code" href="class_o_t_payment.html#af2c22e5bf69af419f55c80c7d941b5ba">m_RecipientAcctID</a>  = theInput.<a class="code" href="class_o_t_agreement.html#a66300d99a12d32b6825e7e11dfca8614">GetRecipientAcctID</a>();
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment.html#a7f73dc77c02ee3c6cee0b401f75007a6">m_RemitterUserID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
        <a class="code" href="class_o_t_payment.html#a7b8740359d33cbb79ca405c2e9444d4a">m_RemitterAcctID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment.html#aced10b81d79e8d153242949ec99d0fb1">m_VALID_FROM</a>    = theInput.<a class="code" href="class_o_t_instrument.html#a08eb5f25566832e1a67b3e33c0dcc13f">GetValidFrom</a>();
        <a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a>      = theInput.<a class="code" href="class_o_t_instrument.html#ab83a62f51692c946ff394408026b0c18">GetValidTo</a>();
        <span class="comment">// --------------------------------</span>
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">else</span>
        <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::SetTempValuesFromPaymentPlan: Error: Wrong type. (Returning false.)\n&quot;</span>);

    <span class="keywordflow">return</span> <span class="keyword">false</span>;    
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0844d3157fe650bd285e35f665df2b8f"></a><!-- doxytag: member="OTPayment::SetTempValuesFromPurse" ref="a0844d3157fe650bd285e35f665df2b8f" args="(const OTPurse &amp;theInput)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a0844d3157fe650bd285e35f665df2b8f">OTPayment::SetTempValuesFromPurse</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_purse.html">OTPurse</a> &amp;&#160;</td>
          <td class="paramname"><em>theInput</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00427">427</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0adb525a0bf8ba34c3d69b17208631ad2e">OTPayment::PURSE</a> == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
    {
        <a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a> = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a>     = theInput.<a class="code" href="class_o_t_purse.html#aa9fabc0850e503fe1bd507dbe9031915">IsNymIDIncluded</a>();
        <a class="code" href="class_o_t_payment.html#ac1b9934eb3a6a308b2e38a6c5f59f07b">m_bHasRemitter</a>      = <span class="keyword">false</span>;
        <span class="comment">// -------------------------</span>
        <a class="code" href="class_o_t_payment.html#af0f26895e0294e7236e3e920ecf891d4">m_lAmount</a>           = theInput.<a class="code" href="class_o_t_purse.html#a20274bcfe719e3d24450862d24fc5cfd">GetTotalValue</a>();         
        <a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>   = 0; <span class="comment">// (A purse has no transaction number.)</span>
        <span class="comment">// -------------------------</span>
        <a class="code" href="class_o_t_payment.html#a937b80425043a30a0d1ab05e1fe2b3f9">m_strMemo</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>(); <span class="comment">// So far there&#39;s no purse memo (could add it, though.)</span>
        <span class="comment">// -------------------------</span>
        <a class="code" href="class_o_t_payment.html#a35675f3123df9b419a519f1c5f18ac76">m_AssetTypeID</a>   = theInput.<a class="code" href="class_o_t_purse.html#af87e5b076d8d738e6b32e56cc49737c1">GetAssetID</a>();     
        <a class="code" href="class_o_t_payment.html#ab766d430ff41d3fa5978c16d3b327979">m_ServerID</a>      = theInput.<a class="code" href="class_o_t_purse.html#aa6b026618394154f1a7f80064a5e6c50">GetServerID</a>();     
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment.html#a497ff2afb88d3e1915492c308051478a">m_SenderUserID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();    
        <a class="code" href="class_o_t_payment.html#a5b8b90461586d736e1119938ad20fbe1">m_SenderAcctID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();    
        <span class="comment">// ----------------------------        </span>
        <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a> || !theInput.<a class="code" href="class_o_t_purse.html#acd79fd6aebc25bb41034efc059ac77e6">GetNymID</a>(<a class="code" href="class_o_t_payment.html#ab272856a722bbadaa7b487d22561119c">m_RecipientUserID</a>))
        {
            <a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a> = <span class="keyword">false</span>;
            <a class="code" href="class_o_t_payment.html#ab272856a722bbadaa7b487d22561119c">m_RecipientUserID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
        }
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment.html#af2c22e5bf69af419f55c80c7d941b5ba">m_RecipientAcctID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
        <span class="comment">// --------------------------------</span>
        <a class="code" href="class_o_t_payment.html#a7f73dc77c02ee3c6cee0b401f75007a6">m_RemitterUserID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
        <a class="code" href="class_o_t_payment.html#a7b8740359d33cbb79ca405c2e9444d4a">m_RemitterAcctID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment.html#aced10b81d79e8d153242949ec99d0fb1">m_VALID_FROM</a> = theInput.<a class="code" href="class_o_t_purse.html#a119cc1d12894285669ea8cbe3149fb42">GetLatestValidFrom</a>();
        <a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a>   = theInput.<a class="code" href="class_o_t_purse.html#ae4cc3a72c406fc07d39ab9f2368cea5d">GetEarliestValidTo</a>();
        <span class="comment">// --------------------------------</span>
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">else</span>
        <a class="code" href="class_o_t_log.html#a5acd90ac91c2618f395b0ff37ad4f8ee">OTLog::Error</a>(<span class="stringliteral">&quot;OTPayment::SetTempValuesFromPurse: Error: Wrong type. (Returning false.)\n&quot;</span>);
    
    <span class="keywordflow">return</span> <span class="keyword">false</span>;    
}
</pre></div>
</div>
</div>
<a class="anchor" id="a66d6bbed423969e833fe13562fdfcd94"></a><!-- doxytag: member="OTPayment::SetTempValuesFromSmartContract" ref="a66d6bbed423969e833fe13562fdfcd94" args="(const OTSmartContract &amp;theInput)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a66d6bbed423969e833fe13562fdfcd94">OTPayment::SetTempValuesFromSmartContract</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_t_smart_contract.html">OTSmartContract</a> &amp;&#160;</td>
          <td class="paramname"><em>theInput</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00387">387</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0ac5f087c87496d75a8a50790118d057f1">OTPayment::SMART_CONTRACT</a> == <a class="code" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">m_Type</a>)
    {
        <a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a> = <span class="keyword">true</span>;
        <a class="code" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">m_bHasRecipient</a>     = <span class="keyword">false</span>;
        <a class="code" href="class_o_t_payment.html#ac1b9934eb3a6a308b2e38a6c5f59f07b">m_bHasRemitter</a>      = <span class="keyword">false</span>;
        <span class="comment">// -------------------------</span>
        <a class="code" href="class_o_t_payment.html#af0f26895e0294e7236e3e920ecf891d4">m_lAmount</a>           = 0; <span class="comment">// not used here.</span>
        <a class="code" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">m_lTransactionNum</a>   = theInput.<a class="code" href="class_o_t_trackable.html#a2594d320e3b24f3210bd38a08de66a70">GetTransactionNum</a>();                
        <span class="comment">// -------------------------</span>
        <span class="comment">// Note: Maybe later, store the Smart Contract&#39;s temporary name, or ID, in the memo field. </span>
        <span class="comment">// Or something.</span>
        <span class="comment">//</span>
        <a class="code" href="class_o_t_payment.html#a937b80425043a30a0d1ab05e1fe2b3f9">m_strMemo</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>(); <span class="comment">// not used here.</span>
        <span class="comment">// -------------------------</span>
        <a class="code" href="class_o_t_payment.html#ab766d430ff41d3fa5978c16d3b327979">m_ServerID</a>      = theInput.<a class="code" href="class_o_t_instrument.html#a878dd8998f7b131b85c082575e255375">GetServerID</a>();     
        <a class="code" href="class_o_t_payment.html#a35675f3123df9b419a519f1c5f18ac76">m_AssetTypeID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>(); <span class="comment">// not used here.</span>
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment.html#a497ff2afb88d3e1915492c308051478a">m_SenderUserID</a>  = theInput.<a class="code" href="class_o_t_trackable.html#aaf5d36407abeeb35eea54f7acb0c3148">GetSenderUserID</a>();    
        <a class="code" href="class_o_t_payment.html#a5b8b90461586d736e1119938ad20fbe1">m_SenderAcctID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();    
        <span class="comment">// ----------------------------        </span>
        <a class="code" href="class_o_t_payment.html#ab272856a722bbadaa7b487d22561119c">m_RecipientUserID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>(); <span class="comment">// not used here.</span>
        <a class="code" href="class_o_t_payment.html#af2c22e5bf69af419f55c80c7d941b5ba">m_RecipientAcctID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>(); <span class="comment">// not used here.</span>
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment.html#a7f73dc77c02ee3c6cee0b401f75007a6">m_RemitterUserID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
        <a class="code" href="class_o_t_payment.html#a7b8740359d33cbb79ca405c2e9444d4a">m_RemitterAcctID</a>.<a class="code" href="class_o_t_data.html#aab9a5758e85597ef1d7250bcf2cc56a6">Release</a>();
        <span class="comment">// ----------------------------</span>
        <a class="code" href="class_o_t_payment.html#aced10b81d79e8d153242949ec99d0fb1">m_VALID_FROM</a>    = theInput.<a class="code" href="class_o_t_instrument.html#a08eb5f25566832e1a67b3e33c0dcc13f">GetValidFrom</a>();
        <a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a>      = theInput.<a class="code" href="class_o_t_instrument.html#ab83a62f51692c946ff394408026b0c18">GetValidTo</a>();
        <span class="comment">// --------------------------------</span>
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">else</span>
        <a class="code" href="class_o_t_log.html#acd1264f26723485de0783186149b0eca">OTLog::vError</a>(<span class="stringliteral">&quot;%s: Error: Wrong type. (Returning false.)\n&quot;</span>, __FUNCTION__);

    <span class="keywordflow">return</span> <span class="keyword">false</span>;    
}
</pre></div>
</div>
</div>
<a class="anchor" id="a17c8cdcdc40ec8a56c7ccc268ea656a0"></a><!-- doxytag: member="OTPayment::UpdateContents" ref="a17c8cdcdc40ec8a56c7ccc268ea656a0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_o_t_payment.html#a17c8cdcdc40ec8a56c7ccc268ea656a0">OTPayment::UpdateContents</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_o_t_contract.html#a78c28164555e2eb79d6b67698421638d">OTContract</a>.</p>

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l01615">1615</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{   
    <span class="comment">// I release this because I&#39;m about to repopulate it.</span>
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#abef4b21b2170468705c58d64212d7257">Release</a>();
    
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;?xml version=\&quot;%s\&quot;?&gt;\n\n&quot;</span>, <span class="stringliteral">&quot;1.0&quot;</span>);     
    
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;payment version=\&quot;%s\&quot;\n&quot;</span>
                              <span class="stringliteral">&quot; type=\&quot;%s\&quot;&gt;\n\n&quot;</span>,
                              <a class="code" href="class_o_t_contract.html#aa0d889e0e1670b56fedca245041a5ed3">m_strVersion</a>.<a class="code" href="class_o_t_string.html#af87b3b43148de9b1425ed8e9348241d3">Get</a>(),
                              this-&gt;<a class="code" href="class_o_t_payment.html#a2ed80244fa3583b81f87abf8fc526f67">GetTypeString</a>());       
    
    <span class="keywordflow">if</span> (<a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>.<a class="code" href="class_o_t_string.html#adf7489cd917d4ae5bf30853a3ad78daf">Exists</a>())
    {
        <span class="keyword">const</span> <a class="code" href="class_o_t_a_s_c_i_i_armor.html">OTASCIIArmor</a> ascContents(<a class="code" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">m_strPayment</a>);
        
        <span class="keywordflow">if</span> (ascContents.Exists())
            <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;contents&gt;\n%s&lt;/contents&gt;\n\n&quot;</span>, ascContents.Get());
    }
    
    <a class="code" href="class_o_t_contract.html#a087fc09cfa4b2fd9076088360a5e5039">m_xmlUnsigned</a>.<a class="code" href="class_o_t_string.html#a86e54de385040ff6769d7f2149ce176b">Concatenate</a>(<span class="stringliteral">&quot;&lt;/payment&gt;\n&quot;</span>);          
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8831dc6de72e6932d5a0d6e40a7d87a0"></a><!-- doxytag: member="OTPayment::VerifyCurrentDate" ref="a8831dc6de72e6932d5a0d6e40a7d87a0" args="(bool &amp;bVerified)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a8831dc6de72e6932d5a0d6e40a7d87a0">OTPayment::VerifyCurrentDate</a> </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>bVerified</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8cpp_source.html#l00974">974</a> of file <a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">m_bAreTempValuesSet</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="comment">// ---------------------------------</span>
    <span class="keyword">const</span> <a class="code" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a> CURRENT_TIME =   <a class="code" href="_o_t_common_8hpp.html#a1163606b2546b160d50c5f0a5afe479a">OTTimeGetCurrentTime</a>();
    <span class="comment">// ---------------------------------</span>
    <span class="keywordflow">if</span> ((CURRENT_TIME &gt;= <a class="code" href="class_o_t_payment.html#aced10b81d79e8d153242949ec99d0fb1">m_VALID_FROM</a>) &amp;&amp;
        ((CURRENT_TIME &lt;= <a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a>) || (<a class="code" href="_o_t_common_8hpp.html#af4ca9fa2c7c290d647dd18de0a9ac25f">OT_TIME_ZERO</a> == <a class="code" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">m_VALID_TO</a>)))
        bVerified = <span class="keyword">true</span>;
    <span class="keywordflow">else</span>
        bVerified = <span class="keyword">false</span>;
    <span class="comment">// ---------------------------------</span>
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a35675f3123df9b419a519f1c5f18ac76"></a><!-- doxytag: member="OTPayment::m_AssetTypeID" ref="a35675f3123df9b419a519f1c5f18ac76" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> <a class="el" href="class_o_t_payment.html#a35675f3123df9b419a519f1c5f18ac76">OTPayment::m_AssetTypeID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00236">236</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab700002262d770260e561ebefc937e21"></a><!-- doxytag: member="OTPayment::m_bAreTempValuesSet" ref="ab700002262d770260e561ebefc937e21" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#ab700002262d770260e561ebefc937e21">OTPayment::m_bAreTempValuesSet</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00223">223</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a86794f33f66805e470a3db542026a0f3"></a><!-- doxytag: member="OTPayment::m_bHasRecipient" ref="a86794f33f66805e470a3db542026a0f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#a86794f33f66805e470a3db542026a0f3">OTPayment::m_bHasRecipient</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00228">228</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac1b9934eb3a6a308b2e38a6c5f59f07b"></a><!-- doxytag: member="OTPayment::m_bHasRemitter" ref="ac1b9934eb3a6a308b2e38a6c5f59f07b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_t_payment.html#ac1b9934eb3a6a308b2e38a6c5f59f07b">OTPayment::m_bHasRemitter</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00229">229</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af0f26895e0294e7236e3e920ecf891d4"></a><!-- doxytag: member="OTPayment::m_lAmount" ref="af0f26895e0294e7236e3e920ecf891d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="class_o_t_payment.html#af0f26895e0294e7236e3e920ecf891d4">OTPayment::m_lAmount</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00231">231</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af708bbe7b17518034fbe6746be23bf17"></a><!-- doxytag: member="OTPayment::m_lTransactionNum" ref="af708bbe7b17518034fbe6746be23bf17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="class_o_t_payment.html#af708bbe7b17518034fbe6746be23bf17">OTPayment::m_lTransactionNum</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00232">232</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af2c22e5bf69af419f55c80c7d941b5ba"></a><!-- doxytag: member="OTPayment::m_RecipientAcctID" ref="af2c22e5bf69af419f55c80c7d941b5ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> <a class="el" href="class_o_t_payment.html#af2c22e5bf69af419f55c80c7d941b5ba">OTPayment::m_RecipientAcctID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00242">242</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab272856a722bbadaa7b487d22561119c"></a><!-- doxytag: member="OTPayment::m_RecipientUserID" ref="ab272856a722bbadaa7b487d22561119c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> <a class="el" href="class_o_t_payment.html#ab272856a722bbadaa7b487d22561119c">OTPayment::m_RecipientUserID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00241">241</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7b8740359d33cbb79ca405c2e9444d4a"></a><!-- doxytag: member="OTPayment::m_RemitterAcctID" ref="a7b8740359d33cbb79ca405c2e9444d4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> <a class="el" href="class_o_t_payment.html#a7b8740359d33cbb79ca405c2e9444d4a">OTPayment::m_RemitterAcctID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00245">245</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7f73dc77c02ee3c6cee0b401f75007a6"></a><!-- doxytag: member="OTPayment::m_RemitterUserID" ref="a7f73dc77c02ee3c6cee0b401f75007a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> <a class="el" href="class_o_t_payment.html#a7f73dc77c02ee3c6cee0b401f75007a6">OTPayment::m_RemitterUserID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00244">244</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5b8b90461586d736e1119938ad20fbe1"></a><!-- doxytag: member="OTPayment::m_SenderAcctID" ref="a5b8b90461586d736e1119938ad20fbe1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> <a class="el" href="class_o_t_payment.html#a5b8b90461586d736e1119938ad20fbe1">OTPayment::m_SenderAcctID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00240">240</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a497ff2afb88d3e1915492c308051478a"></a><!-- doxytag: member="OTPayment::m_SenderUserID" ref="a497ff2afb88d3e1915492c308051478a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> <a class="el" href="class_o_t_payment.html#a497ff2afb88d3e1915492c308051478a">OTPayment::m_SenderUserID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00239">239</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab766d430ff41d3fa5978c16d3b327979"></a><!-- doxytag: member="OTPayment::m_ServerID" ref="ab766d430ff41d3fa5978c16d3b327979" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_identifier.html">OTIdentifier</a> <a class="el" href="class_o_t_payment.html#ab766d430ff41d3fa5978c16d3b327979">OTPayment::m_ServerID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00237">237</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a937b80425043a30a0d1ab05e1fe2b3f9"></a><!-- doxytag: member="OTPayment::m_strMemo" ref="a937b80425043a30a0d1ab05e1fe2b3f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_payment.html#a937b80425043a30a0d1ab05e1fe2b3f9">OTPayment::m_strMemo</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00234">234</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="adc027c4d389a722a07bf92b546586bfd"></a><!-- doxytag: member="OTPayment::m_strPayment" ref="adc027c4d389a722a07bf92b546586bfd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_string.html">OTString</a> <a class="el" href="class_o_t_payment.html#adc027c4d389a722a07bf92b546586bfd">OTPayment::m_strPayment</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00217">217</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a33a1106be8551307d84efb9bce3f0026"></a><!-- doxytag: member="OTPayment::m_Type" ref="a33a1106be8551307d84efb9bce3f0026" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_t_payment.html#aff3d9ae26dc36bc91037fe53db0d55d0">paymentType</a> <a class="el" href="class_o_t_payment.html#a33a1106be8551307d84efb9bce3f0026">OTPayment::m_Type</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00218">218</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aced10b81d79e8d153242949ec99d0fb1"></a><!-- doxytag: member="OTPayment::m_VALID_FROM" ref="aced10b81d79e8d153242949ec99d0fb1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a> <a class="el" href="class_o_t_payment.html#aced10b81d79e8d153242949ec99d0fb1">OTPayment::m_VALID_FROM</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00247">247</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aee5ba4f227491b2ee7940a35a40b0cab"></a><!-- doxytag: member="OTPayment::m_VALID_TO" ref="aee5ba4f227491b2ee7940a35a40b0cab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_o_t_common_8hpp.html#ad28ff0a3eda18840f6bda5872819167f">time64_t</a> <a class="el" href="class_o_t_payment.html#aee5ba4f227491b2ee7940a35a40b0cab">OTPayment::m_VALID_TO</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_t_payment_8hpp_source.html#l00248">248</a> of file <a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/otlib/<a class="el" href="_o_t_payment_8hpp_source.html">OTPayment.hpp</a></li>
<li>src/otlib/<a class="el" href="_o_t_payment_8cpp_source.html">OTPayment.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_o_t_payment.html">OTPayment</a>      </li>

    <li class="footer">Generated on Wed May 21 2014 11:26:14 for Open-Transactions by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
